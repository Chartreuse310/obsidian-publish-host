/**
 * @licstart The following is the entire license notice for the
 * JavaScript code in this page
 *
 * Copyright 2023 Mozilla Foundation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @licend The above is the entire license notice for the
 * JavaScript code in this page
 */
!function webpackUniversalModuleDefinition(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("pdfjs-dist/build/viewer-api",[],t):"object"==typeof exports?exports["pdfjs-dist/build/viewer-api"]=t():e["pdfjs-dist/build/viewer-api"]=e.pdfjsViewer=t()}(globalThis,(()=>(()=>{var e=[,(e,t,i)=>{var n=i(2),r=i(3),s=i(4),a=i(9),o=i(63),l=i(19),c=l("iterator"),d=l("toStringTag"),h=a.values,handlePrototype=function(e,t){if(e){if(e[c]!==h)try{o(e,c,h)}catch(t){e[c]=h}e[d]||o(e,d,t);if(r[t])for(var i in a)if(e[i]!==a[i])try{o(e,i,a[i])}catch(t){e[i]=a[i]}}};for(var u in r)handlePrototype(n[u]&&n[u].prototype,u);handlePrototype(s,"DOMTokenList")},function(e){var check=function(e){return e&&e.Math==Math&&e};e.exports=check("object"==typeof globalThis&&globalThis)||check("object"==typeof window&&window)||check("object"==typeof self&&self)||check("object"==typeof global&&global)||function(){return this}()||this||Function("return this")()},e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},(e,t,i)=>{var n=i(5)("span").classList,r=n&&n.constructor&&n.constructor.prototype;e.exports=r===Object.prototype?void 0:r},(e,t,i)=>{var n=i(2),r=i(6),s=n.document,a=r(s)&&r(s.createElement);e.exports=function(e){return a?s.createElement(e):{}}},(e,t,i)=>{var n=i(7),r=i(8),s=r.all;e.exports=r.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:n(e)||e===s}:function(e){return"object"==typeof e?null!==e:n(e)}},(e,t,i)=>{var n=i(8),r=n.all;e.exports=n.IS_HTMLDDA?function(e){return"function"==typeof e||e===r}:function(e){return"function"==typeof e}},e=>{var t="object"==typeof document&&document.all,i=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:i}},(e,t,i)=>{"use strict";var n=i(10),r=i(18),s=i(60),a=i(61),o=i(36).f,l=i(65),c=i(86),d=i(21),h=i(34),u="Array Iterator",p=a.set,f=a.getterFor(u);e.exports=l(Array,"Array",(function(e,t){p(this,{type:u,target:n(e),index:0,kind:t})}),(function(){var e=f(this),t=e.target,i=e.kind,n=e.index++;if(!t||n>=t.length){e.target=void 0;return c(void 0,!0)}return c("keys"==i?n:"values"==i?t[n]:[n,t[n]],!1)}),"values");var g=s.Arguments=s.Array;r("keys");r("values");r("entries");if(!d&&h&&"values"!==g.name)try{o(g,"name",{value:"values"})}catch(e){}},(e,t,i)=>{var n=i(11),r=i(16);e.exports=function(e){return n(r(e))}},(e,t,i)=>{var n=i(12),r=i(14),s=i(15),a=Object,o=n("".split);e.exports=r((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==s(e)?o(e,""):a(e)}:a},(e,t,i)=>{var n=i(13),r=Function.prototype,s=r.call,a=n&&r.bind.bind(s,s);e.exports=n?a:function(e){return function(){return s.apply(e,arguments)}}},(e,t,i)=>{var n=i(14);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},(e,t,i)=>{var n=i(12),r=n({}.toString),s=n("".slice);e.exports=function(e){return s(r(e),8,-1)}},(e,t,i)=>{var n=i(17),r=TypeError;e.exports=function(e){if(n(e))throw r("Can't call method on "+e);return e}},e=>{e.exports=function(e){return null==e}},(e,t,i)=>{var n=i(19),r=i(31),s=i(36).f,a=n("unscopables"),o=Array.prototype;null==o[a]&&s(o,a,{configurable:!0,value:r(null)});e.exports=function(e){o[a][e]=!0}},(e,t,i)=>{var n=i(2),r=i(20),s=i(24),a=i(26),o=i(27),l=i(30),c=n.Symbol,d=r("wks"),h=l?c.for||c:c&&c.withoutSetter||a;e.exports=function(e){s(d,e)||(d[e]=o&&s(c,e)?c[e]:h("Symbol."+e));return d[e]}},(e,t,i)=>{var n=i(21),r=i(22);(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.31.1",mode:n?"pure":"global",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.31.1/LICENSE",source:"https://github.com/zloirock/core-js"})},e=>{e.exports=!1},(e,t,i)=>{var n=i(2),r=i(23),s="__core-js_shared__",a=n[s]||r(s,{});e.exports=a},(e,t,i)=>{var n=i(2),r=Object.defineProperty;e.exports=function(e,t){try{r(n,e,{value:t,configurable:!0,writable:!0})}catch(i){n[e]=t}return t}},(e,t,i)=>{var n=i(12),r=i(25),s=n({}.hasOwnProperty);e.exports=Object.hasOwn||function hasOwn(e,t){return s(r(e),t)}},(e,t,i)=>{var n=i(16),r=Object;e.exports=function(e){return r(n(e))}},(e,t,i)=>{var n=i(12),r=0,s=Math.random(),a=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++r+s,36)}},(e,t,i)=>{var n=i(28),r=i(14),s=i(2).String;e.exports=!!Object.getOwnPropertySymbols&&!r((function(){var e=Symbol();return!s(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},(e,t,i)=>{var n,r,s=i(2),a=i(29),o=s.process,l=s.Deno,c=o&&o.versions||l&&l.version,d=c&&c.v8;d&&(r=(n=d.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1]));!r&&a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(r=+n[1]);e.exports=r},e=>{e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},(e,t,i)=>{var n=i(27);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},(e,t,i)=>{var n,r=i(32),s=i(33),a=i(57),o=i(56),l=i(58),c=i(5),d=i(59),h="prototype",u="script",p=d("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(e){return"<"+u+">"+e+"</"+u+">"},NullProtoObjectViaActiveX=function(e){e.write(scriptTag(""));e.close();var t=e.parentWindow.Object;e=null;return t},NullProtoObject=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}NullProtoObject="undefined"!=typeof document?document.domain&&n?NullProtoObjectViaActiveX(n):function(){var e,t=c("iframe"),i="java"+u+":";t.style.display="none";l.appendChild(t);t.src=String(i);(e=t.contentWindow.document).open();e.write(scriptTag("document.F=Object"));e.close();return e.F}():NullProtoObjectViaActiveX(n);for(var e=a.length;e--;)delete NullProtoObject[h][a[e]];return NullProtoObject()};o[p]=!0;e.exports=Object.create||function create(e,t){var i;if(null!==e){EmptyConstructor[h]=r(e);i=new EmptyConstructor;EmptyConstructor[h]=null;i[p]=e}else i=NullProtoObject();return void 0===t?i:s.f(i,t)}},(e,t,i)=>{var n=i(6),r=String,s=TypeError;e.exports=function(e){if(n(e))return e;throw s(r(e)+" is not an object")}},(e,t,i)=>{var n=i(34),r=i(35),s=i(36),a=i(32),o=i(10),l=i(48);t.f=n&&!r?Object.defineProperties:function defineProperties(e,t){a(e);for(var i,n=o(t),r=l(t),c=r.length,d=0;c>d;)s.f(e,i=r[d++],n[i]);return e}},(e,t,i)=>{var n=i(14);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},(e,t,i)=>{var n=i(34),r=i(14);e.exports=n&&r((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},(e,t,i)=>{var n=i(34),r=i(37),s=i(35),a=i(32),o=i(38),l=TypeError,c=Object.defineProperty,d=Object.getOwnPropertyDescriptor,h="enumerable",u="configurable",p="writable";t.f=n?s?function defineProperty(e,t,i){a(e);t=o(t);a(i);if("function"==typeof e&&"prototype"===t&&"value"in i&&p in i&&!i[p]){var n=d(e,t);if(n&&n[p]){e[t]=i.value;i={configurable:u in i?i[u]:n[u],enumerable:h in i?i[h]:n[h],writable:!1}}}return c(e,t,i)}:c:function defineProperty(e,t,i){a(e);t=o(t);a(i);if(r)try{return c(e,t,i)}catch(e){}if("get"in i||"set"in i)throw l("Accessors not supported");"value"in i&&(e[t]=i.value);return e}},(e,t,i)=>{var n=i(34),r=i(14),s=i(5);e.exports=!n&&!r((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},(e,t,i)=>{var n=i(39),r=i(41);e.exports=function(e){var t=n(e,"string");return r(t)?t:t+""}},(e,t,i)=>{var n=i(40),r=i(6),s=i(41),a=i(44),o=i(47),l=i(19),c=TypeError,d=l("toPrimitive");e.exports=function(e,t){if(!r(e)||s(e))return e;var i,l=a(e,d);if(l){void 0===t&&(t="default");i=n(l,e,t);if(!r(i)||s(i))return i;throw c("Can't convert object to primitive value")}void 0===t&&(t="number");return o(e,t)}},(e,t,i)=>{var n=i(13),r=Function.prototype.call;e.exports=n?r.bind(r):function(){return r.apply(r,arguments)}},(e,t,i)=>{var n=i(42),r=i(7),s=i(43),a=i(30),o=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return r(t)&&s(t.prototype,o(e))}},(e,t,i)=>{var n=i(2),r=i(7);e.exports=function(e,t){return arguments.length<2?(i=n[e],r(i)?i:void 0):n[e]&&n[e][t];var i}},(e,t,i)=>{var n=i(12);e.exports=n({}.isPrototypeOf)},(e,t,i)=>{var n=i(45),r=i(17);e.exports=function(e,t){var i=e[t];return r(i)?void 0:n(i)}},(e,t,i)=>{var n=i(7),r=i(46),s=TypeError;e.exports=function(e){if(n(e))return e;throw s(r(e)+" is not a function")}},e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},(e,t,i)=>{var n=i(40),r=i(7),s=i(6),a=TypeError;e.exports=function(e,t){var i,o;if("string"===t&&r(i=e.toString)&&!s(o=n(i,e)))return o;if(r(i=e.valueOf)&&!s(o=n(i,e)))return o;if("string"!==t&&r(i=e.toString)&&!s(o=n(i,e)))return o;throw a("Can't convert object to primitive value")}},(e,t,i)=>{var n=i(49),r=i(57);e.exports=Object.keys||function keys(e){return n(e,r)}},(e,t,i)=>{var n=i(12),r=i(24),s=i(10),a=i(50).indexOf,o=i(56),l=n([].push);e.exports=function(e,t){var i,n=s(e),c=0,d=[];for(i in n)!r(o,i)&&r(n,i)&&l(d,i);for(;t.length>c;)r(n,i=t[c++])&&(~a(d,i)||l(d,i));return d}},(e,t,i)=>{var n=i(10),r=i(51),s=i(54),createMethod=function(e){return function(t,i,a){var o,l=n(t),c=s(l),d=r(a,c);if(e&&i!=i){for(;c>d;)if((o=l[d++])!=o)return!0}else for(;c>d;d++)if((e||d in l)&&l[d]===i)return e||d||0;return!e&&-1}};e.exports={includes:createMethod(!0),indexOf:createMethod(!1)}},(e,t,i)=>{var n=i(52),r=Math.max,s=Math.min;e.exports=function(e,t){var i=n(e);return i<0?r(i+t,0):s(i,t)}},(e,t,i)=>{var n=i(53);e.exports=function(e){var t=+e;return t!=t||0===t?0:n(t)}},e=>{var t=Math.ceil,i=Math.floor;e.exports=Math.trunc||function trunc(e){var n=+e;return(n>0?i:t)(n)}},(e,t,i)=>{var n=i(55);e.exports=function(e){return n(e.length)}},(e,t,i)=>{var n=i(52),r=Math.min;e.exports=function(e){return e>0?r(n(e),9007199254740991):0}},e=>{e.exports={}},e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(e,t,i)=>{var n=i(42);e.exports=n("document","documentElement")},(e,t,i)=>{var n=i(20),r=i(26),s=n("keys");e.exports=function(e){return s[e]||(s[e]=r(e))}},e=>{e.exports={}},(e,t,i)=>{var n,r,s,a=i(62),o=i(2),l=i(6),c=i(63),d=i(24),h=i(22),u=i(59),p=i(56),f="Object already initialized",g=o.TypeError,v=o.WeakMap;if(a||h.state){var _=h.state||(h.state=new v);_.get=_.get;_.has=_.has;_.set=_.set;n=function(e,t){if(_.has(e))throw g(f);t.facade=e;_.set(e,t);return t};r=function(e){return _.get(e)||{}};s=function(e){return _.has(e)}}else{var w=u("state");p[w]=!0;n=function(e,t){if(d(e,w))throw g(f);t.facade=e;c(e,w,t);return t};r=function(e){return d(e,w)?e[w]:{}};s=function(e){return d(e,w)}}e.exports={set:n,get:r,has:s,enforce:function(e){return s(e)?r(e):n(e,{})},getterFor:function(e){return function(t){var i;if(!l(t)||(i=r(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return i}}}},(e,t,i)=>{var n=i(2),r=i(7),s=n.WeakMap;e.exports=r(s)&&/native code/.test(String(s))},(e,t,i)=>{var n=i(34),r=i(36),s=i(64);e.exports=n?function(e,t,i){return r.f(e,t,s(1,i))}:function(e,t,i){e[t]=i;return e}},e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},(e,t,i)=>{"use strict";var n=i(66),r=i(40),s=i(21),a=i(71),o=i(7),l=i(78),c=i(80),d=i(83),h=i(82),u=i(63),p=i(69),f=i(19),g=i(60),v=i(79),_=a.PROPER,w=a.CONFIGURABLE,m=v.IteratorPrototype,P=v.BUGGY_SAFARI_ITERATORS,b=f("iterator"),S="keys",y="values",E="entries",returnThis=function(){return this};e.exports=function(e,t,i,a,f,v,M){l(i,t,a);var I,T,C,getIterationMethod=function(e){if(e===f&&A)return A;if(!P&&e in x)return x[e];switch(e){case S:return function keys(){return new i(this,e)};case y:return function values(){return new i(this,e)};case E:return function entries(){return new i(this,e)}}return function(){return new i(this)}},L=t+" Iterator",k=!1,x=e.prototype,D=x[b]||x["@@iterator"]||f&&x[f],A=!P&&D||getIterationMethod(f),V="Array"==t&&x.entries||D;if(V&&(I=c(V.call(new e)))!==Object.prototype&&I.next){s||c(I)===m||(d?d(I,m):o(I[b])||p(I,b,returnThis));h(I,L,!0,!0);s&&(g[L]=returnThis)}if(_&&f==y&&D&&D.name!==y)if(!s&&w)u(x,"name",y);else{k=!0;A=function values(){return r(D,this)}}if(f){T={values:getIterationMethod(y),keys:v?A:getIterationMethod(S),entries:getIterationMethod(E)};if(M)for(C in T)(P||k||!(C in x))&&p(x,C,T[C]);else n({target:t,proto:!0,forced:P||k},T)}s&&!M||x[b]===A||p(x,b,A,{name:f});g[t]=A;return T}},(e,t,i)=>{var n=i(2),r=i(67).f,s=i(63),a=i(69),o=i(23),l=i(73),c=i(77);e.exports=function(e,t){var i,d,h,u,p,f=e.target,g=e.global,v=e.stat;if(i=g?n:v?n[f]||o(f,{}):(n[f]||{}).prototype)for(d in t){u=t[d];h=e.dontCallGetSet?(p=r(i,d))&&p.value:i[d];if(!c(g?d:f+(v?".":"#")+d,e.forced)&&void 0!==h){if(typeof u==typeof h)continue;l(u,h)}(e.sham||h&&h.sham)&&s(u,"sham",!0);a(i,d,u,e)}}},(e,t,i)=>{var n=i(34),r=i(40),s=i(68),a=i(64),o=i(10),l=i(38),c=i(24),d=i(37),h=Object.getOwnPropertyDescriptor;t.f=n?h:function getOwnPropertyDescriptor(e,t){e=o(e);t=l(t);if(d)try{return h(e,t)}catch(e){}if(c(e,t))return a(!r(s.f,e,t),e[t])}},(e,t)=>{"use strict";var i={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,r=n&&!i.call({1:2},1);t.f=r?function propertyIsEnumerable(e){var t=n(this,e);return!!t&&t.enumerable}:i},(e,t,i)=>{var n=i(7),r=i(36),s=i(70),a=i(23);e.exports=function(e,t,i,o){o||(o={});var l=o.enumerable,c=void 0!==o.name?o.name:t;n(i)&&s(i,c,o);if(o.global)l?e[t]=i:a(t,i);else{try{o.unsafe?e[t]&&(l=!0):delete e[t]}catch(e){}l?e[t]=i:r.f(e,t,{value:i,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})}return e}},(e,t,i)=>{var n=i(12),r=i(14),s=i(7),a=i(24),o=i(34),l=i(71).CONFIGURABLE,c=i(72),d=i(61),h=d.enforce,u=d.get,p=String,f=Object.defineProperty,g=n("".slice),v=n("".replace),_=n([].join),w=o&&!r((function(){return 8!==f((function(){}),"length",{value:8}).length})),m=String(String).split("String"),P=e.exports=function(e,t,i){"Symbol("===g(p(t),0,7)&&(t="["+v(p(t),/^Symbol\(([^)]*)\)/,"$1")+"]");i&&i.getter&&(t="get "+t);i&&i.setter&&(t="set "+t);(!a(e,"name")||l&&e.name!==t)&&(o?f(e,"name",{value:t,configurable:!0}):e.name=t);w&&i&&a(i,"arity")&&e.length!==i.arity&&f(e,"length",{value:i.arity});try{i&&a(i,"constructor")&&i.constructor?o&&f(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var n=h(e);a(n,"source")||(n.source=_(m,"string"==typeof t?t:""));return e};Function.prototype.toString=P((function toString(){return s(this)&&u(this).source||c(this)}),"toString")},(e,t,i)=>{var n=i(34),r=i(24),s=Function.prototype,a=n&&Object.getOwnPropertyDescriptor,o=r(s,"name"),l=o&&"something"===function something(){}.name,c=o&&(!n||n&&a(s,"name").configurable);e.exports={EXISTS:o,PROPER:l,CONFIGURABLE:c}},(e,t,i)=>{var n=i(12),r=i(7),s=i(22),a=n(Function.toString);r(s.inspectSource)||(s.inspectSource=function(e){return a(e)});e.exports=s.inspectSource},(e,t,i)=>{var n=i(24),r=i(74),s=i(67),a=i(36);e.exports=function(e,t,i){for(var o=r(t),l=a.f,c=s.f,d=0;d<o.length;d++){var h=o[d];n(e,h)||i&&n(i,h)||l(e,h,c(t,h))}}},(e,t,i)=>{var n=i(42),r=i(12),s=i(75),a=i(76),o=i(32),l=r([].concat);e.exports=n("Reflect","ownKeys")||function ownKeys(e){var t=s.f(o(e)),i=a.f;return i?l(t,i(e)):t}},(e,t,i)=>{var n=i(49),r=i(57).concat("length","prototype");t.f=Object.getOwnPropertyNames||function getOwnPropertyNames(e){return n(e,r)}},(e,t)=>{t.f=Object.getOwnPropertySymbols},(e,t,i)=>{var n=i(14),r=i(7),s=/#|\.prototype\./,isForced=function(e,t){var i=o[a(e)];return i==c||i!=l&&(r(t)?n(t):!!t)},a=isForced.normalize=function(e){return String(e).replace(s,".").toLowerCase()},o=isForced.data={},l=isForced.NATIVE="N",c=isForced.POLYFILL="P";e.exports=isForced},(e,t,i)=>{"use strict";var n=i(79).IteratorPrototype,r=i(31),s=i(64),a=i(82),o=i(60),returnThis=function(){return this};e.exports=function(e,t,i,l){var c=t+" Iterator";e.prototype=r(n,{next:s(+!l,i)});a(e,c,!1,!0);o[c]=returnThis;return e}},(e,t,i)=>{"use strict";var n,r,s,a=i(14),o=i(7),l=i(6),c=i(31),d=i(80),h=i(69),u=i(19),p=i(21),f=u("iterator"),g=!1;[].keys&&("next"in(s=[].keys())?(r=d(d(s)))!==Object.prototype&&(n=r):g=!0);!l(n)||a((function(){var e={};return n[f].call(e)!==e}))?n={}:p&&(n=c(n));o(n[f])||h(n,f,(function(){return this}));e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:g}},(e,t,i)=>{var n=i(24),r=i(7),s=i(25),a=i(59),o=i(81),l=a("IE_PROTO"),c=Object,d=c.prototype;e.exports=o?c.getPrototypeOf:function(e){var t=s(e);if(n(t,l))return t[l];var i=t.constructor;return r(i)&&t instanceof i?i.prototype:t instanceof c?d:null}},(e,t,i)=>{var n=i(14);e.exports=!n((function(){function F(){}F.prototype.constructor=null;return Object.getPrototypeOf(new F)!==F.prototype}))},(e,t,i)=>{var n=i(36).f,r=i(24),s=i(19)("toStringTag");e.exports=function(e,t,i){e&&!i&&(e=e.prototype);e&&!r(e,s)&&n(e,s,{configurable:!0,value:t})}},(e,t,i)=>{var n=i(84),r=i(32),s=i(85);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,i={};try{(e=n(Object.prototype,"__proto__","set"))(i,[]);t=i instanceof Array}catch(e){}return function setPrototypeOf(i,n){r(i);s(n);t?e(i,n):i.__proto__=n;return i}}():void 0)},(e,t,i)=>{var n=i(12),r=i(45);e.exports=function(e,t,i){try{return n(r(Object.getOwnPropertyDescriptor(e,t)[i]))}catch(e){}}},(e,t,i)=>{var n=i(7),r=String,s=TypeError;e.exports=function(e){if("object"==typeof e||n(e))return e;throw s("Can't set "+r(e)+" as a prototype")}},e=>{e.exports=function(e,t){return{value:e,done:t}}},(e,t,i)=>{"use strict";var n=i(66),r=i(25),s=i(54),a=i(88),o=i(90);n({target:"Array",proto:!0,arity:1,forced:i(14)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function push(e){var t=r(this),i=s(t),n=arguments.length;o(i+n);for(var l=0;l<n;l++){t[i]=arguments[l];i++}a(t,i);return i}})},(e,t,i)=>{"use strict";var n=i(34),r=i(89),s=TypeError,a=Object.getOwnPropertyDescriptor,o=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=o?function(e,t){if(r(e)&&!a(e,"length").writable)throw s("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},(e,t,i)=>{var n=i(15);e.exports=Array.isArray||function isArray(e){return"Array"==n(e)}},e=>{var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},(e,t,i)=>{"use strict";var n=i(66),r=i(34),s=i(2),a=i(12),o=i(24),l=i(7),c=i(43),d=i(92),h=i(95),u=i(73),p=s.Symbol,f=p&&p.prototype;if(r&&l(p)&&(!("description"in f)||void 0!==p().description)){var g={},v=function Symbol(){var e=arguments.length<1||void 0===arguments[0]?void 0:d(arguments[0]),t=c(f,this)?new p(e):void 0===e?p():p(e);""===e&&(g[t]=!0);return t};u(v,p);v.prototype=f;f.constructor=v;var _="Symbol(test)"==String(p("test")),w=a(f.valueOf),m=a(f.toString),P=/^Symbol\((.*)\)[^)]+$/,b=a("".replace),S=a("".slice);h(f,"description",{configurable:!0,get:function description(){var e=w(this);if(o(g,e))return"";var t=m(e),i=_?S(t,7,-1):b(t,P,"$1");return""===i?void 0:i}});n({global:!0,constructor:!0,forced:!0},{Symbol:v})}},(e,t,i)=>{var n=i(93),r=String;e.exports=function(e){if("Symbol"===n(e))throw TypeError("Cannot convert a Symbol value to a string");return r(e)}},(e,t,i)=>{var n=i(94),r=i(7),s=i(15),a=i(19)("toStringTag"),o=Object,l="Arguments"==s(function(){return arguments}());e.exports=n?s:function(e){var t,i,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=function(e,t){try{return e[t]}catch(e){}}(t=o(e),a))?i:l?s(t):"Object"==(n=s(t))&&r(t.callee)?"Arguments":n}},(e,t,i)=>{var n={};n[i(19)("toStringTag")]="z";e.exports="[object z]"===String(n)},(e,t,i)=>{var n=i(70),r=i(36);e.exports=function(e,t,i){i.get&&n(i.get,t,{getter:!0});i.set&&n(i.set,t,{setter:!0});return r.f(e,t,i)}},(e,t,i)=>{var n=i(66),r=i(2),s=i(97),a=i(98),o="WebAssembly",l=r[o],c=7!==Error("e",{cause:7}).cause,exportGlobalErrorCauseWrapper=function(e,t){var i={};i[e]=a(e,t,c);n({global:!0,constructor:!0,arity:1,forced:c},i)},exportWebAssemblyErrorCauseWrapper=function(e,t){if(l&&l[e]){var i={};i[e]=a(o+"."+e,t,c);n({target:o,stat:!0,constructor:!0,arity:1,forced:c},i)}};exportGlobalErrorCauseWrapper("Error",(function(e){return function Error(t){return s(e,this,arguments)}}));exportGlobalErrorCauseWrapper("EvalError",(function(e){return function EvalError(t){return s(e,this,arguments)}}));exportGlobalErrorCauseWrapper("RangeError",(function(e){return function RangeError(t){return s(e,this,arguments)}}));exportGlobalErrorCauseWrapper("ReferenceError",(function(e){return function ReferenceError(t){return s(e,this,arguments)}}));exportGlobalErrorCauseWrapper("SyntaxError",(function(e){return function SyntaxError(t){return s(e,this,arguments)}}));exportGlobalErrorCauseWrapper("TypeError",(function(e){return function TypeError(t){return s(e,this,arguments)}}));exportGlobalErrorCauseWrapper("URIError",(function(e){return function URIError(t){return s(e,this,arguments)}}));exportWebAssemblyErrorCauseWrapper("CompileError",(function(e){return function CompileError(t){return s(e,this,arguments)}}));exportWebAssemblyErrorCauseWrapper("LinkError",(function(e){return function LinkError(t){return s(e,this,arguments)}}));exportWebAssemblyErrorCauseWrapper("RuntimeError",(function(e){return function RuntimeError(t){return s(e,this,arguments)}}))},(e,t,i)=>{var n=i(13),r=Function.prototype,s=r.apply,a=r.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?a.bind(s):function(){return a.apply(s,arguments)})},(e,t,i)=>{"use strict";var n=i(42),r=i(24),s=i(63),a=i(43),o=i(83),l=i(73),c=i(99),d=i(100),h=i(101),u=i(102),p=i(103),f=i(34),g=i(21);e.exports=function(e,t,i,v){var _="stackTraceLimit",w=v?2:1,m=e.split("."),P=m[m.length-1],b=n.apply(null,m);if(b){var S=b.prototype;!g&&r(S,"cause")&&delete S.cause;if(!i)return b;var y=n("Error"),E=t((function(e,t){var i=h(v?t:e,void 0),n=v?new b(e):new b;void 0!==i&&s(n,"message",i);p(n,E,n.stack,2);this&&a(S,this)&&d(n,this,E);arguments.length>w&&u(n,arguments[w]);return n}));E.prototype=S;if("Error"!==P)o?o(E,y):l(E,y,{name:!0});else if(f&&_ in b){c(E,b,_);c(E,b,"prepareStackTrace")}l(E,b);if(!g)try{S.name!==P&&s(S,"name",P);S.constructor=E}catch(e){}return E}}},(e,t,i)=>{var n=i(36).f;e.exports=function(e,t,i){i in e||n(e,i,{configurable:!0,get:function(){return t[i]},set:function(e){t[i]=e}})}},(e,t,i)=>{var n=i(7),r=i(6),s=i(83);e.exports=function(e,t,i){var a,o;s&&n(a=t.constructor)&&a!==i&&r(o=a.prototype)&&o!==i.prototype&&s(e,o);return e}},(e,t,i)=>{var n=i(92);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:n(e)}},(e,t,i)=>{var n=i(6),r=i(63);e.exports=function(e,t){n(t)&&"cause"in t&&r(e,"cause",t.cause)}},(e,t,i)=>{var n=i(63),r=i(104),s=i(105),a=Error.captureStackTrace;e.exports=function(e,t,i,o){s&&(a?a(e,t):n(e,"stack",r(i,o)))}},(e,t,i)=>{var n=i(12),r=Error,s=n("".replace),a=String(r("zxcasd").stack),o=/\n\s*at [^:]*:[^\n]*/,l=o.test(a);e.exports=function(e,t){if(l&&"string"==typeof e&&!r.prepareStackTrace)for(;t--;)e=s(e,o,"");return e}},(e,t,i)=>{var n=i(14),r=i(64);e.exports=!n((function(){var e=Error("a");if(!("stack"in e))return!0;Object.defineProperty(e,"stack",r(1,7));return 7!==e.stack}))},(e,t,i)=>{"use strict";i(96);Object.defineProperty(t,"__esModule",{value:!0});t.animationStarted=t.VERTICAL_PADDING=t.UNKNOWN_SCALE=t.TextLayerMode=t.SpreadMode=t.SidebarView=t.ScrollMode=t.SCROLLBAR_PADDING=t.RenderingStates=t.ProgressBar=t.PresentationModeState=t.OutputScale=t.MIN_SCALE=t.MAX_SCALE=t.MAX_AUTO_SCALE=t.DEFAULT_SCALE_VALUE=t.DEFAULT_SCALE_DELTA=t.DEFAULT_SCALE=t.CursorTool=t.AutoPrintRegExp=void 0;t.apiPageLayoutToViewerModes=function apiPageLayoutToViewerModes(e){let t=r.VERTICAL,i=s.NONE;switch(e){case"SinglePage":t=r.PAGE;break;case"OneColumn":break;case"TwoPageLeft":t=r.PAGE;case"TwoColumnLeft":i=s.ODD;break;case"TwoPageRight":t=r.PAGE;case"TwoColumnRight":i=s.EVEN}return{scrollMode:t,spreadMode:i}};t.apiPageModeToSidebarView=function apiPageModeToSidebarView(e){switch(e){case"UseNone":return n.NONE;case"UseThumbs":return n.THUMBS;case"UseOutlines":return n.OUTLINE;case"UseAttachments":return n.ATTACHMENTS;case"UseOC":return n.LAYERS}return n.NONE};t.approximateFraction=function approximateFraction(e){if(Math.floor(e)===e)return[e,1];const t=1/e;if(t>8)return[1,8];if(Math.floor(t)===t)return[1,t];const i=e>1?t:e;let n,r=0,s=1,a=1,o=1;for(;;){const e=r+a,t=s+o;if(t>8)break;if(i<=e/t){a=e;o=t}else{r=e;s=t}}n=i-r/s<a/o-i?i===e?[r,s]:[s,r]:i===e?[a,o]:[o,a];return n};t.backtrackBeforeAllVisibleElements=backtrackBeforeAllVisibleElements;t.binarySearchFirstItem=binarySearchFirstItem;t.docStyle=void 0;t.getActiveOrFocusedElement=function getActiveOrFocusedElement(){let e=document,t=e.activeElement||e.querySelector(":focus");for(;null!==(i=t)&&void 0!==i&&i.shadowRoot;){var i;e=t.shadowRoot;t=e.activeElement||e.querySelector(":focus")}return t};t.getPageSizeInches=function getPageSizeInches(e){let{view:t,userUnit:i,rotate:n}=e;const[r,s,a,o]=t,l=n%180!=0,c=(a-r)/72*i,d=(o-s)/72*i;return{width:l?d:c,height:l?c:d}};t.getVisibleElements=function getVisibleElements(e){let{scrollEl:t,views:i,sortByVisibility:n=!1,horizontal:r=!1,rtl:s=!1}=e;const a=t.scrollTop,o=a+t.clientHeight,l=t.scrollLeft,c=l+t.clientWidth;const d=[],h=new Set,u=i.length;let p=binarySearchFirstItem(i,r?function isElementNextAfterViewHorizontally(e){const t=e.div,i=t.offsetLeft+t.clientLeft,n=i+t.clientWidth;return s?i<c:n>l}:function isElementBottomAfterViewTop(e){const t=e.div;return t.offsetTop+t.clientTop+t.clientHeight>a});p>0&&p<u&&!r&&(p=backtrackBeforeAllVisibleElements(p,i,a));let f=r?c:-1;for(let e=p;e<u;e++){const t=i[e],n=t.div,s=n.offsetLeft+n.clientLeft,u=n.offsetTop+n.clientTop,p=n.clientWidth,g=n.clientHeight,v=s+p,_=u+g;if(-1===f)_>=o&&(f=_);else if((r?s:u)>f)break;if(_<=a||u>=o||v<=l||s>=c)continue;const w=Math.max(0,a-u)+Math.max(0,_-o),m=(p-(Math.max(0,l-s)+Math.max(0,v-c)))/p,P=(g-w)/g*m*100|0;d.push({id:t.id,x:s,y:u,view:t,percent:P,widthPercent:100*m|0});h.add(t.id)}const g=d[0],v=d.at(-1);n&&d.sort((function(e,t){const i=e.percent-t.percent;return Math.abs(i)>.001?-i:e.id-t.id}));return{first:g,last:v,views:d,ids:h}};t.isPortraitOrientation=function isPortraitOrientation(e){return e.width<=e.height};t.isValidRotation=function isValidRotation(e){return Number.isInteger(e)&&e%90==0};t.isValidScrollMode=function isValidScrollMode(e){return Number.isInteger(e)&&Object.values(r).includes(e)&&e!==r.UNKNOWN};t.isValidSpreadMode=function isValidSpreadMode(e){return Number.isInteger(e)&&Object.values(s).includes(e)&&e!==s.UNKNOWN};t.noContextMenuHandler=function noContextMenuHandler(e){e.preventDefault()};t.normalizeWheelEventDelta=function normalizeWheelEventDelta(e){const t=e.deltaMode;let i=normalizeWheelEventDirection(e);t===WheelEvent.DOM_DELTA_PIXEL?i/=900:t===WheelEvent.DOM_DELTA_LINE&&(i/=30);return i};t.normalizeWheelEventDirection=normalizeWheelEventDirection;t.parseQueryString=function parseQueryString(e){const t=new Map;for(const[i,n]of new URLSearchParams(e))t.set(i.toLowerCase(),n);return t};t.removeNullCharacters=function removeNullCharacters(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("string"!=typeof e){console.error("The argument must be a string.");return e}t&&(e=e.replaceAll(a," "));return e.replaceAll("\0","")};t.roundToDivide=function roundToDivide(e,t){const i=e%t;return 0===i?e:Math.round(e-i+t)};t.scrollIntoView=function scrollIntoView(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.offsetParent;if(!n)return;let r=e.offsetTop,s=e.offsetLeft;for(;n.clientHeight===n.scrollHeight&&n.clientWidth===n.scrollWidth||i&&(n.classList.contains("markedContent")||"hidden"===getComputedStyle(n).overflow);){r+=n.offsetTop;s+=n.offsetLeft;n=n.offsetParent;if(!n)return}if(t){void 0!==t.top&&(r+=t.top);if(void 0!==t.left){s+=t.left;n.scrollLeft=s}}n.scrollTop=r};t.toggleCheckedBtn=function toggleCheckedBtn(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null==e||e.classList.toggle("is-active",t);null==e||e.setAttribute("aria-checked",t);null==i||i.classList.toggle("hidden",!t)};t.toggleExpandedBtn=function toggleExpandedBtn(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null==e||e.classList.toggle("toggled",t);null==e||e.setAttribute("aria-expanded",t);null==i||i.classList.toggle("hidden",!t)};t.watchScroll=function watchScroll(e,t){const debounceScroll=function(r){n||(n=activeWindow.requestAnimationFrame((function viewAreaElementScrolled(){n=null;const r=e.scrollLeft,s=i.lastX;r!==s&&(i.right=r>s);i.lastX=r;const a=e.scrollTop,o=i.lastY;a!==o&&(i.down=a>o);i.lastY=a;t(i)})))},i={right:!0,down:!0,lastX:e.scrollLeft,lastY:e.scrollTop,_eventHandler:debounceScroll};let n=null;e.addEventListener("scroll",debounceScroll,!0);return i};i(1);i(107);i(120);i(121);i(122);i(123);i(135);i(138);i(148);i(150);i(153);i(155);i(157);i(159);i(87);i(161);function _classPrivateFieldInitSpec(e,t,i){!function _checkPrivateRedeclaration(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t);t.set(e,i)}function _classPrivateFieldGet(e,t){return function _classApplyDescriptorGet(e,t){if(t.get)return t.get.call(e);return t.value}(e,_classExtractFieldDescriptor(e,t,"get"))}function _classPrivateFieldSet(e,t,i){!function _classApplyDescriptorSet(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=i}}(e,_classExtractFieldDescriptor(e,t,"set"),i);return i}function _classExtractFieldDescriptor(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}t.DEFAULT_SCALE_VALUE="auto";t.DEFAULT_SCALE=1;t.DEFAULT_SCALE_DELTA=1.1;t.MIN_SCALE=.1;t.MAX_SCALE=10;t.UNKNOWN_SCALE=0;t.MAX_AUTO_SCALE=1.25;t.SCROLLBAR_PADDING=40;t.VERTICAL_PADDING=16;t.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};t.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const n={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};t.SidebarView=n;t.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_PERMISSIONS:2};const r={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};t.ScrollMode=r;const s={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};t.SpreadMode=s;t.CursorTool={SELECT:0,HAND:1,ZOOM:2};t.AutoPrintRegExp=/\bprint\s*\(/;t.OutputScale=class OutputScale{constructor(){const e=window.devicePixelRatio||1;this.sx=e;this.sy=e}get scaled(){return 1!==this.sx||1!==this.sy}};const a=/[\x01-\x1F]/g;function binarySearchFirstItem(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=e.length-1;if(n<0||!t(e[n]))return e.length;if(t(e[i]))return i;for(;i<n;){const r=i+n>>1;t(e[r])?n=r:i=r+1}return i}function backtrackBeforeAllVisibleElements(e,t,i){if(e<2)return e;let n=t[e].div,r=n.offsetTop+n.clientTop;if(r>=i){n=t[e-1].div;r=n.offsetTop+n.clientTop}for(let i=e-2;i>=0;--i){n=t[i].div;if(n.offsetTop+n.clientTop+n.clientHeight<=r)break;e=i}return e}function normalizeWheelEventDirection(e){let t=Math.hypot(e.deltaX,e.deltaY);const i=Math.atan2(e.deltaY,e.deltaX);-.25*Math.PI<i&&i<.75*Math.PI&&(t=-t);return t}const o=new Promise((function(e){activeWindow.requestAnimationFrame(e)}));t.animationStarted=o;const l=document.documentElement.style;t.docStyle=l;var c=new WeakMap,d=new WeakMap,h=new WeakMap,u=new WeakMap,p=new WeakMap;t.ProgressBar=class ProgressBar{constructor(e){_classPrivateFieldInitSpec(this,c,{writable:!0,value:null});_classPrivateFieldInitSpec(this,d,{writable:!0,value:null});_classPrivateFieldInitSpec(this,h,{writable:!0,value:0});_classPrivateFieldInitSpec(this,u,{writable:!0,value:null});_classPrivateFieldInitSpec(this,p,{writable:!0,value:!0});_classPrivateFieldSet(this,c,e.classList);_classPrivateFieldSet(this,u,e.style)}get percent(){return _classPrivateFieldGet(this,h)}set percent(e){_classPrivateFieldSet(this,h,function clamp(e,t,i){return Math.min(Math.max(e,t),i)}(e,0,100));if(isNaN(e))_classPrivateFieldGet(this,c).add("indeterminate");else{_classPrivateFieldGet(this,c).remove("indeterminate");_classPrivateFieldGet(this,u).setProperty("--progressBar-percent","".concat(_classPrivateFieldGet(this,h),"%"))}}setWidth(e){if(!e)return;const t=e.parentNode.offsetWidth-e.offsetWidth;t>0&&_classPrivateFieldGet(this,u).setProperty("--progressBar-end-offset","".concat(t,"px"))}setDisableAutoFetch(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3;if(!isNaN(_classPrivateFieldGet(this,h))){_classPrivateFieldGet(this,d)&&activeWindow.clearTimeout(_classPrivateFieldGet(this,d));this.show();_classPrivateFieldSet(this,d,activeWindow.setTimeout((()=>{_classPrivateFieldSet(this,d,null);this.hide()}),e))}}hide(){if(_classPrivateFieldGet(this,p)){_classPrivateFieldSet(this,p,!1);_classPrivateFieldGet(this,c).add("hidden")}}show(){if(!_classPrivateFieldGet(this,p)){_classPrivateFieldSet(this,p,!0);_classPrivateFieldGet(this,c).remove("hidden")}}}},(e,t,i)=>{i(108)},(e,t,i)=>{"use strict";i(9);var n=i(66),r=i(2),s=i(40),a=i(12),o=i(34),l=i(109),c=i(69),d=i(95),h=i(110),u=i(82),p=i(78),f=i(61),g=i(111),v=i(7),_=i(24),w=i(112),m=i(93),P=i(32),b=i(6),S=i(92),y=i(31),E=i(64),M=i(114),I=i(115),T=i(116),C=i(19),L=i(117),k=C("iterator"),x="URLSearchParams",D=x+"Iterator",A=f.set,V=f.getterFor(x),O=f.getterFor(D),N=Object.getOwnPropertyDescriptor,safeGetBuiltIn=function(e){if(!o)return r[e];var t=N(r,e);return t&&t.value},R=safeGetBuiltIn("fetch"),B=safeGetBuiltIn("Request"),G=safeGetBuiltIn("Headers"),W=B&&B.prototype,U=G&&G.prototype,H=r.RegExp,z=r.TypeError,j=r.decodeURIComponent,q=r.encodeURIComponent,K=a("".charAt),X=a([].join),Z=a([].push),Q=a("".replace),Y=a([].shift),$=a([].splice),J=a("".split),ee=a("".slice),te=/\+/g,ie=Array(4),percentSequence=function(e){return ie[e-1]||(ie[e-1]=H("((?:%[\\da-f]{2}){"+e+"})","gi"))},percentDecode=function(e){try{return j(e)}catch(t){return e}},deserialize=function(e){var t=Q(e,te," "),i=4;try{return j(t)}catch(e){for(;i;)t=Q(t,percentSequence(i--),percentDecode);return t}},ne=/[!'()~]|%20/g,re={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},replacer=function(e){return re[e]},serialize=function(e){return Q(q(e),ne,replacer)},se=p((function Iterator(e,t){A(this,{type:D,iterator:M(V(e).entries),kind:t})}),"Iterator",(function next(){var e=O(this),t=e.kind,i=e.iterator.next(),n=i.value;i.done||(i.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]);return i}),!0),URLSearchParamsState=function(e){this.entries=[];this.url=null;void 0!==e&&(b(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===K(e,0)?ee(e,1):e:S(e)))};URLSearchParamsState.prototype={type:x,bindURL:function(e){this.url=e;this.update()},parseObject:function(e){var t,i,n,r,a,o,l,c=I(e);if(c){i=(t=M(e,c)).next;for(;!(n=s(i,t)).done;){a=(r=M(P(n.value))).next;if((o=s(a,r)).done||(l=s(a,r)).done||!s(a,r).done)throw z("Expected sequence with length 2");Z(this.entries,{key:S(o.value),value:S(l.value)})}}else for(var d in e)_(e,d)&&Z(this.entries,{key:d,value:S(e[d])})},parseQuery:function(e){if(e)for(var t,i,n=J(e,"&"),r=0;r<n.length;)if((t=n[r++]).length){i=J(t,"=");Z(this.entries,{key:deserialize(Y(i)),value:deserialize(X(i,"="))})}},serialize:function(){for(var e,t=this.entries,i=[],n=0;n<t.length;){e=t[n++];Z(i,serialize(e.key)+"="+serialize(e.value))}return X(i,"&")},update:function(){this.entries.length=0;this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var ae=function URLSearchParams(){g(this,oe);var e=A(this,new URLSearchParamsState(arguments.length>0?arguments[0]:void 0));o||(this.size=e.entries.length)},oe=ae.prototype;h(oe,{append:function append(e,t){var i=V(this);T(arguments.length,2);Z(i.entries,{key:S(e),value:S(t)});o||this.length++;i.updateURL()},delete:function(e){for(var t=V(this),i=T(arguments.length,1),n=t.entries,r=S(e),s=i<2?void 0:arguments[1],a=void 0===s?s:S(s),l=0;l<n.length;){var c=n[l];if(c.key!==r||void 0!==a&&c.value!==a)l++;else{$(n,l,1);if(void 0!==a)break}}o||(this.size=n.length);t.updateURL()},get:function get(e){var t=V(this).entries;T(arguments.length,1);for(var i=S(e),n=0;n<t.length;n++)if(t[n].key===i)return t[n].value;return null},getAll:function getAll(e){var t=V(this).entries;T(arguments.length,1);for(var i=S(e),n=[],r=0;r<t.length;r++)t[r].key===i&&Z(n,t[r].value);return n},has:function has(e){for(var t=V(this).entries,i=T(arguments.length,1),n=S(e),r=i<2?void 0:arguments[1],s=void 0===r?r:S(r),a=0;a<t.length;){var o=t[a++];if(o.key===n&&(void 0===s||o.value===s))return!0}return!1},set:function set(e,t){var i=V(this);T(arguments.length,1);for(var n,r=i.entries,s=!1,a=S(e),l=S(t),c=0;c<r.length;c++)if((n=r[c]).key===a)if(s)$(r,c--,1);else{s=!0;n.value=l}s||Z(r,{key:a,value:l});o||(this.size=r.length);i.updateURL()},sort:function sort(){var e=V(this);L(e.entries,(function(e,t){return e.key>t.key?1:-1}));e.updateURL()},forEach:function forEach(e){for(var t,i=V(this).entries,n=w(e,arguments.length>1?arguments[1]:void 0),r=0;r<i.length;)n((t=i[r++]).value,t.key,this)},keys:function keys(){return new se(this,"keys")},values:function values(){return new se(this,"values")},entries:function entries(){return new se(this,"entries")}},{enumerable:!0});c(oe,k,oe.entries,{name:"entries"});c(oe,"toString",(function toString(){return V(this).serialize()}),{enumerable:!0});o&&d(oe,"size",{get:function size(){return V(this).entries.length},configurable:!0,enumerable:!0});u(ae,x);n({global:!0,constructor:!0,forced:!l},{URLSearchParams:ae});if(!l&&v(G)){var le=a(U.has),ce=a(U.set),wrapRequestOptions=function(e){if(b(e)){var t,i=e.body;if(m(i)===x){t=e.headers?new G(e.headers):new G;le(t,"content-type")||ce(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8");return y(e,{body:E(0,S(i)),headers:E(0,t)})}}return e};v(R)&&n({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function fetch(e){return R(e,arguments.length>1?wrapRequestOptions(arguments[1]):{})}});if(v(B)){var de=function Request(e){g(this,W);return new B(e,arguments.length>1?wrapRequestOptions(arguments[1]):{})};W.constructor=de;de.prototype=W;n({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:de})}}e.exports={URLSearchParams:ae,getState:V}},(e,t,i)=>{var n=i(14),r=i(19),s=i(34),a=i(21),o=r("iterator");e.exports=!n((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,i=new URLSearchParams("a=1&a=2"),n="";e.pathname="c%20d";t.forEach((function(e,i){t.delete("b");n+=i+e}));i.delete("a",2);return a&&(!e.toJSON||!i.has("a",1)||i.has("a",2))||!t.size&&(a||!s)||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://ÑÐµÑÑ").host||"#%D0%B1"!==new URL("http://a#Ð±").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},(e,t,i)=>{var n=i(69);e.exports=function(e,t,i){for(var r in t)n(e,r,t[r],i);return e}},(e,t,i)=>{var n=i(43),r=TypeError;e.exports=function(e,t){if(n(t,e))return e;throw r("Incorrect invocation")}},(e,t,i)=>{var n=i(113),r=i(45),s=i(13),a=n(n.bind);e.exports=function(e,t){r(e);return void 0===t?e:s?a(e,t):function(){return e.apply(t,arguments)}}},(e,t,i)=>{var n=i(15),r=i(12);e.exports=function(e){if("Function"===n(e))return r(e)}},(e,t,i)=>{var n=i(40),r=i(45),s=i(32),a=i(46),o=i(115),l=TypeError;e.exports=function(e,t){var i=arguments.length<2?o(e):t;if(r(i))return s(n(i,e));throw l(a(e)+" is not iterable")}},(e,t,i)=>{var n=i(93),r=i(44),s=i(17),a=i(60),o=i(19)("iterator");e.exports=function(e){if(!s(e))return r(e,o)||r(e,"@@iterator")||a[n(e)]}},e=>{var t=TypeError;e.exports=function(e,i){if(e<i)throw t("Not enough arguments");return e}},(e,t,i)=>{var n=i(118),r=Math.floor,mergeSort=function(e,t){var i=e.length,s=r(i/2);return i<8?insertionSort(e,t):merge(e,mergeSort(n(e,0,s),t),mergeSort(n(e,s),t),t)},insertionSort=function(e,t){for(var i,n,r=e.length,s=1;s<r;){n=s;i=e[s];for(;n&&t(e[n-1],i)>0;)e[n]=e[--n];n!==s++&&(e[n]=i)}return e},merge=function(e,t,i,n){for(var r=t.length,s=i.length,a=0,o=0;a<r||o<s;)e[a+o]=a<r&&o<s?n(t[a],i[o])<=0?t[a++]:i[o++]:a<r?t[a++]:i[o++];return e};e.exports=mergeSort},(e,t,i)=>{var n=i(51),r=i(54),s=i(119),a=Array,o=Math.max;e.exports=function(e,t,i){for(var l=r(e),c=n(t,l),d=n(void 0===i?l:i,l),h=a(o(d-c,0)),u=0;c<d;c++,u++)s(h,u,e[c]);h.length=u;return h}},(e,t,i)=>{"use strict";var n=i(38),r=i(36),s=i(64);e.exports=function(e,t,i){var a=n(t);a in e?r.f(e,a,s(0,i)):e[a]=i}},(e,t,i)=>{"use strict";var n=i(69),r=i(12),s=i(92),a=i(116),o=URLSearchParams,l=o.prototype,c=r(l.append),d=r(l.delete),h=r(l.forEach),u=r([].push),p=new o("a=1&a=2");p.delete("a",1);p+""!="a=2"&&n(l,"delete",(function(e){var t=arguments.length,i=t<2?void 0:arguments[1];if(t&&void 0===i)return d(this,e);var n=[];h(this,(function(e,t){u(n,{key:t,value:e})}));a(t,1);for(var r,o=s(e),l=s(i),p=0,f=0,g=!1,v=n.length;p<v;){r=n[p++];if(g||r.key===o){g=!0;d(this,r.key)}else f++}for(;f<v;)(r=n[f++]).key===o&&r.value===l||c(this,r.key,r.value)}),{enumerable:!0,unsafe:!0})},(e,t,i)=>{"use strict";var n=i(69),r=i(12),s=i(92),a=i(116),o=URLSearchParams,l=o.prototype,c=r(l.getAll),d=r(l.has);new o("a=1").has("a",2)&&n(l,"has",(function has(e){var t=arguments.length,i=t<2?void 0:arguments[1];if(t&&void 0===i)return d(this,e);var n=c(this,e);a(t,1);for(var r=s(i),o=0;o<n.length;)if(n[o++]===r)return!0;return!1}),{enumerable:!0,unsafe:!0})},(e,t,i)=>{"use strict";var n=i(34),r=i(12),s=i(95),a=URLSearchParams.prototype,o=r(a.forEach);n&&!("size"in a)&&s(a,"size",{get:function size(){var e=0;o(this,(function(){e++}));return e},configurable:!0,enumerable:!0})},(e,t,i)=>{"use strict";var n=i(97),r=i(40),s=i(12),a=i(124),o=i(14),l=i(32),c=i(7),d=i(17),h=i(52),u=i(55),p=i(92),f=i(16),g=i(131),v=i(44),_=i(133),w=i(134),m=i(19)("replace"),P=Math.max,b=Math.min,S=s([].concat),y=s([].push),E=s("".indexOf),M=s("".slice),I="$0"==="a".replace(/./,"$0"),T=!!/./[m]&&""===/./[m]("a","$0");a("replace",(function(e,t,i){var s=T?"$":"$0";return[function replace(e,i){var n=f(this),s=d(e)?void 0:v(e,m);return s?r(s,e,n,i):r(t,p(n),e,i)},function(e,r){var a=l(this),o=p(e);if("string"==typeof r&&-1===E(r,s)&&-1===E(r,"$<")){var d=i(t,a,o,r);if(d.done)return d.value}var f=c(r);f||(r=p(r));var v=a.global;if(v){var m=a.unicode;a.lastIndex=0}for(var I=[];;){var T=w(a,o);if(null===T)break;y(I,T);if(!v)break;""===p(T[0])&&(a.lastIndex=g(o,u(a.lastIndex),m))}for(var C,L="",k=0,x=0;x<I.length;x++){for(var D=p((T=I[x])[0]),A=P(b(h(T.index),o.length),0),V=[],O=1;O<T.length;O++)y(V,void 0===(C=T[O])?C:String(C));var N=T.groups;if(f){var R=S([D],V,A,o);void 0!==N&&y(R,N);var B=p(n(r,void 0,R))}else B=_(D,o,A,V,N,r);if(A>=k){L+=M(o,k,A)+B;k=A+D.length}}return L+M(o,k)}]}),!!o((function(){var e=/./;e.exec=function(){var e=[];e.groups={a:"7"};return e};return"7"!=="".replace(e,"$<a>")}))||!I||T)},(e,t,i)=>{"use strict";i(125);var n=i(113),r=i(69),s=i(126),a=i(14),o=i(19),l=i(63),c=o("species"),d=RegExp.prototype;e.exports=function(e,t,i,h){var u=o(e),p=!a((function(){var t={};t[u]=function(){return 7};return 7!=""[e](t)})),f=p&&!a((function(){var t=!1,i=/a/;if("split"===e){(i={}).constructor={};i.constructor[c]=function(){return i};i.flags="";i[u]=/./[u]}i.exec=function(){t=!0;return null};i[u]("");return!t}));if(!p||!f||i){var g=n(/./[u]),v=t(u,""[e],(function(e,t,i,r,a){var o=n(e),l=t.exec;return l===s||l===d.exec?p&&!a?{done:!0,value:g(t,i,r)}:{done:!0,value:o(i,t,r)}:{done:!1}}));r(String.prototype,e,v[0]);r(d,u,v[1])}h&&l(d[u],"sham",!0)}},(e,t,i)=>{"use strict";var n=i(66),r=i(126);n({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},(e,t,i)=>{"use strict";var n=i(40),r=i(12),s=i(92),a=i(127),o=i(128),l=i(20),c=i(31),d=i(61).get,h=i(129),u=i(130),p=l("native-string-replace",String.prototype.replace),f=RegExp.prototype.exec,g=f,v=r("".charAt),_=r("".indexOf),w=r("".replace),m=r("".slice),P=function(){var e=/a/,t=/b*/g;n(f,e,"a");n(f,t,"a");return 0!==e.lastIndex||0!==t.lastIndex}(),b=o.BROKEN_CARET,S=void 0!==/()??/.exec("")[1];(P||S||b||h||u)&&(g=function exec(e){var t,i,r,o,l,h,u,y=this,E=d(y),M=s(e),I=E.raw;if(I){I.lastIndex=y.lastIndex;t=n(g,I,M);y.lastIndex=I.lastIndex;return t}var T=E.groups,C=b&&y.sticky,L=n(a,y),k=y.source,x=0,D=M;if(C){L=w(L,"y","");-1===_(L,"g")&&(L+="g");D=m(M,y.lastIndex);if(y.lastIndex>0&&(!y.multiline||y.multiline&&"\n"!==v(M,y.lastIndex-1))){k="(?: "+k+")";D=" "+D;x++}i=new RegExp("^(?:"+k+")",L)}S&&(i=new RegExp("^"+k+"$(?!\\s)",L));P&&(r=y.lastIndex);o=n(f,C?i:y,D);if(C)if(o){o.input=m(o.input,x);o[0]=m(o[0],x);o.index=y.lastIndex;y.lastIndex+=o[0].length}else y.lastIndex=0;else P&&o&&(y.lastIndex=y.global?o.index+o[0].length:r);S&&o&&o.length>1&&n(p,o[0],i,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(o[l]=void 0)}));if(o&&T){o.groups=h=c(null);for(l=0;l<T.length;l++)h[(u=T[l])[0]]=o[u[1]]}return o});e.exports=g},(e,t,i)=>{"use strict";var n=i(32);e.exports=function(){var e=n(this),t="";e.hasIndices&&(t+="d");e.global&&(t+="g");e.ignoreCase&&(t+="i");e.multiline&&(t+="m");e.dotAll&&(t+="s");e.unicode&&(t+="u");e.unicodeSets&&(t+="v");e.sticky&&(t+="y");return t}},(e,t,i)=>{var n=i(14),r=i(2).RegExp,s=n((function(){var e=r("a","y");e.lastIndex=2;return null!=e.exec("abcd")})),a=s||n((function(){return!r("a","y").sticky})),o=s||n((function(){var e=r("^r","gy");e.lastIndex=2;return null!=e.exec("str")}));e.exports={BROKEN_CARET:o,MISSED_STICKY:a,UNSUPPORTED_Y:s}},(e,t,i)=>{var n=i(14),r=i(2).RegExp;e.exports=n((function(){var e=r(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},(e,t,i)=>{var n=i(14),r=i(2).RegExp;e.exports=n((function(){var e=r("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},(e,t,i)=>{"use strict";var n=i(132).charAt;e.exports=function(e,t,i){return t+(i?n(e,t).length:1)}},(e,t,i)=>{var n=i(12),r=i(52),s=i(92),a=i(16),o=n("".charAt),l=n("".charCodeAt),c=n("".slice),createMethod=function(e){return function(t,i){var n,d,h=s(a(t)),u=r(i),p=h.length;return u<0||u>=p?e?"":void 0:(n=l(h,u))<55296||n>56319||u+1===p||(d=l(h,u+1))<56320||d>57343?e?o(h,u):n:e?c(h,u,u+2):d-56320+(n-55296<<10)+65536}};e.exports={codeAt:createMethod(!1),charAt:createMethod(!0)}},(e,t,i)=>{var n=i(12),r=i(25),s=Math.floor,a=n("".charAt),o=n("".replace),l=n("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,d=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,i,n,h,u){var p=i+e.length,f=n.length,g=d;if(void 0!==h){h=r(h);g=c}return o(u,g,(function(r,o){var c;switch(a(o,0)){case"$":return"$";case"&":return e;case"`":return l(t,0,i);case"'":return l(t,p);case"<":c=h[l(o,1,-1)];break;default:var d=+o;if(0===d)return r;if(d>f){var u=s(d/10);return 0===u?r:u<=f?void 0===n[u-1]?a(o,1):n[u-1]+a(o,1):r}c=n[d-1]}return void 0===c?"":c}))}},(e,t,i)=>{var n=i(40),r=i(32),s=i(7),a=i(15),o=i(126),l=TypeError;e.exports=function(e,t){var i=e.exec;if(s(i)){var c=n(i,e,t);null!==c&&r(c);return c}if("RegExp"===a(e))return n(o,e,t);throw l("RegExp#exec called on incompatible receiver")}},(e,t,i)=>{"use strict";var n=i(66),r=i(40),s=i(12),a=i(16),o=i(7),l=i(17),c=i(136),d=i(92),h=i(44),u=i(137),p=i(133),f=i(19),g=i(21),v=f("replace"),_=TypeError,w=s("".indexOf),m=s("".replace),P=s("".slice),b=Math.max,stringIndexOf=function(e,t,i){return i>e.length?-1:""===t?i:w(e,t,i)};n({target:"String",proto:!0},{replaceAll:function replaceAll(e,t){var i,n,s,f,S,y,E,M,I,T=a(this),C=0,L=0,k="";if(!l(e)){if(i=c(e)){n=d(a(u(e)));if(!~w(n,"g"))throw _("`.replaceAll` does not allow non-global regexes")}if(s=h(e,v))return r(s,e,T,t);if(g&&i)return m(d(T),e,t)}f=d(T);S=d(e);(y=o(t))||(t=d(t));E=S.length;M=b(1,E);C=stringIndexOf(f,S,0);for(;-1!==C;){I=y?d(t(S,C,f)):p(S,f,C,[],void 0,t);k+=P(f,L,C)+I;L=C+E;C=stringIndexOf(f,S,C+M)}L<f.length&&(k+=P(f,L));return k}})},(e,t,i)=>{var n=i(6),r=i(15),s=i(19)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==r(e))}},(e,t,i)=>{var n=i(40),r=i(24),s=i(43),a=i(127),o=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in o||r(e,"flags")||!s(o,e)?t:n(a,e)}},(e,t,i)=>{var n=i(66),r=i(139);n({target:"Set",proto:!0,real:!0,forced:!i(147)("difference")},{difference:r})},(e,t,i)=>{"use strict";var n=i(140),r=i(141),s=i(142),a=i(145),o=i(146),l=i(143),c=i(144),d=r.has,h=r.remove;e.exports=function difference(e){var t=n(this),i=o(e),r=s(t);a(t)<=i.size?l(t,(function(e){i.includes(e)&&h(r,e)})):c(i.getIterator(),(function(e){d(t,e)&&h(r,e)}));return r}},(e,t,i)=>{var n=i(141).has;e.exports=function(e){n(e);return e}},(e,t,i)=>{var n=i(12),r=Set.prototype;e.exports={Set:Set,add:n(r.add),has:n(r.has),remove:n(r.delete),proto:r}},(e,t,i)=>{var n=i(141),r=i(143),s=n.Set,a=n.add;e.exports=function(e){var t=new s;r(e,(function(e){a(t,e)}));return t}},(e,t,i)=>{var n=i(12),r=i(144),s=i(141),a=s.Set,o=s.proto,l=n(o.forEach),c=n(o.keys),d=c(new a).next;e.exports=function(e,t,i){return i?r(c(e),t,d):l(e,t)}},(e,t,i)=>{var n=i(40);e.exports=function(e,t,i){for(var r,s,a=i||e.next;!(r=n(a,e)).done;)if(void 0!==(s=t(r.value)))return s}},(e,t,i)=>{var n=i(84),r=i(141);e.exports=n(r.proto,"size","get")||function(e){return e.size}},(e,t,i)=>{var n=i(45),r=i(32),s=i(40),a=i(52),o=TypeError,l=Math.max,SetRecord=function(e,t,i,n){this.set=e;this.size=t;this.has=i;this.keys=n};SetRecord.prototype={getIterator:function(){return r(s(this.keys,this.set))},includes:function(e){return s(this.has,this.set,e)}};e.exports=function(e){r(e);var t=+e.size;if(t!=t)throw o("Invalid size");return new SetRecord(e,l(a(t),0),n(e.has),n(e.keys))}},(e,t,i)=>{var n=i(42);e.exports=function(e){try{(new(n("Set")))[e]({size:0,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}});return!0}catch(e){return!1}}},(e,t,i)=>{var n=i(66),r=i(14),s=i(149);n({target:"Set",proto:!0,real:!0,forced:!i(147)("intersection")||r((function(){return"3,2"!=Array.from(new Set([1,2,3]).intersection(new Set([3,2])))}))},{intersection:s})},(e,t,i)=>{"use strict";var n=i(140),r=i(141),s=i(145),a=i(146),o=i(143),l=i(144),c=r.Set,d=r.add,h=r.has;e.exports=function intersection(e){var t=n(this),i=a(e),r=new c;s(t)>i.size?l(i.getIterator(),(function(e){h(t,e)&&d(r,e)})):o(t,(function(e){i.includes(e)&&d(r,e)}));return r}},(e,t,i)=>{var n=i(66),r=i(151);n({target:"Set",proto:!0,real:!0,forced:!i(147)("isDisjointFrom")},{isDisjointFrom:r})},(e,t,i)=>{"use strict";var n=i(140),r=i(141).has,s=i(145),a=i(146),o=i(143),l=i(144),c=i(152);e.exports=function isDisjointFrom(e){var t=n(this),i=a(e);if(s(t)<=i.size)return!1!==o(t,(function(e){if(i.includes(e))return!1}),!0);var d=i.getIterator();return!1!==l(d,(function(e){if(r(t,e))return c(d,"normal",!1)}))}},(e,t,i)=>{var n=i(40),r=i(32),s=i(44);e.exports=function(e,t,i){var a,o;r(e);try{if(!(a=s(e,"return"))){if("throw"===t)throw i;return i}a=n(a,e)}catch(e){o=!0;a=e}if("throw"===t)throw i;if(o)throw a;r(a);return i}},(e,t,i)=>{var n=i(66),r=i(154);n({target:"Set",proto:!0,real:!0,forced:!i(147)("isSubsetOf")},{isSubsetOf:r})},(e,t,i)=>{"use strict";var n=i(140),r=i(145),s=i(143),a=i(146);e.exports=function isSubsetOf(e){var t=n(this),i=a(e);return!(r(t)>i.size)&&!1!==s(t,(function(e){if(!i.includes(e))return!1}),!0)}},(e,t,i)=>{var n=i(66),r=i(156);n({target:"Set",proto:!0,real:!0,forced:!i(147)("isSupersetOf")},{isSupersetOf:r})},(e,t,i)=>{"use strict";var n=i(140),r=i(141).has,s=i(145),a=i(146),o=i(144),l=i(152);e.exports=function isSupersetOf(e){var t=n(this),i=a(e);if(s(t)<i.size)return!1;var c=i.getIterator();return!1!==o(c,(function(e){if(!r(t,e))return l(c,"normal",!1)}))}},(e,t,i)=>{var n=i(66),r=i(158);n({target:"Set",proto:!0,real:!0,forced:!i(147)("symmetricDifference")},{symmetricDifference:r})},(e,t,i)=>{"use strict";var n=i(140),r=i(141),s=i(142),a=i(146),o=i(144),l=r.add,c=r.has,d=r.remove;e.exports=function symmetricDifference(e){var t=n(this),i=a(e).getIterator(),r=s(t);o(i,(function(e){c(t,e)?d(r,e):l(r,e)}));return r}},(e,t,i)=>{var n=i(66),r=i(160);n({target:"Set",proto:!0,real:!0,forced:!i(147)("union")},{union:r})},(e,t,i)=>{"use strict";var n=i(140),r=i(141).add,s=i(142),a=i(146),o=i(144);e.exports=function union(e){var t=n(this),i=a(e).getIterator(),l=s(t);o(i,(function(e){r(l,e)}));return l}},(e,t,i)=>{"use strict";var n=i(66),r=i(25),s=i(54),a=i(52),o=i(18);n({target:"Array",proto:!0},{at:function at(e){var t=r(this),i=s(t),n=a(e),o=n>=0?n:i+n;return o<0||o>=i?void 0:t[o]}});o("at")},(e,t,i)=>{"use strict";i(91);Object.defineProperty(t,"__esModule",{value:!0});t.PDFViewerApplication=t.PDFPrintServiceFactory=t.DefaultExternalServices=void 0;t.getAppEvents=getAppEvents;i(96);i(1);i(87);i(163);i(166);i(107);i(120);i(121);i(122);i(175);var n=i(106),r=i(176),s=i(177),a=i(178),o=i(179),l=i(182),c=i(183),d=i(184),h=i(185),u=i(186),p=i(188),f=i(190),g=i(191),v=i(192),_=i(195),w=i(196),m=i(197),P=i(198),b=i(199),S=i(206),y=i(207),E=i(209),M=i(219),I=i(220),T=i(221);function _defineProperty(e,t,i){(t=function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i;return e}const C=1e3,L=-1,k=1,x={AUTOMATIC:0,LIGHT:1,DARK:2};class DefaultExternalServices{updateFindControlState(e){}updateFindMatchesCount(e){}initPassiveLoading(e){}reportTelemetry(e){}createDownloadManager(){throw new Error("Not implemented: createDownloadManager")}createPreferences(){throw new Error("Not implemented: createPreferences")}createL10n(e){throw new Error("Not implemented: createL10n")}createScripting(e){throw new Error("Not implemented: createScripting")}get supportsPinchToZoom(){return(0,r.shadow)(this,"supportsPinchToZoom",!0)}get supportsIntegratedFind(){return(0,r.shadow)(this,"supportsIntegratedFind",!1)}get supportsDocumentFonts(){return(0,r.shadow)(this,"supportsDocumentFonts",!0)}get supportedMouseWheelZoomModifierKeys(){return(0,r.shadow)(this,"supportedMouseWheelZoomModifierKeys",{ctrlKey:!0,metaKey:!0})}get isInAutomation(){return(0,r.shadow)(this,"isInAutomation",!1)}updateEditorStates(e){throw new Error("Not implemented: updateEditorStates")}get canvasMaxAreaInBytes(){return(0,r.shadow)(this,"canvasMaxAreaInBytes",-1)}static getNimbusExperimentData(){return(0,r.shadow)(this,"getNimbusExperimentData",Promise.resolve(null))}}t.DefaultExternalServices=DefaultExternalServices;class PDFViewerApplication{constructor(){_defineProperty(this,"initialBookmark","");_defineProperty(this,"_initializedCapability",new r.PromiseCapability);_defineProperty(this,"appConfig",null);_defineProperty(this,"pdfDocument",null);_defineProperty(this,"pdfLoadingTask",null);_defineProperty(this,"printService",null);_defineProperty(this,"passwordPrompt",null);_defineProperty(this,"pdfViewer",null);_defineProperty(this,"pdfThumbnailViewer",null);_defineProperty(this,"pdfRenderingQueue",null);_defineProperty(this,"pdfPresentationMode",null);_defineProperty(this,"pdfDocumentProperties",null);_defineProperty(this,"pdfLinkService",null);_defineProperty(this,"pdfHistory",null);_defineProperty(this,"pdfSidebar",null);_defineProperty(this,"sidebarMinWidth",l.SIDEBAR_MIN_WIDTH);_defineProperty(this,"pdfOutlineViewer",null);_defineProperty(this,"pdfAttachmentViewer",null);_defineProperty(this,"pdfLayerViewer",null);_defineProperty(this,"pdfCursorTools",null);_defineProperty(this,"pdfScriptingManager",null);_defineProperty(this,"store",null);_defineProperty(this,"downloadManager",null);_defineProperty(this,"overlayManager",null);_defineProperty(this,"preferences",null);_defineProperty(this,"toolbar",null);_defineProperty(this,"secondaryToolbar",null);_defineProperty(this,"eventBus",null);_defineProperty(this,"l10n",null);_defineProperty(this,"annotationEditorParams",null);_defineProperty(this,"findController",null);_defineProperty(this,"findBar",null);_defineProperty(this,"isInitialViewSet",!1);_defineProperty(this,"downloadComplete",!1);_defineProperty(this,"isViewerEmbedded",window.parent!==window);_defineProperty(this,"url","");_defineProperty(this,"baseUrl","");_defineProperty(this,"_downloadUrl","");_defineProperty(this,"externalServices",new DefaultExternalServices);_defineProperty(this,"_boundEvents",Object.create(null));_defineProperty(this,"documentInfo",null);_defineProperty(this,"metadata",null);_defineProperty(this,"_contentDispositionFilename",null);_defineProperty(this,"_contentLength",null);_defineProperty(this,"_saveInProgress",!1);_defineProperty(this,"_wheelUnusedTicks",0);_defineProperty(this,"_wheelUnusedFactor",1);_defineProperty(this,"_touchUnusedTicks",0);_defineProperty(this,"_touchUnusedFactor",1);_defineProperty(this,"_PDFBug",null);_defineProperty(this,"_hasAnnotationEditors",!1);_defineProperty(this,"_title",document.title);_defineProperty(this,"_printAnnotationStoragePromise",null);_defineProperty(this,"_touchInfo",null);_defineProperty(this,"_isCtrlKeyDown",!1);_defineProperty(this,"_nimbusDataPromise",null);_defineProperty(this,"location",null)}async initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.appConfig;this.preferences=this.externalServices.createPreferences();this.appConfig=e;this.events=getAppEvents(this);await this._initializeOptions();this._forceCssTheme();await this._initializeL10n();this.isViewerEmbedded&&s.AppOptions.get("externalLinkTarget")===o.LinkTarget.NONE&&s.AppOptions.set("externalLinkTarget",o.LinkTarget.TOP);await this._initializeViewerComponents();this.bindEvents();this.bindWindowEvents();const t=(null==e?void 0:e.appContainer)||document.documentElement;this.l10n.translate(t).then((()=>{this.eventBus.dispatch("localized",{source:this})}));this._initializedCapability.resolve()}async _initializeOptions(){if(s.AppOptions.get("disablePreferences"))s.AppOptions.get("pdfBugEnabled")&&await this._parseHashParams();else{try{s.AppOptions.setAll(await this.preferences.getAll())}catch(e){console.error('_initializeOptions: "'.concat(e.message,'".'))}s.AppOptions.get("pdfBugEnabled")&&await this._parseHashParams()}}async _parseHashParams(){const e=document.location.hash.substring(1);if(!e)return;const{mainContainer:t,viewerContainer:i}=this.appConfig,a=(0,n.parseQueryString)(e);if("true"===a.get("disableworker"))try{await async function loadFakeWorker(){r.GlobalWorkerOptions.workerSrc||(r.GlobalWorkerOptions.workerSrc=s.AppOptions.get("workerSrc"));await(0,r.loadScript)(r.PDFWorker.workerSrc)}()}catch(e){console.error('_parseHashParams: "'.concat(e.message,'".'))}a.has("disablerange")&&s.AppOptions.set("disableRange","true"===a.get("disablerange"));a.has("disablestream")&&s.AppOptions.set("disableStream","true"===a.get("disablestream"));a.has("disableautofetch")&&s.AppOptions.set("disableAutoFetch","true"===a.get("disableautofetch"));a.has("disablefontface")&&s.AppOptions.set("disableFontFace","true"===a.get("disablefontface"));a.has("disablehistory")&&s.AppOptions.set("disableHistory","true"===a.get("disablehistory"));a.has("verbosity")&&s.AppOptions.set("verbosity",0|a.get("verbosity"));if(a.has("textlayer"))switch(a.get("textlayer")){case"off":s.AppOptions.set("textLayerMode",n.TextLayerMode.DISABLE);break;case"visible":case"shadow":case"hover":i.classList.add("textLayer-".concat(a.get("textlayer")));try{await loadPDFBug(this);this._PDFBug.loadCSS()}catch(e){console.error('_parseHashParams: "'.concat(e.message,'".'))}}if(a.has("pdfbug")){s.AppOptions.set("pdfBug",!0);s.AppOptions.set("fontExtraProperties",!0);const e=a.get("pdfbug").split(",");try{await loadPDFBug(this);this._PDFBug.init(t,e)}catch(e){console.error('_parseHashParams: "'.concat(e.message,'".'))}}a.has("locale")&&s.AppOptions.set("locale",a.get("locale"))}async _initializeL10n(){this.l10n=this.externalServices.createL10n({locale:s.AppOptions.get("locale")})}_forceCssTheme(){const e=s.AppOptions.get("viewerCssTheme");if(e!==x.AUTOMATIC&&Object.values(x).includes(e))try{const i=document.styleSheets[0],n=(null==i?void 0:i.cssRules)||[];for(let r=0,s=n.length;r<s;r++){var t;const s=n[r];if(s instanceof CSSMediaRule&&"(prefers-color-scheme: dark)"===(null===(t=s.media)||void 0===t?void 0:t[0])){if(e===x.LIGHT){i.deleteRule(r);return}const t=/^@media \(prefers-color-scheme: dark\) {\n\s*([\w\s-.,:;/\\{}()]+)\n}$/.exec(s.cssText);if(null!=t&&t[1]){i.deleteRule(r);i.insertRule(t[1],r)}return}}}catch(e){console.error('_forceCssTheme: "'.concat(null==e?void 0:e.message,'".'))}}async _initializeViewerComponents(){var e,t,i,T,C,L;const{appConfig:k,externalServices:x,l10n:D}=this,A=x.isInAutomation?new a.AutomationEventBus:new a.EventBus;this.eventBus=A;this.overlayManager=new d.OverlayManager;const V=new b.PDFRenderingQueue;V.onIdle=this._cleanup.bind(this);this.pdfRenderingQueue=V;const O=new o.PDFLinkService({eventBus:A,externalLinkTarget:s.AppOptions.get("externalLinkTarget"),externalLinkRel:s.AppOptions.get("externalLinkRel"),ignoreDestinationZoom:s.AppOptions.get("ignoreDestinationZoom")});this.pdfLinkService=O;const N=x.createDownloadManager();this.downloadManager=N;const R=new v.PDFFindController({linkService:O,eventBus:A,updateMatchesCountOnProgress:!0});this.findController=R;const B=new S.PDFScriptingManager({eventBus:A,sandboxBundleSrc:s.AppOptions.get("sandboxBundleSrc"),externalServices:x,docProperties:this._scriptingDocProperties.bind(this)});this.pdfScriptingManager=B;const G=k.mainContainer,W=k.viewerContainer,U=s.AppOptions.get("annotationEditorMode"),H=s.AppOptions.get("isOffscreenCanvasSupported")&&r.FeatureTest.isOffscreenCanvasSupported,z=s.AppOptions.get("forcePageColors")||window.matchMedia("(forced-colors: active)").matches?{background:s.AppOptions.get("pageColorsBackground"),foreground:s.AppOptions.get("pageColorsForeground")}:null,j=new E.PDFViewer({container:G,viewer:W,eventBus:A,renderingQueue:V,linkService:O,downloadManager:N,findController:R,scriptingManager:s.AppOptions.get("enableScripting")&&B,l10n:D,textLayerMode:s.AppOptions.get("textLayerMode"),annotationMode:s.AppOptions.get("annotationMode"),annotationEditorMode:U,imageResourcesPath:s.AppOptions.get("imageResourcesPath"),enablePrintAutoRotate:s.AppOptions.get("enablePrintAutoRotate"),useOnlyCssZoom:s.AppOptions.get("useOnlyCssZoom"),isOffscreenCanvasSupported:H,maxCanvasPixels:s.AppOptions.get("maxCanvasPixels"),enablePermissions:s.AppOptions.get("enablePermissions"),pageColors:z});this.pdfViewer=j;V.setViewer(j);O.setViewer(j);B.setViewer(j);if(null!==(e=k.sidebar)&&void 0!==e&&e.thumbnailView){this.pdfThumbnailViewer=new y.PDFThumbnailViewer({container:k.sidebar.thumbnailView,eventBus:A,renderingQueue:V,linkService:O,l10n:D,pageColors:z});V.setThumbnailViewer(this.pdfThumbnailViewer)}if(!this.isViewerEmbedded&&!s.AppOptions.get("disableHistory")){this.pdfHistory=new _.PDFHistory({linkService:O,eventBus:A});O.setHistory(this.pdfHistory)}!this.supportsIntegratedFind&&k.findBar&&(this.findBar=new g.PDFFindBar(k.findBar,A,D));if(k.annotationEditorParams)if(U!==r.AnnotationEditorType.DISABLE){if(s.AppOptions.get("enableStampEditor")&&H){var q;null===(q=k.toolbar)||void 0===q||null===(q=q.editorStampButton)||void 0===q||q.classList.remove("hidden")}this.annotationEditorParams=new c.AnnotationEditorParams(k.annotationEditorParams,A)}else for(const e of["editorModeButtons","editorModeSeparator"]){var K;null===(K=document.getElementById(e))||void 0===K||K.classList.add("hidden")}k.documentProperties&&(this.pdfDocumentProperties=new f.PDFDocumentProperties(k.documentProperties,this.overlayManager,A,D,(()=>this._docFilename)));null!==(t=k.secondaryToolbar)&&void 0!==t&&t.cursorHandToolButton&&(this.pdfCursorTools=new p.PDFCursorTools({container:G,eventBus:A,cursorToolOnLoad:s.AppOptions.get("cursorToolOnLoad")}));k.toolbar&&(this.toolbar=new I.Toolbar(k.toolbar,A,D));k.secondaryToolbar&&(this.secondaryToolbar=new M.SecondaryToolbar(k.secondaryToolbar,A,x));this.supportsFullscreen&&null!==(i=k.secondaryToolbar)&&void 0!==i&&i.presentationModeButton&&(this.pdfPresentationMode=new P.PDFPresentationMode({container:G,pdfViewer:j,eventBus:A}));k.passwordOverlay&&(this.passwordPrompt=new h.PasswordPrompt(k.passwordOverlay,this.overlayManager,D,this.isViewerEmbedded));null!==(T=k.sidebar)&&void 0!==T&&T.outlineView&&(this.pdfOutlineViewer=new m.PDFOutlineViewer({container:k.sidebar.outlineView,eventBus:A,linkService:O,downloadManager:N}));null!==(C=k.sidebar)&&void 0!==C&&C.attachmentsView&&(this.pdfAttachmentViewer=new u.PDFAttachmentViewer({container:k.sidebar.attachmentsView,eventBus:A,downloadManager:N}));null!==(L=k.sidebar)&&void 0!==L&&L.layersView&&(this.pdfLayerViewer=new w.PDFLayerViewer({container:k.sidebar.layersView,eventBus:A,l10n:D}));if(k.sidebar){this.pdfSidebar=new l.PDFSidebar({elements:k.sidebar,eventBus:A,l10n:D});this.pdfSidebar.onToggled=this.forceRendering.bind(this);this.pdfSidebar.onUpdateThumbnails=()=>{for(const t of j.getCachedPageViews())if(t.renderingState===n.RenderingStates.FINISHED){var e;null===(e=this.pdfThumbnailViewer.getThumbnail(t.id-1))||void 0===e||e.setImage(t)}this.pdfThumbnailViewer.scrollThumbnailIntoView(j.currentPageNumber)}}}async run(e){}get initialized(){return this._initializedCapability.settled}get initializedPromise(){return this._initializedCapability.promise}zoomIn(e,t){if(this.pdfViewer.isInPresentationMode)return;const i=this.pdfViewer.currentScale;this.pdfViewer.increaseScale({drawingDelay:s.AppOptions.get("defaultZoomDelay"),steps:e,scaleFactor:t});if(void 0===e&&void 0===t){const e=this.pdfViewer.container.getBoundingClientRect();this._centerAtPos(i,e.left+e.width/2,e.top+e.height/2)}}zoomOut(e,t){if(this.pdfViewer.isInPresentationMode)return;const i=this.pdfViewer.currentScale;this.pdfViewer.decreaseScale({drawingDelay:s.AppOptions.get("defaultZoomDelay"),steps:e,scaleFactor:t});if(void 0===e&&void 0===t){const e=this.pdfViewer.container.getBoundingClientRect();this._centerAtPos(i,e.left+e.width/2,e.top+e.height/2)}}zoomReset(){this.pdfViewer.isInPresentationMode||(this.pdfViewer.currentScaleValue=n.DEFAULT_SCALE_VALUE)}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(e){this.pdfViewer.currentPageNumber=e}get supportsPrinting(){return A.instance.supportsPrinting}get supportsFullscreen(){return(0,r.shadow)(this,"supportsFullscreen",document.fullscreenEnabled)}get supportsPinchToZoom(){return this.externalServices.supportsPinchToZoom}get supportsIntegratedFind(){return this.externalServices.supportsIntegratedFind}get supportsDocumentFonts(){return this.externalServices.supportsDocumentFonts}get loadingBar(){const e=document.getElementById("loadingBar"),t=e?new n.ProgressBar(e):null;return(0,r.shadow)(this,"loadingBar",t)}get supportedMouseWheelZoomModifierKeys(){return this.externalServices.supportedMouseWheelZoomModifierKeys}initPassiveLoading(e){throw new Error("Not implemented: initPassiveLoading")}setTitleUsingUrl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.url=e;this.baseUrl=e.split("#")[0];t&&(this._downloadUrl=t===e?this.baseUrl:t.split("#")[0]);(0,r.isDataScheme)(e)&&this._hideViewBookmark();let i=(0,r.getPdfFilenameFromUrl)(e,"");if(!i)try{i=decodeURIComponent((0,r.getFilenameFromUrl)(e))||e}catch{i=e}this.setTitle(i)}setTitle(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._title;this._title=e;if(this.isViewerEmbedded)return;const t=this._hasAnnotationEditors&&!this.pdfRenderingQueue.printing;document.title="".concat(t?"* ":"").concat(e)}get _docFilename(){return this._contentDispositionFilename||(0,r.getPdfFilenameFromUrl)(this.url)}_hideViewBookmark(){const{secondaryToolbar:e}=this.appConfig;null==e||e.viewBookmarkButton.classList.add("hidden");if(null!=e&&e.presentationModeButton.classList.contains("hidden")){var t;null===(t=document.getElementById("viewBookmarkSeparator"))||void 0===t||t.classList.add("hidden")}}async close(){var e,t,i,n,r,s,a,o,l,c,d,h;this._unblockDocumentLoadEvent();this._hideViewBookmark();if(!this.pdfLoadingTask)return;if((null===(e=this.pdfDocument)||void 0===e?void 0:e.annotationStorage.size)>0&&this._annotationStorageModified)try{await this.save()}catch{}const u=[];u.push(this.pdfLoadingTask.destroy());this.pdfLoadingTask=null;if(this.pdfDocument){var p,f,g;this.pdfDocument=null;null===(p=this.pdfThumbnailViewer)||void 0===p||p.setDocument(null);this.pdfViewer.setDocument(null);this.pdfLinkService.setDocument(null);null===(f=this.pdfDocumentProperties)||void 0===f||f.setDocument(null);null===(g=this.pdfFindController)||void 0===g||g.setDocument(null)}this.pdfLinkService.externalLinkEnabled=!0;this.store=null;this.isInitialViewSet=!1;this.downloadComplete=!1;this.url="";this.baseUrl="";this._downloadUrl="";this.documentInfo=null;this.metadata=null;this._contentDispositionFilename=null;this._contentLength=null;this._saveInProgress=!1;this._hasAnnotationEditors=!1;u.push(this.pdfScriptingManager.destroyPromise);this.setTitle();null===(t=this.pdfSidebar)||void 0===t||t.reset();null===(i=this.pdfOutlineViewer)||void 0===i||i.reset();null===(n=this.pdfAttachmentViewer)||void 0===n||n.reset();null===(r=this.pdfLayerViewer)||void 0===r||r.reset();null===(s=this.pdfHistory)||void 0===s||s.reset();null===(a=this.findBar)||void 0===a||a.close();null===(o=this.findBar)||void 0===o||o.reset();null===(l=this.toolbar)||void 0===l||l.reset();null===(c=this.secondaryToolbar)||void 0===c||c.reset();null===(d=this._PDFBug)||void 0===d||d.cleanup();null===(h=this.passwordPrompt)||void 0===h||h.close();await Promise.all(u)}async open(e){var t;let i=!1;if("string"==typeof e){e={url:e};i=!0}else if(null!==(t=e)&&void 0!==t&&t.byteLength){e={data:e};i=!0}i&&console.error("The `PDFViewerApplication.open` signature was updated, please use an object instead.");this.pdfLoadingTask&&await this.close();const n=s.AppOptions.getAll(s.OptionKind.WORKER);Object.assign(r.GlobalWorkerOptions,n);e.url&&this.setTitleUsingUrl(e.originalUrl||e.url,e.url);const a=s.AppOptions.getAll(s.OptionKind.API),o={canvasMaxAreaInBytes:this.externalServices.canvasMaxAreaInBytes,...a,...e},l=(0,r.getDocument)(o);this.pdfLoadingTask=l;l.onPassword=(e,t)=>{this.isViewerEmbedded&&this._unblockDocumentLoadEvent();this.pdfLinkService.externalLinkEnabled=!1;this.passwordPrompt.setUpdateCallback(e,t);this.passwordPrompt.open()};l.onProgress=e=>{let{loaded:t,total:i}=e;this.progress(t/i)};return l.promise.then((e=>{this.load(e)}),(e=>{if(l!==this.pdfLoadingTask)return;let t="loading_error";e instanceof r.InvalidPDFException?t="invalid_file_error":e instanceof r.MissingPDFException?t="missing_file_error":e instanceof r.UnexpectedResponseException&&(t="unexpected_response_error");return this.l10n.get(t).then((t=>{this._documentError(t,{message:null==e?void 0:e.message});throw e}))}))}_ensureDownloadComplete(){if(!this.pdfDocument||!this.downloadComplete)throw new Error("PDF document not downloaded.")}async download(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this._downloadUrl,i=this._docFilename;try{this._ensureDownloadComplete();const n=await this.pdfDocument.getData(),r=new Blob([n],{type:"application/pdf"});await this.downloadManager.download(r,t,i,e)}catch{await this.downloadManager.downloadUrl(t,i,e)}}async save(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._saveInProgress)return;this._saveInProgress=!0;await this.pdfScriptingManager.dispatchWillSave();const t=this._downloadUrl,i=this._docFilename;try{this._ensureDownloadComplete();const n=await this.pdfDocument.saveDocument(),r=new Blob([n],{type:"application/pdf"});await this.downloadManager.download(r,t,i,e)}catch(t){console.error("Error when saving the document: ".concat(t.message));await this.download(e)}finally{await this.pdfScriptingManager.dispatchDidSave();this._saveInProgress=!1}this._hasAnnotationEditors&&this.externalServices.reportTelemetry({type:"editing",data:{type:"save"}})}downloadOrSave(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(null===(e=this.pdfDocument)||void 0===e?void 0:e.annotationStorage.size)>0?this.save(t):this.download(t)}openInExternalApp(){this.downloadOrSave({openInExternalApp:!0})}_documentError(e){var t;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this._unblockDocumentLoadEvent();this._otherError(e,i);this.eventBus.dispatch("documenterror",{source:this,message:e,reason:null!==(t=null==i?void 0:i.message)&&void 0!==t?t:null})}_otherError(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const i=["PDF.js v".concat(r.version||"?"," (build: ").concat(r.build||"?",")")];if(t){i.push("Message: ".concat(t.message));if(t.stack)i.push("Stack: ".concat(t.stack));else{t.filename&&i.push("File: ".concat(t.filename));t.lineNumber&&i.push("Line: ".concat(t.lineNumber))}}console.error("".concat(e,"\n\n").concat(i.join("\n")))}progress(e){var t,i;if(!this.loadingBar||this.downloadComplete)return;const n=Math.round(100*e);if(!(n<=this.loadingBar.percent)){this.loadingBar.percent=n;(null!==(t=null===(i=this.pdfDocument)||void 0===i?void 0:i.loadingParams.disableAutoFetch)&&void 0!==t?t:s.AppOptions.get("disableAutoFetch"))&&this.loadingBar.setDisableAutoFetch()}}load(e){var t,i,r,a;this.pdfDocument=e;e.getDownloadInfo().then((e=>{var t;let{length:i}=e;this._contentLength=i;this.downloadComplete=!0;null===(t=this.loadingBar)||void 0===t||t.hide();h.then((()=>{this.eventBus.dispatch("documentloaded",{source:this})}))}));const o=e.getPageLayout().catch((function(){})),l=e.getPageMode().catch((function(){})),c=e.getOpenAction().catch((function(){}));null===(t=this.toolbar)||void 0===t||t.setPagesCount(e.numPages,!1);null===(i=this.secondaryToolbar)||void 0===i||i.setPagesCount(e.numPages);this.pdfLinkService.setDocument(e);null===(r=this.pdfDocumentProperties)||void 0===r||r.setDocument(e);const d=this.pdfViewer;d.setDocument(e);const{firstPagePromise:h,onePageRendered:u,pagesPromise:p}=d;null===(a=this.pdfThumbnailViewer)||void 0===a||a.setDocument(e);const f=(this.store=new T.ViewHistory(e.fingerprints[0])).getMultiple({page:null,zoom:n.DEFAULT_SCALE_VALUE,scrollLeft:"0",scrollTop:"0",rotation:null,sidebarView:n.SidebarView.UNKNOWN,scrollMode:n.ScrollMode.UNKNOWN,spreadMode:n.SpreadMode.UNKNOWN,sidebarWidth:this.sidebarMinWidth}).catch((()=>Object.create(null)));h.then((t=>{var i;null===(i=this.loadingBar)||void 0===i||i.setWidth(this.appConfig.viewerContainer);this._initializeAnnotationStorageCallbacks(e);Promise.all([n.animationStarted,f,o,l,c]).then((async t=>{let[i,r,a,o,l]=t;const c=s.AppOptions.get("viewOnLoad");this._initializePdfHistory({fingerprint:e.fingerprints[0],viewOnLoad:c,initialDest:null==l?void 0:l.dest});const h=this.initialBookmark,u=s.AppOptions.get("defaultZoomValue");let f=u?"zoom=".concat(u):null,g=null,v=s.AppOptions.get("sidebarViewOnLoad"),_=s.AppOptions.get("scrollModeOnLoad"),w=s.AppOptions.get("spreadModeOnLoad");if(r.page&&c!==k){f="page=".concat(r.page,"&zoom=").concat(u||r.zoom,",")+"".concat(r.scrollLeft,",").concat(r.scrollTop);g=parseInt(r.rotation,10);v===n.SidebarView.UNKNOWN&&(v=0|r.sidebarView);_===n.ScrollMode.UNKNOWN&&(_=0|r.scrollMode);w===n.SpreadMode.UNKNOWN&&(w=0|r.spreadMode)}o&&v===n.SidebarView.UNKNOWN&&(v=(0,n.apiPageModeToSidebarView)(o));if(a&&_===n.ScrollMode.UNKNOWN&&w===n.SpreadMode.UNKNOWN){w=(0,n.apiPageLayoutToViewerModes)(a).spreadMode}const m=localStorage.getItem("pdfjs.sidebarView"),P=this.isEmbed?null:localStorage.getItem("pdfjs.sidebarWidth");let b=P?parseInt(P):this.sidebarMinWidth;v=m?parseInt(m):v;({hash:f,rotation:g,sidebarView:v,scrollMode:_,spreadMode:w,sidebarWidth:b}=this.getInitialViewOverrides(r,f,{rotation:g,sidebarView:v,scrollMode:_,spreadMode:w,sidebarWidth:b}));this.setInitialView(f,{rotation:g,sidebarView:v,scrollMode:_,spreadMode:w,sidebarWidth:b});this.eventBus.dispatch("documentinit",{source:this});this.isViewerEmbedded||d.focus();await Promise.race([p,new Promise((e=>{activeWindow.setTimeout(e,1e4)}))]);if((h||f)&&!d.hasEqualPageSizes){this.initialBookmark=h;d.currentScaleValue=d.currentScaleValue;this.setInitialView(f)}})).catch((()=>{this.setInitialView()})).then((function(){d.update()}))}));p.then((()=>{this._unblockDocumentLoadEvent();this._initializeAutoPrint(e,c)}),(e=>{this.l10n.get("loading_error").then((t=>{this._documentError(t,{message:null==e?void 0:e.message})}))}));const g=this._initializePageLabels(e);u.then((t=>{this.externalServices.reportTelemetry({type:"pageInfo",timestamp:t.timestamp});this.pdfOutlineViewer&&e.getOutline().then((t=>{if(e!==this.pdfDocument)return[];this.pdfOutlineViewer.renderTree({outline:t,pdfDocument:e});return g})).then((e=>{this.pdfOutlineViewer.setPageLabels(e)}));this.pdfAttachmentViewer&&e.getAttachments().then((t=>{e===this.pdfDocument&&this.pdfAttachmentViewer.renderTree({attachments:t})}));this.pdfLayerViewer&&d.optionalContentConfigPromise.then((t=>{e===this.pdfDocument&&this.pdfLayerViewer.renderTree({optionalContentConfig:t,pdfDocument:e})}))}));this._initializeMetadata(e)}getInitialViewOverrides(e,t,i){let{rotation:n,sidebarView:r,scrollMode:s,spreadMode:a,sidebarWidth:o}=i;return{hash:t,rotation:n,sidebarView:r,scrollMode:s,spreadMode:a,sidebarWidth:o}}async _scriptingDocProperties(e){var t,i;if(!this.documentInfo){await new Promise((e=>{this.eventBus._on("metadataloaded",e,{once:!0})}));if(e!==this.pdfDocument)return null}if(!this._contentLength){await new Promise((e=>{this.eventBus._on("documentloaded",e,{once:!0})}));if(e!==this.pdfDocument)return null}return{...this.documentInfo,baseURL:this.baseUrl,filesize:this._contentLength,filename:this._docFilename,metadata:null===(t=this.metadata)||void 0===t?void 0:t.getRaw(),authors:null===(i=this.metadata)||void 0===i?void 0:i.get("dc:creator"),numPages:this.pagesCount,URL:this.url}}async _initializeAutoPrint(e,t){const[i,r]=await Promise.all([t,this.pdfViewer.enableScripting?null:e.getJavaScript()]);if(e!==this.pdfDocument)return;let s=!1;"Print"===(null==i?void 0:i.action)&&(s=!0);if(r){r.some((e=>{if(!e)return!1;console.warn("Warning: JavaScript support is not enabled");return!0}));if(!s)for(const e of r)if(e&&n.AutoPrintRegExp.test(e)){s=!0;break}}s&&this.triggerPrinting()}async _initializeMetadata(e){var t,i;const{info:n,metadata:r,contentDispositionFilename:s,contentLength:a}=await e.getMetadata();if(e!==this.pdfDocument)return;this.documentInfo=n;this.metadata=r;null!==(t=this._contentDispositionFilename)&&void 0!==t||(this._contentDispositionFilename=s);null!==(i=this._contentLength)&&void 0!==i||(this._contentLength=a);let o=n.Title;const l=null==r?void 0:r.get("dc:title");l&&("Untitled"===l||/[\uFFF0-\uFFFF]/g.test(l)||(o=l));o?this.setTitle("".concat(o," - ").concat(this._contentDispositionFilename||this._title)):this._contentDispositionFilename&&this.setTitle(this._contentDispositionFilename);!n.IsXFAPresent||n.IsAcroFormPresent||e.isPureXfa?!n.IsAcroFormPresent&&!n.IsXFAPresent||this.pdfViewer.renderForms||console.warn("Warning: Interactive form support is not enabled"):e.loadingParams.enableXfa?console.warn("Warning: XFA Foreground documents are not supported"):console.warn("Warning: XFA support is not enabled");this.eventBus.dispatch("metadataloaded",{source:this})}async _initializePageLabels(e){const t=await e.getPageLabels();if(e!==this.pdfDocument)return[];if(!t||s.AppOptions.get("disablePageLabels"))return[];const i=t.length;let n=0,r=0;for(let e=0;e<i;e++){const i=t[e];if(i===(e+1).toString())n++;else{if(""!==i)break;r++}}if(n>=i||r>=i)return[];const{pdfViewer:a,pdfThumbnailViewer:o,toolbar:l}=this;a.setPageLabels(t);null==o||o.setPageLabels(t);null==l||l.setPagesCount(i,!0);null==l||l.setPageNumber(a.currentPageNumber,a.currentPageLabel);return t}_initializePdfHistory(e){let{fingerprint:t,viewOnLoad:i,initialDest:n=null}=e;if(this.pdfHistory){this.pdfHistory.initialize({fingerprint:t,resetHistory:i===k,updateUrl:s.AppOptions.get("historyUpdateUrl")});if(this.pdfHistory.initialBookmark){this.initialBookmark=this.pdfHistory.initialBookmark;this.initialRotation=this.pdfHistory.initialRotation}if(n&&!this.initialBookmark&&i===L){this.initialBookmark=JSON.stringify(n);this.pdfHistory.push({explicitDest:n,pageNumber:null})}}}_initializeAnnotationStorageCallbacks(e){if(e!==this.pdfDocument)return;const{annotationStorage:t}=e;t.onSetModified=()=>{window.addEventListener("beforeunload",beforeUnload);this._annotationStorageModified=!0};t.onResetModified=()=>{window.removeEventListener("beforeunload",beforeUnload);delete this._annotationStorageModified};t.onAnnotationEditor=e=>{this._hasAnnotationEditors=!!e;this.setTitle();e&&this.externalServices.reportTelemetry({type:"editing",data:{type:e}})}}setInitialView(e){var t,i,r,s;let{rotation:a,sidebarView:o,scrollMode:l,spreadMode:c,sidebarWidth:d}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const setRotation=e=>{(0,n.isValidRotation)(e)&&(this.pdfViewer.pagesRotation=e)};this.isInitialViewSet=!0;null===(t=this.pdfSidebar)||void 0===t||t.setInitialView(o);if(void 0!==d){var h;null===(h=this.pdfSidebarResizer)||void 0===h||h._updateWidth(d)}((e,t)=>{(0,n.isValidScrollMode)(e)&&(this.pdfViewer.scrollMode=e);(0,n.isValidSpreadMode)(t)&&(this.pdfViewer.spreadMode=t)})(l,c);if(this.initialBookmark){setRotation(this.initialRotation);delete this.initialRotation;this.pdfLinkService.setHash(this.initialBookmark);this.initialBookmark=null}else if(e){setRotation(a);this.pdfLinkService.setHash(e)}null===(i=this.toolbar)||void 0===i||i.setPageNumber(this.pdfViewer.currentPageNumber,this.pdfViewer.currentPageLabel);null===(r=this.secondaryToolbar)||void 0===r||r.setPageNumber(this.pdfViewer.currentPageNumber);null===(s=this.pdfOutlineViewer)||void 0===s||s.setPageNumber(this.pdfViewer.currentPageNumber);this.pdfViewer.currentScaleValue||(this.pdfViewer.currentScaleValue=n.DEFAULT_SCALE_VALUE)}_cleanup(){var e;if(this.pdfDocument){this.pdfViewer.cleanup();null===(e=this.pdfThumbnailViewer)||void 0===e||e.cleanup();this.pdfDocument.cleanup()}}forceRendering(){var e;this.pdfRenderingQueue.printing=!!this.printService;this.pdfRenderingQueue.isThumbnailViewEnabled=(null===(e=this.pdfSidebar)||void 0===e?void 0:e.visibleView)===n.SidebarView.THUMBS;this.pdfRenderingQueue.renderHighestPriority()}beforePrint(){this._printAnnotationStoragePromise=this.pdfScriptingManager.dispatchWillPrint().catch((()=>{})).then((()=>{var e;return null===(e=this.pdfDocument)||void 0===e?void 0:e.annotationStorage.print}));if(this.printService)return;if(!this.supportsPrinting){this.l10n.get("printing_not_supported").then((e=>{this._otherError(e)}));return}if(!this.pdfViewer.pageViewsReady){this.l10n.get("printing_not_ready").then((e=>{window.alert(e)}));return}const e=this.pdfViewer.getPagesOverview(),t=this.appConfig.printContainer,i=s.AppOptions.get("printResolution"),n=this.pdfViewer.optionalContentConfigPromise,r=A.instance.createPrintService(this.pdfDocument,e,t,i,n,this._printAnnotationStoragePromise,this.l10n);this.printService=r;this.forceRendering();this.setTitle();r.layout();this._hasAnnotationEditors&&this.externalServices.reportTelemetry({type:"editing",data:{type:"print"}})}afterPrint(){if(this._printAnnotationStoragePromise){this._printAnnotationStoragePromise.then((()=>{this.pdfScriptingManager.dispatchDidPrint()}));this._printAnnotationStoragePromise=null}if(this.printService){var e;this.printService.destroy();this.printService=null;null===(e=this.pdfDocument)||void 0===e||e.annotationStorage.resetModified()}this.forceRendering();this.setTitle()}rotatePages(e){this.pdfViewer.pagesRotation+=e}requestPresentationMode(){var e;null===(e=this.pdfPresentationMode)||void 0===e||e.request()}triggerPrinting(){this.supportsPrinting&&window.print()}bindEvents(){const{eventBus:e,_boundEvents:t,events:i}=this,{webViewerResize:n,webViewerHashchange:r,webViewerPageRender:a,webViewerPageRendered:o,webViewerUpdateViewarea:l,webViewerPageChanging:c,webViewerScaleChanging:d,webViewerRotationChanging:h,webViewerSidebarViewChanged:u,webViewerPageMode:p,webViewerNamedAction:f,webViewerPresentationModeChanged:g,webViewerPresentationMode:v,webViewerSwitchAnnotationEditorMode:_,webViewerSwitchAnnotationEditorParams:w,webViewerPrint:m,webViewerDownload:P,webViewerFirstPage:b,webViewerLastPage:S,webViewerNextPage:y,webViewerPreviousPage:E,webViewerZoomIn:M,webViewerZoomOut:I,webViewerZoomReset:T,webViewerPageNumberChanged:C,webViewerScaleChanged:L,webViewerRotateCw:k,webViewerRotateCcw:x,webViewerOptionalContentConfig:D,webViewerSwitchScrollMode:A,webViewerScrollModeChanged:V,webViewerSwitchSpreadMode:O,webViewerSpreadModeChanged:N,webViewerDocumentProperties:R,webViewerFindFromUrlHash:B,webViewerUpdateFindMatchesCount:G,webViewerUpdateFindControlState:W,webViewerFileInputChange:U,webViewerOpenFile:H,webViewerAnnotationEditorStatesChanged:z}=i;t.beforePrint=this.beforePrint.bind(this);t.afterPrint=this.afterPrint.bind(this);e._on("resize",n);e._on("hashchange",r);e._on("beforeprint",t.beforePrint);e._on("afterprint",t.afterPrint);e._on("pagerender",a);e._on("pagerendered",o);e._on("updateviewarea",l);e._on("pagechanging",c);e._on("scalechanging",d);e._on("rotationchanging",h);e._on("sidebarviewchanged",u);e._on("pagemode",p);e._on("namedaction",f);e._on("presentationmodechanged",g);e._on("presentationmode",v);e._on("switchannotationeditormode",_);e._on("switchannotationeditorparams",w);e._on("print",m);e._on("download",P);e._on("openinexternalapp",webViewerOpenInExternalApp);e._on("firstpage",b);e._on("lastpage",S);e._on("nextpage",y);e._on("previouspage",E);e._on("zoomin",M);e._on("zoomout",I);e._on("zoomreset",T);e._on("pagenumberchanged",C);e._on("scalechanged",L);e._on("rotatecw",k);e._on("rotateccw",x);e._on("optionalcontentconfig",D);e._on("switchscrollmode",A);e._on("scrollmodechanged",V);e._on("switchspreadmode",O);e._on("spreadmodechanged",N);e._on("documentproperties",R);e._on("findfromurlhash",B);e._on("updatefindmatchescount",G);e._on("updatefindcontrolstate",W);if(s.AppOptions.get("pdfBug")){t.reportPageStatsPDFBug=reportPageStatsPDFBug;e._on("pagerendered",t.reportPageStatsPDFBug);e._on("pagechanging",t.reportPageStatsPDFBug)}e._on("fileinputchange",U);e._on("openfile",H)}bindWindowEvents(){const{webViewerWheel:e,webViewerTouchStart:t,webViewerTouchMove:i,webViewerTouchEnd:n}=this.events,{container:r}=this.pdfViewer;r.addEventListener("wheel",e,{passive:!1});r.addEventListener("touchstart",t,{passive:!1});r.addEventListener("touchmove",i,{passive:!1});r.addEventListener("touchend",n,{passive:!1})}unbindEvents(){const{eventBus:e,_boundEvents:t}=this,{webViewerResize:i,webViewerHashchange:n,webViewerPageRender:r,webViewerPageRendered:s,webViewerUpdateViewarea:a,webViewerPageChanging:o,webViewerScaleChanging:l,webViewerRotationChanging:c,webViewerSidebarViewChanged:d,webViewerPageMode:h,webViewerNamedAction:u,webViewerPresentationModeChanged:p,webViewerPresentationMode:f,webViewerSwitchAnnotationEditorMode:g,webViewerSwitchAnnotationEditorParams:v,webViewerPrint:_,webViewerDownload:w,webViewerFirstPage:m,webViewerLastPage:P,webViewerNextPage:b,webViewerPreviousPage:S,webViewerZoomIn:y,webViewerZoomOut:E,webViewerZoomReset:M,webViewerPageNumberChanged:I,webViewerScaleChanged:T,webViewerRotateCw:C,webViewerRotateCcw:L,webViewerOptionalContentConfig:k,webViewerSwitchScrollMode:x,webViewerScrollModeChanged:D,webViewerSwitchSpreadMode:A,webViewerSpreadModeChanged:V,webViewerDocumentProperties:O,webViewerFindFromUrlHash:N,webViewerUpdateFindMatchesCount:R,webViewerUpdateFindControlState:B,webViewerFileInputChange:G,webViewerOpenFile:W}=this.events;e._off("resize",i);e._off("hashchange",n);e._off("beforeprint",t.beforePrint);e._off("afterprint",t.afterPrint);e._off("pagerender",r);e._off("pagerendered",s);e._off("updateviewarea",a);e._off("pagechanging",o);e._off("scalechanging",l);e._off("rotationchanging",c);e._off("sidebarviewchanged",d);e._off("pagemode",h);e._off("namedaction",u);e._off("presentationmodechanged",p);e._off("presentationmode",f);e._off("switchannotationeditormode",g);e._off("switchannotationeditorparams",v);e._off("print",_);e._off("download",w);e._off("openinexternalapp",webViewerOpenInExternalApp);e._off("firstpage",m);e._off("lastpage",P);e._off("nextpage",b);e._off("previouspage",S);e._off("zoomin",y);e._off("zoomout",E);e._off("zoomreset",M);e._off("pagenumberchanged",I);e._off("scalechanged",T);e._off("rotatecw",C);e._off("rotateccw",L);e._off("optionalcontentconfig",k);e._off("switchscrollmode",x);e._off("scrollmodechanged",D);e._off("switchspreadmode",A);e._off("spreadmodechanged",V);e._off("documentproperties",O);e._off("findfromurlhash",N);e._off("updatefindmatchescount",R);e._off("updatefindcontrolstate",B);if(t.reportPageStatsPDFBug){e._off("pagerendered",t.reportPageStatsPDFBug);e._off("pagechanging",t.reportPageStatsPDFBug);t.reportPageStatsPDFBug=null}e._off("fileinputchange",G);e._off("openfile",W);t.beforePrint=null;t.afterPrint=null}unbindWindowEvents(){const{webViewerWheel:e,webViewerTouchStart:t,webViewerTouchMove:i,webViewerTouchEnd:n}=this.events,{container:r}=this.pdfViewer;r.removeEventListener("wheel",e,{passive:!1});r.removeEventListener("touchstart",t,{passive:!1});r.removeEventListener("touchmove",i,{passive:!1});r.removeEventListener("touchend",n,{passive:!1})}_accumulateTicks(e,t){(this[t]>0&&e<0||this[t]<0&&e>0)&&(this[t]=0);this[t]+=e;const i=Math.trunc(this[t]);this[t]-=i;return i}_accumulateFactor(e,t,i){if(1===t)return 1;(this[i]>1&&t<1||this[i]<1&&t>1)&&(this[i]=1);const n=Math.floor(e*t*this[i]*100)/(100*e);this[i]=t/n;return n}_centerAtPos(e,t,i){const{pdfViewer:n}=this,r=n.currentScale/e-1;if(0!==r){const e=n.container.getBoundingClientRect();n.container.scrollLeft+=(t-e.left)*r;n.container.scrollTop+=(i-e.top)*r}}_unblockDocumentLoadEvent(){var e,t;null===(e=(t=document).blockUnblockOnload)||void 0===e||e.call(t,!1);this._unblockDocumentLoadEvent=()=>{}}get scriptingReady(){return this.pdfScriptingManager.ready}}t.PDFViewerApplication=PDFViewerApplication;async function loadPDFBug(e){const{debuggerScriptPath:t}=e.appConfig,{PDFBug:i}=await import(t);e._PDFBug=i}function reportPageStatsPDFBug(e){var t,i;let{pageNumber:n}=e;if(null===(t=globalThis.Stats)||void 0===t||!t.enabled)return;const r=this.pdfViewer.getPageView(n-1);globalThis.Stats.add(n,null==r||null===(i=r.pdfPage)||void 0===i?void 0:i.stats)}function webViewerPageRender(e){let{pageNumber:t}=e;const i=this;if(t===i.page){var n;null===(n=i.toolbar)||void 0===n||n.updateLoadingIndicatorState(!0)}}function webViewerPageRendered(e){var t;let{pageNumber:i,error:r}=e;const s=this;if(i===s.page){var a;null===(a=s.toolbar)||void 0===a||a.updateLoadingIndicatorState(!1)}if((null===(t=s.pdfSidebar)||void 0===t?void 0:t.visibleView)===n.SidebarView.THUMBS){var o;const e=s.pdfViewer.getPageView(i-1),t=null===(o=s.pdfThumbnailViewer)||void 0===o?void 0:o.getThumbnail(i-1);e&&(null==t||t.setImage(e))}r&&s.l10n.get("rendering_error").then((e=>{s._otherError(e,r)}))}function webViewerPageMode(e){var t;let{mode:i}=e;let r;switch(i){case"thumbs":r=n.SidebarView.THUMBS;break;case"bookmarks":case"outline":r=n.SidebarView.OUTLINE;break;case"attachments":r=n.SidebarView.ATTACHMENTS;break;case"layers":r=n.SidebarView.LAYERS;break;case"none":r=n.SidebarView.NONE;break;default:console.error('Invalid "pagemode" hash parameter: '+i);return}null===(t=this.pdfSidebar)||void 0===t||t.switchView(r,!0)}function webViewerNamedAction(e){var t;const i=this;switch(e.action){case"GoToPage":null===(t=i.appConfig.toolbar)||void 0===t||t.pageNumber.select();break;case"Find":i.supportsIntegratedFind||null==i||i.findBar.toggle();break;case"Print":i.triggerPrinting();break;case"SaveAs":i.downloadOrSave()}}function webViewerPresentationModeChanged(e){this.pdfViewer.presentationModeState=e.state}function webViewerSidebarViewChanged(e){let{view:t}=e;const i=this;i.pdfRenderingQueue.isThumbnailViewEnabled=t===n.SidebarView.THUMBS;if(i.isInitialViewSet){var r;null===(r=i.store)||void 0===r||r.set("sidebarView",t).catch((()=>{}))}i.isInitialViewSet&&localStorage.setItem("pdfjs.sidebarView",t.toString())}function webViewerUpdateViewarea(e){let{location:t}=e;const i=this;i.location=t;if(i.isInitialViewSet&&!i.isEmbed){var n;null===(n=i.store)||void 0===n||n.setMultiple({page:t.pageNumber,zoom:t.scale,scrollLeft:t.left,scrollTop:t.top,rotation:t.rotation}).catch((()=>{}))}if(i.appConfig.secondaryToolbar){const e=i.pdfLinkService.getAnchorUrl(t.pdfOpenParams);i.appConfig.secondaryToolbar.viewBookmarkButton.href=e}}function webViewerScrollModeChanged(e){const t=this;if(t.isInitialViewSet&&!t.pdfViewer.isInPresentationMode){var i;null===(i=t.store)||void 0===i||i.set("scrollMode",e.mode).catch((()=>{}))}}function webViewerSpreadModeChanged(e){const t=this;if(t.isInitialViewSet&&!t.pdfViewer.isInPresentationMode){var i;null===(i=t.store)||void 0===i||i.set("spreadMode",e.mode).catch((()=>{}))}}function webViewerResize(e){const{pdfDocument:t,pdfViewer:i,pdfRenderingQueue:n,pdfSidebarResizer:r}=this;if(n.printing&&window.matchMedia("print").matches)return;if(!t)return;const s=i.currentScaleValue;"auto"!==s&&"page-fit"!==s&&"page-width"!==s||(i.currentScaleValue=s);i.update();e.source===r&&localStorage.setItem("pdfjs.sidebarWidth",r._width.toString())}function webViewerHashchange(e){var t;const i=this,n=e.hash;n&&(i.isInitialViewSet?null!==(t=i.pdfHistory)&&void 0!==t&&t.popStateInProgress||i.pdfLinkService.setHash(n):i.initialBookmark=n)}var webViewerFileInputChange=function(e){var t;if(null!==(t=PDFViewerApplication.pdfViewer)&&void 0!==t&&t.isInPresentationMode)return;const i=e.fileInput.files[0];PDFViewerApplication.open({url:URL.createObjectURL(i),originalUrl:i.name})},webViewerOpenFile=function(e){PDFViewerApplication.appConfig.openFileInput.click()};function webViewerPresentationMode(){this.requestPresentationMode()}function webViewerSwitchAnnotationEditorMode(e){this.pdfViewer.annotationEditorMode=e}function webViewerSwitchAnnotationEditorParams(e){this.pdfViewer.annotationEditorParams=e}function webViewerPrint(){this.triggerPrinting()}function webViewerDownload(){this.downloadOrSave()}function webViewerOpenInExternalApp(){this.openInExternalApp()}function webViewerFirstPage(){this.page=1}function webViewerLastPage(){this.page=this.pagesCount}function webViewerNextPage(){this.pdfViewer.nextPage()}function webViewerPreviousPage(){this.pdfViewer.previousPage()}function webViewerZoomIn(){this.zoomIn()}function webViewerZoomOut(){this.zoomOut()}function webViewerZoomReset(){this.zoomReset()}function webViewerPageNumberChanged(e){const t=this,i=t.pdfViewer;""!==e.value&&t.pdfLinkService.goToPage(e.value);if(e.value!==i.currentPageNumber.toString()&&e.value!==i.currentPageLabel){var n;null===(n=t.toolbar)||void 0===n||n.setPageNumber(i.currentPageNumber,i.currentPageLabel)}}function webViewerScaleChanged(e){this.pdfViewer.currentScaleValue=e.value}function webViewerRotateCw(){this.rotatePages(90)}function webViewerRotateCcw(){this.rotatePages(-90)}function webViewerOptionalContentConfig(e){this.pdfViewer.optionalContentConfigPromise=e.promise}function webViewerSwitchScrollMode(e){this.pdfViewer.scrollMode=e.mode}function webViewerSwitchSpreadMode(e){this.pdfViewer.spreadMode=e.mode}function webViewerDocumentProperties(){var e;null===(e=this.pdfDocumentProperties)||void 0===e||e.open()}function webViewerFindFromUrlHash(e){this.eventBus.dispatch("find",{source:e.source,type:"",query:e.query,caseSensitive:!1,entireWord:!1,highlightAll:!0,findPrevious:!1,matchDiacritics:!0})}function webViewerUpdateFindMatchesCount(e){let{matchesCount:t}=e;const i=this;i.supportsIntegratedFind?i.externalServices.updateFindMatchesCount(t):i.findBar.updateResultsCount(t)}function webViewerUpdateFindControlState(e){let{state:t,previous:i,matchesCount:n,rawQuery:r}=e;const s=this;if(s.supportsIntegratedFind)s.externalServices.updateFindControlState({result:t,findPrevious:i,matchesCount:n,rawQuery:r});else{var a;null===(a=s.findBar)||void 0===a||a.updateUIState(t,i,n)}}function webViewerScaleChanging(e){var t;null===(t=this.toolbar)||void 0===t||t.setPageScale(e.presetValue,e.scale);this.pdfViewer.update()}function webViewerRotationChanging(e){const t=this;t.pdfThumbnailViewer&&(t.pdfThumbnailViewer.pagesRotation=e.pagesRotation);t.forceRendering();t.pdfViewer.currentPageNumber=e.pageNumber}function webViewerPageChanging(e){var t,i,r,s;let{pageNumber:a,pageLabel:o}=e;const l=this;null===(t=l.toolbar)||void 0===t||t.setPageNumber(a,o);null===(i=l.secondaryToolbar)||void 0===i||i.setPageNumber(a);if((null===(r=l.pdfSidebar)||void 0===r?void 0:r.visibleView)===n.SidebarView.THUMBS){var c;null===(c=l.pdfThumbnailViewer)||void 0===c||c.scrollThumbnailIntoView(a)}const d=l.pdfViewer.getPageView(a-1);null===(s=l.toolbar)||void 0===s||s.updateLoadingIndicatorState((null==d?void 0:d.renderingState)===n.RenderingStates.RUNNING)}function webViewerVisibilityChange(e){"visible"===document.visibilityState&&setZoomDisabledTimeout()}let D=null;function setZoomDisabledTimeout(){D&&activeWindow.clearTimeout(D);D=activeWindow.setTimeout((function(){D=null}),C)}function webViewerWheel(e){const t=this,{pdfViewer:i,supportedMouseWheelZoomModifierKeys:r,supportsPinchToZoom:s}=t;if(i.isInPresentationMode)return;const a=e.deltaMode;let o=Math.exp(-e.deltaY/100);const l=e.ctrlKey&&!t._isCtrlKeyDown&&a===WheelEvent.DOM_DELTA_PIXEL&&0===e.deltaX&&(Math.abs(o-1)<.05||!1)&&0===e.deltaZ;if(l||e.ctrlKey&&r.ctrlKey||e.metaKey&&r.metaKey){e.preventDefault();if(D||"hidden"===document.visibilityState)return;const r=i.currentScale;if(l&&s){o=t._accumulateFactor(r,o,"_wheelUnusedFactor");if(o<1)t.zoomOut(null,o);else{if(!(o>1))return;t.zoomIn(null,o)}}else{const i=(0,n.normalizeWheelEventDirection)(e);let r=0;if(a===WheelEvent.DOM_DELTA_LINE||a===WheelEvent.DOM_DELTA_PAGE)r=Math.abs(i)>=1?Math.sign(i):t._accumulateTicks(i,"_wheelUnusedTicks");else{const e=30;r=t._accumulateTicks(i/e,"_wheelUnusedTicks")}if(r<0)t.zoomOut(-r);else{if(!(r>0))return;t.zoomIn(r)}}t._centerAtPos(r,e.clientX,e.clientY)}else setZoomDisabledTimeout()}function webViewerTouchStart(e){const t=this;if(t.pdfViewer.isInPresentationMode||e.touches.length<2)return;e.preventDefault();if(2!==e.touches.length){t._touchInfo=null;return}let[i,n]=e.touches;i.identifier>n.identifier&&([i,n]=[n,i]);t._touchInfo={touch0X:i.pageX,touch0Y:i.pageY,touch1X:n.pageX,touch1Y:n.pageY}}function webViewerTouchMove(e){const t=this;if(!t._touchInfo||2!==e.touches.length)return;const{pdfViewer:i,_touchInfo:n,supportsPinchToZoom:r}=t;let[s,a]=e.touches;s.identifier>a.identifier&&([s,a]=[a,s]);const{pageX:o,pageY:l}=s,{pageX:c,pageY:d}=a,{touch0X:h,touch0Y:u,touch1X:p,touch1Y:f}=n;if(Math.abs(h-o)<=1&&Math.abs(u-l)<=1&&Math.abs(p-c)<=1&&Math.abs(f-d)<=1)return;n.touch0X=o;n.touch0Y=l;n.touch1X=c;n.touch1Y=d;if(h===o&&u===l){const e=p-o,t=f-l,i=c-o,n=d-l,r=e*n-t*i;if(Math.abs(r)>.02*Math.hypot(e,t)*Math.hypot(i,n))return}else if(p===c&&f===d){const e=h-c,t=u-d,i=o-c,n=l-d,r=e*n-t*i;if(Math.abs(r)>.02*Math.hypot(e,t)*Math.hypot(i,n))return}else{if((o-h)*(c-p)+(l-u)*(d-f)>=0)return}e.preventDefault();const g=Math.hypot(o-c,l-d)||1,v=Math.hypot(h-p,u-f)||1,_=i.currentScale;if(r){const e=t._accumulateFactor(_,g/v,"_touchUnusedFactor");if(e<1)t.zoomOut(null,e);else{if(!(e>1))return;t.zoomIn(null,e)}}else{const e=30,i=t._accumulateTicks((g-v)/e,"_touchUnusedTicks");if(i<0)t.zoomOut(-i);else{if(!(i>0))return;t.zoomIn(i)}}t._centerAtPos(_,(o+c)/2,(l+d)/2)}function webViewerTouchEnd(e){const t=this;if(t._touchInfo){e.preventDefault();t._touchInfo=null;t._touchUnusedTicks=0;t._touchUnusedFactor=1}}function webViewerClick(e){var t,i,n;const r=this;if(null===(t=r.secondaryToolbar)||void 0===t||!t.isOpen)return;const s=r.appConfig;(r.pdfViewer.containsElement(e.target)||null!==(i=s.toolbar)&&void 0!==i&&i.container.contains(e.target)&&e.target!==(null===(n=s.secondaryToolbar)||void 0===n?void 0:n.toggleButton))&&r.secondaryToolbar.close()}function webViewerKeyUp(e){const t=this;"Control"===e.key&&(t._isCtrlKeyDown=!1)}function webViewerKeyDown(e){var t,i,r,s,a;const o=this;o._isCtrlKeyDown="Control"===e.key;if(o.overlayManager.active)return;const{eventBus:l,pdfViewer:c}=o,d=c.isInPresentationMode;let h=!1,u=!1;const p=(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0);if(1===p||8===p||5===p||12===p)switch(e.keyCode){case 70:if(!o.supportsIntegratedFind&&!e.shiftKey){var f;null===(f=o.findBar)||void 0===f||f.open();h=!0}break;case 71:if(!o.supportsIntegratedFind){const{state:e}=o.findController;if(e){const t={source:window,type:"again",findPrevious:5===p||12===p};l.dispatch("find",{...e,...t})}h=!0}break;case 61:case 107:case 187:case 171:o.zoomIn();h=!0;break;case 173:case 109:case 189:o.zoomOut();h=!0;break;case 48:case 96:if(!d){activeWindow.setTimeout((function(){o.zoomReset()}));h=!1}break;case 38:if(d||o.page>1){o.page=1;h=!0;u=!0}break;case 40:if(d||o.page<o.pagesCount){o.page=o.pagesCount;h=!0;u=!0}}if(1===p||8===p)switch(e.keyCode){case 83:l.dispatch("download",{source:window});h=!0;break;case 79:l.dispatch("openfile",{source:window});h=!0}if(3===p||10===p)switch(e.keyCode){case 80:o.requestPresentationMode();h=!0;o.externalServices.reportTelemetry({type:"buttons",data:{id:"presentationModeKeyboard"}});break;case 71:if(o.appConfig.toolbar){o.appConfig.toolbar.pageNumber.select();h=!0}}if(h){u&&!d&&c.focus();e.preventDefault();return}const g=(0,n.getActiveOrFocusedElement)(),v=null==g?void 0:g.tagName.toUpperCase();if(!("INPUT"===v||"TEXTAREA"===v||"SELECT"===v||null!=g&&g.isContentEditable)||27===e.keyCode){if(0===p){let l=0,p=!1;switch(e.keyCode){case 38:case 33:c.isVerticalScrollbarEnabled&&(p=!0);l=-1;break;case 8:d||(p=!0);l=-1;break;case 37:c.isHorizontalScrollbarEnabled&&(p=!0);case 75:case 80:l=-1;break;case 27:if(null!==(t=o.secondaryToolbar)&&void 0!==t&&t.isOpen){o.secondaryToolbar.close();h=!0}if(!o.supportsIntegratedFind&&null!==(i=o.findBar)&&void 0!==i&&i.opened){o.findBar.close();h=!0}break;case 40:case 34:c.isVerticalScrollbarEnabled&&(p=!0);l=1;break;case 13:case 32:d||(p=!0);l=1;break;case 39:c.isHorizontalScrollbarEnabled&&(p=!0);case 74:case 78:l=1;break;case 36:if(d||o.page>1){o.page=1;h=!0;u=!0}break;case 35:if(d||o.page<o.pagesCount){o.page=o.pagesCount;h=!0;u=!0}break;case 83:null===(r=o.pdfCursorTools)||void 0===r||r.switchTool(n.CursorTool.SELECT);break;case 72:null===(s=o.pdfCursorTools)||void 0===s||s.switchTool(n.CursorTool.HAND);break;case 82:o.rotatePages(90);break;case 115:null===(a=o.pdfSidebar)||void 0===a||a.toggle()}if(0!==l&&(!p||"page-fit"===c.currentScaleValue)){l>0?c.nextPage():c.previousPage();h=!0}}if(4===p)switch(e.keyCode){case 13:case 32:if(!d&&"page-fit"!==c.currentScaleValue)break;c.previousPage();h=!0;break;case 82:o.rotatePages(-90)}h||d||(e.keyCode>=33&&e.keyCode<=40||32===e.keyCode&&"BUTTON"!==v)&&(u=!0);u&&!c.containsElement(g)&&c.focus();h&&e.preventDefault()}}function beforeUnload(e){e.preventDefault();e.returnValue="";return!1}function webViewerAnnotationEditorStatesChanged(e){this.externalServices.updateEditorStates(e)}const A={instance:{supportsPrinting:!1,createPrintService(){throw new Error("Not implemented: createPrintService")}}};t.PDFPrintServiceFactory=A;function getAppEvents(e){return{webViewerAnnotationEditorStatesChanged:webViewerAnnotationEditorStatesChanged.bind(e),webViewerClick:webViewerClick.bind(e),webViewerDocumentProperties:webViewerDocumentProperties.bind(e),webViewerDownload:webViewerDownload.bind(e),webViewerFileInputChange:webViewerFileInputChange.bind(e),webViewerFindFromUrlHash:webViewerFindFromUrlHash.bind(e),webViewerFirstPage:webViewerFirstPage.bind(e),webViewerHashchange:webViewerHashchange.bind(e),webViewerKeyDown:webViewerKeyDown.bind(e),webViewerKeyUp:webViewerKeyUp.bind(e),webViewerLastPage:webViewerLastPage.bind(e),webViewerNamedAction:webViewerNamedAction.bind(e),webViewerNextPage:webViewerNextPage.bind(e),webViewerOpenFile:webViewerOpenFile.bind(e),webViewerOptionalContentConfig:webViewerOptionalContentConfig.bind(e),webViewerPageChanging:webViewerPageChanging.bind(e),webViewerPageMode:webViewerPageMode.bind(e),webViewerPageNumberChanged:webViewerPageNumberChanged.bind(e),webViewerPageRender:webViewerPageRender.bind(e),webViewerPageRendered:webViewerPageRendered.bind(e),webViewerPresentationMode:webViewerPresentationMode.bind(e),webViewerPresentationModeChanged:webViewerPresentationModeChanged.bind(e),webViewerPreviousPage:webViewerPreviousPage.bind(e),webViewerPrint:webViewerPrint.bind(e),webViewerResize:webViewerResize.bind(e),webViewerRotateCcw:webViewerRotateCcw.bind(e),webViewerRotateCw:webViewerRotateCw.bind(e),webViewerRotationChanging:webViewerRotationChanging.bind(e),webViewerScaleChanged:webViewerScaleChanged.bind(e),webViewerScaleChanging:webViewerScaleChanging.bind(e),webViewerScrollModeChanged:webViewerScrollModeChanged.bind(e),webViewerSidebarViewChanged:webViewerSidebarViewChanged.bind(e),webViewerSpreadModeChanged:webViewerSpreadModeChanged.bind(e),webViewerSwitchAnnotationEditorMode:webViewerSwitchAnnotationEditorMode.bind(e),webViewerSwitchAnnotationEditorParams:webViewerSwitchAnnotationEditorParams.bind(e),webViewerSwitchScrollMode:webViewerSwitchScrollMode.bind(e),webViewerSwitchSpreadMode:webViewerSwitchSpreadMode.bind(e),webViewerTouchEnd:webViewerTouchEnd.bind(e),webViewerTouchMove:webViewerTouchMove.bind(e),webViewerTouchStart:webViewerTouchStart.bind(e),webViewerUpdateFindControlState:webViewerUpdateFindControlState.bind(e),webViewerUpdateFindMatchesCount:webViewerUpdateFindMatchesCount.bind(e),webViewerUpdateViewarea:webViewerUpdateViewarea.bind(e),webViewerVisibilityChange:webViewerVisibilityChange.bind(e),webViewerWheel:webViewerWheel.bind(e),webViewerZoomIn:webViewerZoomIn.bind(e),webViewerZoomOut:webViewerZoomOut.bind(e),webViewerZoomReset:webViewerZoomReset.bind(e)}}},(e,t,i)=>{var n=i(66),r=i(42),s=i(97),a=i(40),o=i(12),l=i(14),c=i(7),d=i(41),h=i(164),u=i(165),p=i(27),f=String,g=r("JSON","stringify"),v=o(/./.exec),_=o("".charAt),w=o("".charCodeAt),m=o("".replace),P=o(1..toString),b=/[\uD800-\uDFFF]/g,S=/^[\uD800-\uDBFF]$/,y=/^[\uDC00-\uDFFF]$/,E=!p||l((function(){var e=r("Symbol")();return"[null]"!=g([e])||"{}"!=g({a:e})||"{}"!=g(Object(e))})),M=l((function(){return'"\\udf06\\ud834"'!==g("\udf06\ud834")||'"\\udead"'!==g("\udead")})),stringifyWithSymbolsFix=function(e,t){var i=h(arguments),n=u(t);if(c(n)||void 0!==e&&!d(e)){i[1]=function(e,t){c(n)&&(t=a(n,this,f(e),t));if(!d(t))return t};return s(g,null,i)}},fixIllFormed=function(e,t,i){var n=_(i,t-1),r=_(i,t+1);return v(S,e)&&!v(y,r)||v(y,e)&&!v(S,n)?"\\u"+P(w(e,0),16):e};g&&n({target:"JSON",stat:!0,arity:3,forced:E||M},{stringify:function stringify(e,t,i){var n=h(arguments),r=s(E?stringifyWithSymbolsFix:g,null,n);return M&&"string"==typeof r?m(r,b,fixIllFormed):r}})},(e,t,i)=>{var n=i(12);e.exports=n([].slice)},(e,t,i)=>{var n=i(12),r=i(89),s=i(7),a=i(15),o=i(92),l=n([].push);e.exports=function(e){if(s(e))return e;if(r(e)){for(var t=e.length,i=[],n=0;n<t;n++){var c=e[n];"string"==typeof c?l(i,c):"number"!=typeof c&&"Number"!=a(c)&&"String"!=a(c)||l(i,o(c))}var d=i.length,h=!0;return function(e,t){if(h){h=!1;return t}if(r(this))return t;for(var n=0;n<d;n++)if(i[n]===e)return t}}}},(e,t,i)=>{i(167)},(e,t,i)=>{"use strict";i(168);var n,r=i(66),s=i(34),a=i(109),o=i(2),l=i(112),c=i(12),d=i(69),h=i(95),u=i(111),p=i(24),f=i(169),g=i(170),v=i(118),_=i(132).codeAt,w=i(174),m=i(92),P=i(82),b=i(116),S=i(108),y=i(61),E=y.set,M=y.getterFor("URL"),I=S.URLSearchParams,T=S.getState,C=o.URL,L=o.TypeError,k=o.parseInt,x=Math.floor,D=Math.pow,A=c("".charAt),V=c(/./.exec),O=c([].join),N=c(1..toString),R=c([].pop),B=c([].push),G=c("".replace),W=c([].shift),U=c("".split),H=c("".slice),z=c("".toLowerCase),j=c([].unshift),q="Invalid scheme",K="Invalid host",X="Invalid port",Z=/[a-z]/i,Q=/[\d+-.a-z]/i,Y=/\d/,$=/^0x/i,J=/^[0-7]+$/,ee=/^\d+$/,te=/^[\da-f]+$/i,ie=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ne=/[\0\t\n\r #/:<>?@[\\\]^|]/,re=/^[\u0000-\u0020]+/,se=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,ae=/[\t\n\r]/g,serializeHost=function(e){var t,i,n,r;if("number"==typeof e){t=[];for(i=0;i<4;i++){j(t,e%256);e=x(e/256)}return O(t,".")}if("object"==typeof e){t="";n=function(e){for(var t=null,i=1,n=null,r=0,s=0;s<8;s++)if(0!==e[s]){if(r>i){t=n;i=r}n=null;r=0}else{null===n&&(n=s);++r}if(r>i){t=n;i=r}return t}(e);for(i=0;i<8;i++)if(!r||0!==e[i]){r&&(r=!1);if(n===i){t+=i?":":"::";r=!0}else{t+=N(e[i],16);i<7&&(t+=":")}}return"["+t+"]"}return e},oe={},le=f({},oe,{" ":1,'"':1,"<":1,">":1,"`":1}),ce=f({},le,{"#":1,"?":1,"{":1,"}":1}),de=f({},ce,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),percentEncode=function(e,t){var i=_(e,0);return i>32&&i<127&&!p(t,e)?e:encodeURIComponent(e)},he={ftp:21,file:null,http:80,https:443,ws:80,wss:443},isWindowsDriveLetter=function(e,t){var i;return 2==e.length&&V(Z,A(e,0))&&(":"==(i=A(e,1))||!t&&"|"==i)},startsWithWindowsDriveLetter=function(e){var t;return e.length>1&&isWindowsDriveLetter(H(e,0,2))&&(2==e.length||"/"===(t=A(e,2))||"\\"===t||"?"===t||"#"===t)},isSingleDot=function(e){return"."===e||"%2e"===z(e)},ue={},pe={},fe={},ge={},ve={},_e={},we={},me={},Pe={},be={},Se={},ye={},Ee={},Me={},Fe={},Ie={},Te={},Ce={},Le={},ke={},xe={},URLState=function(e,t,i){var n,r,s,a=m(e);if(t){if(r=this.parse(a))throw L(r);this.searchParams=null}else{void 0!==i&&(n=new URLState(i,!0));if(r=this.parse(a,null,n))throw L(r);(s=T(new I)).bindURL(this);this.searchParams=s}};URLState.prototype={type:"URL",parse:function(e,t,i){var r,s,a,o,l,c=this,d=t||ue,h=0,u="",f=!1,_=!1,w=!1;e=m(e);if(!t){c.scheme="";c.username="";c.password="";c.host=null;c.port=null;c.path=[];c.query=null;c.fragment=null;c.cannotBeABaseURL=!1;e=G(e,re,"");e=G(e,se,"$1")}e=G(e,ae,"");r=g(e);for(;h<=r.length;){s=r[h];switch(d){case ue:if(!s||!V(Z,s)){if(t)return q;d=fe;continue}u+=z(s);d=pe;break;case pe:if(s&&(V(Q,s)||"+"==s||"-"==s||"."==s))u+=z(s);else{if(":"!=s){if(t)return q;u="";d=fe;h=0;continue}if(t&&(c.isSpecial()!=p(he,u)||"file"==u&&(c.includesCredentials()||null!==c.port)||"file"==c.scheme&&!c.host))return;c.scheme=u;if(t){c.isSpecial()&&he[c.scheme]==c.port&&(c.port=null);return}u="";if("file"==c.scheme)d=Me;else if(c.isSpecial()&&i&&i.scheme==c.scheme)d=ge;else if(c.isSpecial())d=me;else if("/"==r[h+1]){d=ve;h++}else{c.cannotBeABaseURL=!0;B(c.path,"");d=Le}}break;case fe:if(!i||i.cannotBeABaseURL&&"#"!=s)return q;if(i.cannotBeABaseURL&&"#"==s){c.scheme=i.scheme;c.path=v(i.path);c.query=i.query;c.fragment="";c.cannotBeABaseURL=!0;d=xe;break}d="file"==i.scheme?Me:_e;continue;case ge:if("/"!=s||"/"!=r[h+1]){d=_e;continue}d=Pe;h++;break;case ve:if("/"==s){d=be;break}d=Ce;continue;case _e:c.scheme=i.scheme;if(s==n){c.username=i.username;c.password=i.password;c.host=i.host;c.port=i.port;c.path=v(i.path);c.query=i.query}else if("/"==s||"\\"==s&&c.isSpecial())d=we;else if("?"==s){c.username=i.username;c.password=i.password;c.host=i.host;c.port=i.port;c.path=v(i.path);c.query="";d=ke}else{if("#"!=s){c.username=i.username;c.password=i.password;c.host=i.host;c.port=i.port;c.path=v(i.path);c.path.length--;d=Ce;continue}c.username=i.username;c.password=i.password;c.host=i.host;c.port=i.port;c.path=v(i.path);c.query=i.query;c.fragment="";d=xe}break;case we:if(!c.isSpecial()||"/"!=s&&"\\"!=s){if("/"!=s){c.username=i.username;c.password=i.password;c.host=i.host;c.port=i.port;d=Ce;continue}d=be}else d=Pe;break;case me:d=Pe;if("/"!=s||"/"!=A(u,h+1))continue;h++;break;case Pe:if("/"!=s&&"\\"!=s){d=be;continue}break;case be:if("@"==s){f&&(u="%40"+u);f=!0;a=g(u);for(var P=0;P<a.length;P++){var b=a[P];if(":"!=b||w){var S=percentEncode(b,de);w?c.password+=S:c.username+=S}else w=!0}u=""}else if(s==n||"/"==s||"?"==s||"#"==s||"\\"==s&&c.isSpecial()){if(f&&""==u)return"Invalid authority";h-=g(u).length+1;u="";d=Se}else u+=s;break;case Se:case ye:if(t&&"file"==c.scheme){d=Ie;continue}if(":"!=s||_){if(s==n||"/"==s||"?"==s||"#"==s||"\\"==s&&c.isSpecial()){if(c.isSpecial()&&""==u)return K;if(t&&""==u&&(c.includesCredentials()||null!==c.port))return;if(o=c.parseHost(u))return o;u="";d=Te;if(t)return;continue}"["==s?_=!0:"]"==s&&(_=!1);u+=s}else{if(""==u)return K;if(o=c.parseHost(u))return o;u="";d=Ee;if(t==ye)return}break;case Ee:if(!V(Y,s)){if(s==n||"/"==s||"?"==s||"#"==s||"\\"==s&&c.isSpecial()||t){if(""!=u){var y=k(u,10);if(y>65535)return X;c.port=c.isSpecial()&&y===he[c.scheme]?null:y;u=""}if(t)return;d=Te;continue}return X}u+=s;break;case Me:c.scheme="file";if("/"==s||"\\"==s)d=Fe;else{if(!i||"file"!=i.scheme){d=Ce;continue}if(s==n){c.host=i.host;c.path=v(i.path);c.query=i.query}else if("?"==s){c.host=i.host;c.path=v(i.path);c.query="";d=ke}else{if("#"!=s){if(!startsWithWindowsDriveLetter(O(v(r,h),""))){c.host=i.host;c.path=v(i.path);c.shortenPath()}d=Ce;continue}c.host=i.host;c.path=v(i.path);c.query=i.query;c.fragment="";d=xe}}break;case Fe:if("/"==s||"\\"==s){d=Ie;break}i&&"file"==i.scheme&&!startsWithWindowsDriveLetter(O(v(r,h),""))&&(isWindowsDriveLetter(i.path[0],!0)?B(c.path,i.path[0]):c.host=i.host);d=Ce;continue;case Ie:if(s==n||"/"==s||"\\"==s||"?"==s||"#"==s){if(!t&&isWindowsDriveLetter(u))d=Ce;else if(""==u){c.host="";if(t)return;d=Te}else{if(o=c.parseHost(u))return o;"localhost"==c.host&&(c.host="");if(t)return;u="";d=Te}continue}u+=s;break;case Te:if(c.isSpecial()){d=Ce;if("/"!=s&&"\\"!=s)continue}else if(t||"?"!=s)if(t||"#"!=s){if(s!=n){d=Ce;if("/"!=s)continue}}else{c.fragment="";d=xe}else{c.query="";d=ke}break;case Ce:if(s==n||"/"==s||"\\"==s&&c.isSpecial()||!t&&("?"==s||"#"==s)){if(".."===(l=z(l=u))||"%2e."===l||".%2e"===l||"%2e%2e"===l){c.shortenPath();"/"==s||"\\"==s&&c.isSpecial()||B(c.path,"")}else if(isSingleDot(u))"/"==s||"\\"==s&&c.isSpecial()||B(c.path,"");else{if("file"==c.scheme&&!c.path.length&&isWindowsDriveLetter(u)){c.host&&(c.host="");u=A(u,0)+":"}B(c.path,u)}u="";if("file"==c.scheme&&(s==n||"?"==s||"#"==s))for(;c.path.length>1&&""===c.path[0];)W(c.path);if("?"==s){c.query="";d=ke}else if("#"==s){c.fragment="";d=xe}}else u+=percentEncode(s,ce);break;case Le:if("?"==s){c.query="";d=ke}else if("#"==s){c.fragment="";d=xe}else s!=n&&(c.path[0]+=percentEncode(s,oe));break;case ke:if(t||"#"!=s)s!=n&&("'"==s&&c.isSpecial()?c.query+="%27":c.query+="#"==s?"%23":percentEncode(s,oe));else{c.fragment="";d=xe}break;case xe:s!=n&&(c.fragment+=percentEncode(s,le))}h++}},parseHost:function(e){var t,i,n;if("["==A(e,0)){if("]"!=A(e,e.length-1))return K;t=function(e){var t,i,n,r,s,a,o,l=[0,0,0,0,0,0,0,0],c=0,d=null,h=0,chr=function(){return A(e,h)};if(":"==chr()){if(":"!=A(e,1))return;h+=2;d=++c}for(;chr();){if(8==c)return;if(":"!=chr()){t=i=0;for(;i<4&&V(te,chr());){t=16*t+k(chr(),16);h++;i++}if("."==chr()){if(0==i)return;h-=i;if(c>6)return;n=0;for(;chr();){r=null;if(n>0){if(!("."==chr()&&n<4))return;h++}if(!V(Y,chr()))return;for(;V(Y,chr());){s=k(chr(),10);if(null===r)r=s;else{if(0==r)return;r=10*r+s}if(r>255)return;h++}l[c]=256*l[c]+r;2!=++n&&4!=n||c++}if(4!=n)return;break}if(":"==chr()){h++;if(!chr())return}else if(chr())return;l[c++]=t}else{if(null!==d)return;h++;d=++c}}if(null!==d){a=c-d;c=7;for(;0!=c&&a>0;){o=l[c];l[c--]=l[d+a-1];l[d+--a]=o}}else if(8!=c)return;return l}(H(e,1,-1));if(!t)return K;this.host=t}else if(this.isSpecial()){e=w(e);if(V(ie,e))return K;t=function(e){var t,i,n,r,s,a,o,l=U(e,".");l.length&&""==l[l.length-1]&&l.length--;if((t=l.length)>4)return e;i=[];for(n=0;n<t;n++){if(""==(r=l[n]))return e;s=10;if(r.length>1&&"0"==A(r,0)){s=V($,r)?16:8;r=H(r,8==s?1:2)}if(""===r)a=0;else{if(!V(10==s?ee:8==s?J:te,r))return e;a=k(r,s)}B(i,a)}for(n=0;n<t;n++){a=i[n];if(n==t-1){if(a>=D(256,5-t))return null}else if(a>255)return null}o=R(i);for(n=0;n<i.length;n++)o+=i[n]*D(256,3-n);return o}(e);if(null===t)return K;this.host=t}else{if(V(ne,e))return K;t="";i=g(e);for(n=0;n<i.length;n++)t+=percentEncode(i[n],oe);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return p(he,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&isWindowsDriveLetter(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,i=e.username,n=e.password,r=e.host,s=e.port,a=e.path,o=e.query,l=e.fragment,c=t+":";if(null!==r){c+="//";e.includesCredentials()&&(c+=i+(n?":"+n:"")+"@");c+=serializeHost(r);null!==s&&(c+=":"+s)}else"file"==t&&(c+="//");c+=e.cannotBeABaseURL?a[0]:a.length?"/"+O(a,"/"):"";null!==o&&(c+="?"+o);null!==l&&(c+="#"+l);return c},setHref:function(e){var t=this.parse(e);if(t)throw L(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new De(e.path[0]).origin}catch(e){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+serializeHost(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(m(e)+":",ue)},getUsername:function(){return this.username},setUsername:function(e){var t=g(m(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var i=0;i<t.length;i++)this.username+=percentEncode(t[i],de)}},getPassword:function(){return this.password},setPassword:function(e){var t=g(m(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var i=0;i<t.length;i++)this.password+=percentEncode(t[i],de)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?serializeHost(e):serializeHost(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Se)},getHostname:function(){var e=this.host;return null===e?"":serializeHost(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,ye)},getPort:function(){var e=this.port;return null===e?"":m(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=m(e))?this.port=null:this.parse(e,Ee))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+O(e,"/"):""},setPathname:function(e){if(!this.cannotBeABaseURL){this.path=[];this.parse(e,Te)}},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){if(""==(e=m(e)))this.query=null;else{"?"==A(e,0)&&(e=H(e,1));this.query="";this.parse(e,ke)}this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){if(""!=(e=m(e))){"#"==A(e,0)&&(e=H(e,1));this.fragment="";this.parse(e,xe)}else this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var De=function URL(e){var t=u(this,Ae),i=b(arguments.length,1)>1?arguments[1]:void 0,n=E(t,new URLState(e,!1,i));if(!s){t.href=n.serialize();t.origin=n.getOrigin();t.protocol=n.getProtocol();t.username=n.getUsername();t.password=n.getPassword();t.host=n.getHost();t.hostname=n.getHostname();t.port=n.getPort();t.pathname=n.getPathname();t.search=n.getSearch();t.searchParams=n.getSearchParams();t.hash=n.getHash()}},Ae=De.prototype,accessorDescriptor=function(e,t){return{get:function(){return M(this)[e]()},set:t&&function(e){return M(this)[t](e)},configurable:!0,enumerable:!0}};if(s){h(Ae,"href",accessorDescriptor("serialize","setHref"));h(Ae,"origin",accessorDescriptor("getOrigin"));h(Ae,"protocol",accessorDescriptor("getProtocol","setProtocol"));h(Ae,"username",accessorDescriptor("getUsername","setUsername"));h(Ae,"password",accessorDescriptor("getPassword","setPassword"));h(Ae,"host",accessorDescriptor("getHost","setHost"));h(Ae,"hostname",accessorDescriptor("getHostname","setHostname"));h(Ae,"port",accessorDescriptor("getPort","setPort"));h(Ae,"pathname",accessorDescriptor("getPathname","setPathname"));h(Ae,"search",accessorDescriptor("getSearch","setSearch"));h(Ae,"searchParams",accessorDescriptor("getSearchParams"));h(Ae,"hash",accessorDescriptor("getHash","setHash"))}d(Ae,"toJSON",(function toJSON(){return M(this).serialize()}),{enumerable:!0});d(Ae,"toString",(function toString(){return M(this).serialize()}),{enumerable:!0});if(C){var Ve=C.createObjectURL,Oe=C.revokeObjectURL;Ve&&d(De,"createObjectURL",l(Ve,C));Oe&&d(De,"revokeObjectURL",l(Oe,C))}P(De,"URL");r({global:!0,constructor:!0,forced:!a,sham:!s},{URL:De})},(e,t,i)=>{"use strict";var n=i(132).charAt,r=i(92),s=i(61),a=i(65),o=i(86),l="String Iterator",c=s.set,d=s.getterFor(l);a(String,"String",(function(e){c(this,{type:l,string:r(e),index:0})}),(function next(){var e,t=d(this),i=t.string,r=t.index;if(r>=i.length)return o(void 0,!0);e=n(i,r);t.index+=e.length;return o(e,!1)}))},(e,t,i)=>{"use strict";var n=i(34),r=i(12),s=i(40),a=i(14),o=i(48),l=i(76),c=i(68),d=i(25),h=i(11),u=Object.assign,p=Object.defineProperty,f=r([].concat);e.exports=!u||a((function(){if(n&&1!==u({b:1},u(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},i=Symbol(),r="abcdefghijklmnopqrst";e[i]=7;r.split("").forEach((function(e){t[e]=e}));return 7!=u({},e)[i]||o(u({},t)).join("")!=r}))?function assign(e,t){for(var i=d(e),r=arguments.length,a=1,u=l.f,p=c.f;r>a;)for(var g,v=h(arguments[a++]),_=u?f(o(v),u(v)):o(v),w=_.length,m=0;w>m;){g=_[m++];n&&!s(p,v,g)||(i[g]=v[g])}return i}:u},(e,t,i)=>{"use strict";var n=i(112),r=i(40),s=i(25),a=i(171),o=i(172),l=i(173),c=i(54),d=i(119),h=i(114),u=i(115),p=Array;e.exports=function from(e){var t=s(e),i=l(this),f=arguments.length,g=f>1?arguments[1]:void 0,v=void 0!==g;v&&(g=n(g,f>2?arguments[2]:void 0));var _,w,m,P,b,S,y=u(t),E=0;if(!y||this===p&&o(y)){_=c(t);w=i?new this(_):p(_);for(;_>E;E++){S=v?g(t[E],E):t[E];d(w,E,S)}}else{b=(P=h(t,y)).next;w=i?new this:[];for(;!(m=r(b,P)).done;E++){S=v?a(P,g,[m.value,E],!0):m.value;d(w,E,S)}}w.length=E;return w}},(e,t,i)=>{var n=i(32),r=i(152);e.exports=function(e,t,i,s){try{return s?t(n(i)[0],i[1]):t(i)}catch(t){r(e,"throw",t)}}},(e,t,i)=>{var n=i(19),r=i(60),s=n("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||a[s]===e)}},(e,t,i)=>{var n=i(12),r=i(14),s=i(7),a=i(93),o=i(42),l=i(72),noop=function(){},c=[],d=o("Reflect","construct"),h=/^\s*(?:class|function)\b/,u=n(h.exec),p=!h.exec(noop),f=function isConstructor(e){if(!s(e))return!1;try{d(noop,c,e);return!0}catch(e){return!1}},g=function isConstructor(e){if(!s(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!u(h,l(e))}catch(e){return!0}};g.sham=!0;e.exports=!d||r((function(){var e;return f(f.call)||!f(Object)||!f((function(){e=!0}))||e}))?g:f},(e,t,i)=>{var n=i(12),r=2147483647,s=/[^\0-\u007E]/,a=/[.\u3002\uFF0E\uFF61]/g,o="Overflow: input needs wider integers to process",l=RangeError,c=n(a.exec),d=Math.floor,h=String.fromCharCode,u=n("".charCodeAt),p=n([].join),f=n([].push),g=n("".replace),v=n("".split),_=n("".toLowerCase),digitToBasic=function(e){return e+22+75*(e<26)},adapt=function(e,t,i){var n=0;e=i?d(e/700):e>>1;e+=d(e/t);for(;e>455;){e=d(e/35);n+=36}return d(n+36*e/(e+38))},encode=function(e){var t=[];e=function(e){for(var t=[],i=0,n=e.length;i<n;){var r=u(e,i++);if(r>=55296&&r<=56319&&i<n){var s=u(e,i++);if(56320==(64512&s))f(t,((1023&r)<<10)+(1023&s)+65536);else{f(t,r);i--}}else f(t,r)}return t}(e);var i,n,s=e.length,a=128,c=0,g=72;for(i=0;i<e.length;i++)(n=e[i])<128&&f(t,h(n));var v=t.length,_=v;v&&f(t,"-");for(;_<s;){var w=r;for(i=0;i<e.length;i++)(n=e[i])>=a&&n<w&&(w=n);var m=_+1;if(w-a>d((r-c)/m))throw l(o);c+=(w-a)*m;a=w;for(i=0;i<e.length;i++){if((n=e[i])<a&&++c>r)throw l(o);if(n==a){for(var P=c,b=36;;){var S=b<=g?1:b>=g+26?26:b-g;if(P<S)break;var y=P-S,E=36-S;f(t,h(digitToBasic(S+y%E)));P=d(y/E);b+=36}f(t,h(digitToBasic(P)));g=adapt(c,m,_==v);c=0;_++}}c++;a++}return p(t,"")};e.exports=function(e){var t,i,n=[],r=v(g(_(e),a,"."),".");for(t=0;t<r.length;t++){i=r[t];f(n,c(s,i)?"xn--"+encode(i):i)}return p(n,".")}},(e,t,i)=>{var n=i(66),r=i(2);n({global:!0,forced:r.globalThis!==r},{globalThis:r})},(e,t,i)=>{"use strict";i(175);e.exports=globalThis.pdfjsLib},(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.compatibilityParams=t.OptionKind=t.AppOptions=void 0;i(96);const n=Object.create(null);t.compatibilityParams=n;{const e=navigator.userAgent||"",t=navigator.platform||"",i=navigator.maxTouchPoints||1,r=/Android/.test(e),s=/\b(iPad|iPhone|iPod)(?=;)/.test(e)||"MacIntel"===t&&i>1;!function checkCanvasSizeLimitation(){(s||r)&&(n.maxCanvasPixels=5242880)}()}const r={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};t.OptionKind=r;const s={annotationEditorMode:{value:0,kind:r.VIEWER+r.PREFERENCE},annotationMode:{value:2,kind:r.VIEWER+r.PREFERENCE},cursorToolOnLoad:{value:0,kind:r.VIEWER+r.PREFERENCE},defaultZoomDelay:{value:400,kind:r.VIEWER+r.PREFERENCE},defaultZoomValue:{value:"",kind:r.VIEWER+r.PREFERENCE},disableHistory:{value:!1,kind:r.VIEWER},disablePageLabels:{value:!1,kind:r.VIEWER+r.PREFERENCE},enablePermissions:{value:!1,kind:r.VIEWER+r.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:r.VIEWER+r.PREFERENCE},enableScripting:{value:!0,kind:r.VIEWER+r.PREFERENCE},enableStampEditor:{value:!0,kind:r.VIEWER+r.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:r.VIEWER},externalLinkTarget:{value:0,kind:r.VIEWER+r.PREFERENCE},historyUpdateUrl:{value:!1,kind:r.VIEWER+r.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:r.VIEWER+r.PREFERENCE},imageResourcesPath:{value:"./images/",kind:r.VIEWER},maxCanvasPixels:{value:16777216,kind:r.VIEWER},forcePageColors:{value:!1,kind:r.VIEWER+r.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:r.VIEWER+r.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:r.VIEWER+r.PREFERENCE},pdfBugEnabled:{value:!1,kind:r.VIEWER+r.PREFERENCE},printResolution:{value:150,kind:r.VIEWER},sidebarViewOnLoad:{value:-1,kind:r.VIEWER+r.PREFERENCE},scrollModeOnLoad:{value:-1,kind:r.VIEWER+r.PREFERENCE},spreadModeOnLoad:{value:-1,kind:r.VIEWER+r.PREFERENCE},textLayerMode:{value:1,kind:r.VIEWER+r.PREFERENCE},useOnlyCssZoom:{value:!1,kind:r.VIEWER},viewerCssTheme:{value:0,kind:r.VIEWER+r.PREFERENCE},viewOnLoad:{value:0,kind:r.VIEWER+r.PREFERENCE},cMapPacked:{value:!0,kind:r.API},cMapUrl:{value:"../web/cmaps/",kind:r.API},disableAutoFetch:{value:!1,kind:r.API+r.PREFERENCE},disableFontFace:{value:!1,kind:r.API+r.PREFERENCE},disableRange:{value:!1,kind:r.API+r.PREFERENCE},disableStream:{value:!1,kind:r.API+r.PREFERENCE},docBaseUrl:{value:"",kind:r.API},enableXfa:{value:!0,kind:r.API+r.PREFERENCE},fontExtraProperties:{value:!1,kind:r.API},isEvalSupported:{value:!0,kind:r.API},isOffscreenCanvasSupported:{value:!0,kind:r.API},maxImageSize:{value:-1,kind:r.API},pdfBug:{value:!1,kind:r.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:r.API},verbosity:{value:1,kind:r.API},workerPort:{value:null,kind:r.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:r.WORKER}};s.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:r.VIEWER};s.disablePreferences={value:!1,kind:r.VIEWER};s.locale={value:navigator.language||"en-US",kind:r.VIEWER};s.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:r.VIEWER};const a=Object.create(null);class AppOptions{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(e){const t=a[e];if(void 0!==t)return t;const i=s[e];if(void 0!==i){var r;return null!==(r=n[e])&&void 0!==r?r:i.value}}static getAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=Object.create(null);for(const o in s){var i;const l=s[o];if(e){if(0==(e&l.kind))continue;if(e===r.PREFERENCE){const e=l.value,i=typeof e;if("boolean"===i||"string"===i||"number"===i&&Number.isInteger(e)){t[o]=e;continue}throw new Error("Invalid type for preference: ".concat(o))}}const c=a[o];t[o]=void 0!==c?c:null!==(i=n[o])&&void 0!==i?i:l.value}return t}static set(e,t){a[e]=t}static setAll(e){for(const t in e)a[t]=e[t]}static remove(e){delete a[e]}}t.AppOptions=AppOptions;AppOptions._hasUserOptions=function(){return Object.keys(a).length>0}},(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.WaitOnType=t.EventBus=t.AutomationEventBus=void 0;t.waitOnEventOrTimeout=function waitOnEventOrTimeout(e){let{target:t,name:i,delay:r=0}=e;return new Promise((function(e,s){if("object"!=typeof t||!i||"string"!=typeof i||!(Number.isInteger(r)&&r>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function handler(n){t instanceof EventBus?t._off(i,a):t.removeEventListener(i,a);l&&activeWindow.clearTimeout(l);e(n)}const a=handler.bind(null,n.EVENT);t instanceof EventBus?t._on(i,a):t.addEventListener(i,a);const o=handler.bind(null,n.TIMEOUT),l=activeWindow.setTimeout(o,r)}))};i(96);i(1);i(87);function _classPrivateFieldInitSpec(e,t,i){!function _checkPrivateRedeclaration(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t);t.set(e,i)}function _classPrivateFieldGet(e,t){var i=function _classExtractFieldDescriptor(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}(e,t,"get");return function _classApplyDescriptorGet(e,t){if(t.get)return t.get.call(e);return t.value}(e,i)}const n={EVENT:"event",TIMEOUT:"timeout"};t.WaitOnType=n;var r=new WeakMap;class EventBus{constructor(){_classPrivateFieldInitSpec(this,r,{writable:!0,value:Object.create(null)})}on(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._on(e,t,{external:!0,once:null==i?void 0:i.once})}off(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._off(e,t,{external:!0,once:null==i?void 0:i.once})}dispatch(e,t){const i=_classPrivateFieldGet(this,r)[e];if(!i||0===i.length)return;let n;for(const{listener:r,external:s,once:a}of i.slice(0)){a&&this._off(e,r);s?(n||(n=[])).push(r):r(t)}if(n){for(const e of n)e(t);n=null}}_on(e,t){var i;let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;((i=_classPrivateFieldGet(this,r))[e]||(i[e]=[])).push({listener:t,external:!0===(null==n?void 0:n.external),once:!0===(null==n?void 0:n.once)})}_off(e,t){const i=_classPrivateFieldGet(this,r)[e];if(i)for(let e=0,n=i.length;e<n;e++)if(i[e].listener===t){i.splice(e,1);return}}}t.EventBus=EventBus;t.AutomationEventBus=class AutomationEventBus extends EventBus{dispatch(e,t){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SimpleLinkService=t.PDFLinkService=t.LinkTarget=void 0;i(96);i(1);i(163);i(123);i(135);i(180);i(87);var n=i(106);function _checkPrivateRedeclaration(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classStaticPrivateMethodGet(e,t,i){!function _classCheckPrivateStaticAccess(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}(e,t);return i}function _classPrivateMethodGet(e,t,i){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return i}function _classPrivateFieldGet(e,t){var i=function _classExtractFieldDescriptor(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}(e,t,"get");return function _classApplyDescriptorGet(e,t){if(t.get)return t.get.call(e);return t.value}(e,i)}const r={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};t.LinkTarget=r;function addLinkAttributes(e){let{url:t,target:i,rel:s,enabled:a=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t||"string"!=typeof t)throw new Error('A valid "url" parameter must provided.');const o=(0,n.removeNullCharacters)(t);if(a)e.href=e.title=o;else{e.href="";e.title="Disabled: ".concat(o);e.onclick=()=>!1}let l="";switch(i){case r.NONE:break;case r.SELF:l="_self";break;case r.BLANK:l="_blank";break;case r.PARENT:l="_parent";break;case r.TOP:l="_top"}e.target=l;e.rel="string"==typeof s?s:"noopener noreferrer nofollow"}var s=new WeakMap,a=new WeakSet;class PDFLinkService{constructor(){let{eventBus:e,externalLinkTarget:t=null,externalLinkRel:i=null,ignoreDestinationZoom:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function _classPrivateMethodInitSpec(e,t){_checkPrivateRedeclaration(e,t);t.add(e)}(this,a);!function _classPrivateFieldInitSpec(e,t,i){_checkPrivateRedeclaration(e,t);t.set(e,i)}(this,s,{writable:!0,value:new Map});this.eventBus=e;this.externalLinkTarget=t;this.externalLinkRel=i;this.externalLinkEnabled=!0;this._ignoreDestinationZoom=n;this.baseUrl=null;this.pdfDocument=null;this.pdfViewer=null;this.pdfHistory=null}setDocument(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.baseUrl=t;this.pdfDocument=e;_classPrivateFieldGet(this,s).clear()}setViewer(e){this.pdfViewer=e}setHistory(e){this.pdfHistory=e}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(e){this.pdfViewer.currentPageNumber=e}get rotation(){return this.pdfViewer.pagesRotation}set rotation(e){this.pdfViewer.pagesRotation=e}get isInPresentationMode(){return this.pdfViewer.isInPresentationMode}async goToDestination(e){if(!this.pdfDocument)return;let t,i;if("string"==typeof e){t=e;i=await this.pdfDocument.getDestination(e)}else{t=null;i=await e}Array.isArray(i)?_classPrivateMethodGet(this,a,_goToDestinationHelper2).call(this,e,t,i):null!==i&&console.error('PDFLinkService.goToDestination: "'.concat(i,'" is not ')+'a valid destination array, for dest="'.concat(e,'".'))}goToPage(e){if(!this.pdfDocument)return;const t="string"==typeof e&&this.pdfViewer.pageLabelToPageNumber(e)||0|e;if(Number.isInteger(t)&&t>0&&t<=this.pagesCount){if(this.pdfHistory){this.pdfHistory.pushCurrentPosition();this.pdfHistory.pushPage(t)}this.pdfViewer.scrollPageIntoView({pageNumber:t})}else console.error('PDFLinkService.goToPage: "'.concat(e,'" is not a valid page.'))}addLinkAttributes(e,t){addLinkAttributes(e,{url:t,target:arguments.length>2&&void 0!==arguments[2]&&arguments[2]?r.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(e){if("string"==typeof e){if(e.length>0)return this.getAnchorUrl("#"+escape(e))}else if(Array.isArray(e)){const t=JSON.stringify(e);if(t.length>0)return this.getAnchorUrl("#"+escape(t))}return this.getAnchorUrl("")}getAnchorUrl(e){return this.baseUrl?this.baseUrl+e:e}setHash(e){if(!this.pdfDocument)return;let t,i;if(e.includes("=")){const r=(0,n.parseQueryString)(e);if(r.has("search")){const e=r.get("search").replaceAll('"',""),t="true"===r.get("phrase");this.eventBus.dispatch("findfromurlhash",{source:this,query:t?e:e.match(/\S+/g)})}r.has("page")&&(t=0|r.get("page")||1);if(r.has("zoom")){const e=r.get("zoom").split(","),t=e[0],n=parseFloat(t);t.includes("Fit")?"Fit"===t||"FitB"===t?i=[null,{name:t}]:"FitH"===t||"FitBH"===t||"FitV"===t||"FitBV"===t?i=[null,{name:t},e.length>1?0|e[1]:null]:"FitR"===t?5!==e.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):i=[null,{name:t},0|e[1],0|e[2],0|e[3],0|e[4]]:console.error('PDFLinkService.setHash: "'.concat(t,'" is not a valid zoom value.')):i=[null,{name:"XYZ"},e.length>1?0|e[1]:null,e.length>2?0|e[2]:null,n?n/100:t]}i?this.pdfViewer.scrollPageIntoView({pageNumber:t||this.page,destArray:i,allowNegativeOffset:!0}):t&&(this.page=t);r.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:r.get("pagemode")});r.has("nameddest")&&this.goToDestination(r.get("nameddest"))}else{i=unescape(e);try{i=JSON.parse(i);Array.isArray(i)||(i=i.toString())}catch{}if("string"==typeof i||_classStaticPrivateMethodGet(PDFLinkService,PDFLinkService,_isValidExplicitDestination).call(PDFLinkService,i)){this.goToDestination(i);return}console.error('PDFLinkService.setHash: "'.concat(unescape(e),'" is not a valid destination.'))}}executeNamedAction(e){var t,i;switch(e){case"GoBack":null===(t=this.pdfHistory)||void 0===t||t.back();break;case"GoForward":null===(i=this.pdfHistory)||void 0===i||i.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:e})}async executeSetOCGState(e){const t=this.pdfDocument,i=await this.pdfViewer.optionalContentConfigPromise;if(t!==this.pdfDocument)return;let n;for(const t of e.state){switch(t){case"ON":case"OFF":case"Toggle":n=t;continue}switch(n){case"ON":i.setVisibility(t,!0);break;case"OFF":i.setVisibility(t,!1);break;case"Toggle":const e=i.getGroup(t);e&&i.setVisibility(t,!e.visible)}}this.pdfViewer.optionalContentConfigPromise=Promise.resolve(i)}cachePageRef(e,t){if(!t)return;const i=0===t.gen?"".concat(t.num,"R"):"".concat(t.num,"R").concat(t.gen);_classPrivateFieldGet(this,s).set(i,e)}_cachedPageNumber(e){if(!e)return null;const t=0===e.gen?"".concat(e.num,"R"):"".concat(e.num,"R").concat(e.gen);return _classPrivateFieldGet(this,s).get(t)||null}}t.PDFLinkService=PDFLinkService;function _goToDestinationHelper2(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2?arguments[2]:void 0;const n=i[0];let r;if("object"==typeof n&&null!==n){r=this._cachedPageNumber(n);if(!r){this.pdfDocument.getPageIndex(n).then((r=>{this.cachePageRef(r+1,n);_classPrivateMethodGet(this,a,_goToDestinationHelper2).call(this,e,t,i)})).catch((()=>{console.error('PDFLinkService.#goToDestinationHelper: "'.concat(n,'" is not ')+'a valid page reference, for dest="'.concat(e,'".'))}));return}}else{if(!Number.isInteger(n)){console.error('PDFLinkService.#goToDestinationHelper: "'.concat(n,'" is not ')+'a valid destination reference, for dest="'.concat(e,'".'));return}r=n+1}if(!r||r<1||r>this.pagesCount)console.error('PDFLinkService.#goToDestinationHelper: "'.concat(r,'" is not ')+'a valid page number, for dest="'.concat(e,'".'));else{if(this.pdfHistory){this.pdfHistory.pushCurrentPosition();this.pdfHistory.push({namedDest:t,explicitDest:i,pageNumber:r})}this.pdfViewer.scrollPageIntoView({pageNumber:r,destArray:i,ignoreDestinationZoom:this._ignoreDestinationZoom})}}function _isValidExplicitDestination(e){if(!Array.isArray(e))return!1;const t=e.length;if(t<2)return!1;const i=e[0];if(!("object"==typeof i&&Number.isInteger(i.num)&&Number.isInteger(i.gen)||Number.isInteger(i)&&i>=0))return!1;const n=e[1];if("object"!=typeof n||"string"!=typeof n.name)return!1;let r=!0;switch(n.name){case"XYZ":if(5!==t)return!1;break;case"Fit":case"FitB":return 2===t;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==t)return!1;break;case"FitR":if(6!==t)return!1;r=!1;break;default:return!1}for(let i=2;i<t;i++){const t=e[i];if(!("number"==typeof t||r&&null===t))return!1}return!0}t.SimpleLinkService=class SimpleLinkService{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(e){}get rotation(){return 0}set rotation(e){}get isInPresentationMode(){return!1}async goToDestination(e){}goToPage(e){}addLinkAttributes(e,t){addLinkAttributes(e,{url:t,enabled:this.externalLinkEnabled})}getDestinationHash(e){return"#"}getAnchorUrl(e){return"#"}setHash(e){}executeNamedAction(e){}executeSetOCGState(e){}cachePageRef(e,t){}}},(e,t,i)=>{"use strict";var n=i(66),r=i(34),s=i(2),a=i(42),o=i(12),l=i(40),c=i(7),d=i(6),h=i(89),u=i(24),p=i(92),f=i(54),g=i(119),v=i(14),_=i(181),w=i(27),m=s.JSON,P=s.Number,b=s.SyntaxError,S=m&&m.parse,y=a("Object","keys"),E=Object.getOwnPropertyDescriptor,M=o("".charAt),I=o("".slice),T=o(/./.exec),C=o([].push),L=/^\d$/,k=/^[1-9]$/,x=/^(-|\d)$/,D=/^[\t\n\r ]$/,internalize=function(e,t,i,n){var r,s,a,o,c,p=e[t],g=n&&p===n.value,v=g&&"string"==typeof n.source?{source:n.source}:{};if(d(p)){var _=h(p),w=g?n.nodes:_?[]:{};if(_){r=w.length;a=f(p);for(o=0;o<a;o++)internalizeProperty(p,o,internalize(p,""+o,i,o<r?w[o]:void 0))}else{s=y(p);a=f(s);for(o=0;o<a;o++){c=s[o];internalizeProperty(p,c,internalize(p,c,i,u(w,c)?w[c]:void 0))}}}return l(i,e,t,p,v)},internalizeProperty=function(e,t,i){if(r){var n=E(e,t);if(n&&!n.configurable)return}void 0===i?delete e[t]:g(e,t,i)},Node=function(e,t,i,n){this.value=e;this.end=t;this.source=i;this.nodes=n},Context=function(e,t){this.source=e;this.index=t};Context.prototype={fork:function(e){return new Context(this.source,e)},parse:function(){var e=this.source,t=this.skip(D,this.index),i=this.fork(t),n=M(e,t);if(T(x,n))return i.number();switch(n){case"{":return i.object();case"[":return i.array();case'"':return i.string();case"t":return i.keyword(!0);case"f":return i.keyword(!1);case"n":return i.keyword(null)}throw b('Unexpected character: "'+n+'" at: '+t)},node:function(e,t,i,n,r){return new Node(t,n,e?null:I(this.source,i,n),r)},object:function(){for(var e=this.source,t=this.index+1,i=!1,n={},r={};t<e.length;){t=this.until(['"',"}"],t);if("}"==M(e,t)&&!i){t++;break}var s=this.fork(t).string(),a=s.value;t=s.end;t=this.until([":"],t)+1;t=this.skip(D,t);s=this.fork(t).parse();g(r,a,s);g(n,a,s.value);t=this.until([",","}"],s.end);var o=M(e,t);if(","==o){i=!0;t++}else if("}"==o){t++;break}}return this.node(1,n,this.index,t,r)},array:function(){for(var e=this.source,t=this.index+1,i=!1,n=[],r=[];t<e.length;){t=this.skip(D,t);if("]"==M(e,t)&&!i){t++;break}var s=this.fork(t).parse();C(r,s);C(n,s.value);t=this.until([",","]"],s.end);if(","==M(e,t)){i=!0;t++}else if("]"==M(e,t)){t++;break}}return this.node(1,n,this.index,t,r)},string:function(){var e=this.index,t=_(this.source,this.index+1);return this.node(0,t.value,e,t.end)},number:function(){var e=this.source,t=this.index,i=t;"-"==M(e,i)&&i++;if("0"==M(e,i))i++;else{if(!T(k,M(e,i)))throw b("Failed to parse number at: "+i);i=this.skip(L,++i)}"."==M(e,i)&&(i=this.skip(L,++i));if("e"==M(e,i)||"E"==M(e,i)){i++;"+"!=M(e,i)&&"-"!=M(e,i)||i++;if(i==(i=this.skip(L,i)))throw b("Failed to parse number's exponent value at: "+i)}return this.node(0,P(I(e,t,i)),t,i)},keyword:function(e){var t=""+e,i=this.index,n=i+t.length;if(I(this.source,i,n)!=t)throw b("Failed to parse value at: "+i);return this.node(0,e,i,n)},skip:function(e,t){for(var i=this.source;t<i.length&&T(e,M(i,t));t++);return t},until:function(e,t){t=this.skip(D,t);for(var i=M(this.source,t),n=0;n<e.length;n++)if(e[n]==i)return t;throw b('Unexpected character: "'+i+'" at: '+t)}};var A=v((function(){var e,t="9007199254740993";S(t,(function(t,i,n){e=n.source}));return e!==t})),V=w&&!v((function(){return 1/S("-0 \t")!=-1/0}));n({target:"JSON",stat:!0,forced:A},{parse:function parse(e,t){return V&&!c(t)?S(e):function(e,t){e=p(e);var i=new Context(e,0,""),n=i.parse(),r=n.value,s=i.skip(D,n.end);if(s<e.length)throw b('Unexpected extra character: "'+M(e,s)+'" after the parsed data at: '+s);return c(t)?internalize({"":r},"",t,n):r}(e,t)}})},(e,t,i)=>{var n=i(12),r=i(24),s=SyntaxError,a=parseInt,o=String.fromCharCode,l=n("".charAt),c=n("".slice),d=n(/./.exec),h={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":"\n","\\r":"\r","\\t":"\t"},u=/^[\da-f]{4}$/i,p=/^[\u0000-\u001F]$/;e.exports=function(e,t){for(var i=!0,n="";t<e.length;){var f=l(e,t);if("\\"==f){var g=c(e,t,t+2);if(r(h,g)){n+=h[g];t+=2}else{if("\\u"!=g)throw s('Unknown escape sequence: "'+g+'"');var v=c(e,t+=2,t+4);if(!d(u,v))throw s("Bad Unicode escape at: "+t);n+=o(a(v,16));t+=4}}else{if('"'==f){i=!1;t++;break}if(d(p,f))throw s("Bad control character in string literal at: "+t);n+=f;t++}}if(i)throw s("Unterminated string at: "+t);return{value:n,end:t}}},(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SIDEBAR_MIN_WIDTH=t.PDFSidebar=void 0;i(96);i(1);var n=i(106),r=i(176);function _classPrivateMethodInitSpec(e,t){_checkPrivateRedeclaration(e,t);t.add(e)}function _classPrivateFieldInitSpec(e,t,i){_checkPrivateRedeclaration(e,t);t.set(e,i)}function _checkPrivateRedeclaration(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldGet(e,t){return function _classApplyDescriptorGet(e,t){if(t.get)return t.get.call(e);return t.value}(e,_classExtractFieldDescriptor(e,t,"get"))}function _classPrivateFieldSet(e,t,i){!function _classApplyDescriptorSet(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=i}}(e,_classExtractFieldDescriptor(e,t,"set"),i);return i}function _classExtractFieldDescriptor(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}function _classPrivateMethodGet(e,t,i){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return i}const s="--sidebar-width",a=140;t.SIDEBAR_MIN_WIDTH=a;const o="sidebarResizing";var l=new WeakMap,c=new WeakMap,d=new WeakMap,h=new WeakMap,u=new WeakMap,p=new WeakSet,f=new WeakSet,g=new WeakSet,v=new WeakSet,_=new WeakSet,w=new WeakSet,m=new WeakSet;t.PDFSidebar=class PDFSidebar{constructor(e){let{elements:t,eventBus:i,l10n:r}=e;_classPrivateMethodInitSpec(this,m);_classPrivateMethodInitSpec(this,w);_classPrivateMethodInitSpec(this,_);_classPrivateMethodInitSpec(this,v);_classPrivateMethodInitSpec(this,g);_classPrivateMethodInitSpec(this,f);_classPrivateMethodInitSpec(this,p);_classPrivateFieldInitSpec(this,l,{writable:!0,value:!1});_classPrivateFieldInitSpec(this,c,{writable:!0,value:_classPrivateMethodGet(this,w,_mouseMove2).bind(this)});_classPrivateFieldInitSpec(this,d,{writable:!0,value:_classPrivateMethodGet(this,m,_mouseUp2).bind(this)});_classPrivateFieldInitSpec(this,h,{writable:!0,value:null});_classPrivateFieldInitSpec(this,u,{writable:!0,value:null});this.isOpen=!1;this.active=n.SidebarView.THUMBS;this.isInitialViewSet=!1;this.isInitialEventDispatched=!1;this.onToggled=null;this.onUpdateThumbnails=null;this.outerContainer=t.outerContainer;this.sidebarContainer=t.sidebarContainer;this.toggleButton=t.toggleButton;this.resizer=t.resizer;this.thumbnailButton=t.thumbnailButton;this.outlineButton=t.outlineButton;this.attachmentsButton=t.attachmentsButton;this.layersButton=t.layersButton;this.thumbnailView=t.thumbnailView;this.outlineView=t.outlineView;this.attachmentsView=t.attachmentsView;this.layersView=t.layersView;this._outlineOptionsContainer=t.outlineOptionsContainer;this._currentOutlineItemButton=t.currentOutlineItemButton;this.eventBus=i;this.l10n=r;r.getDirection().then((e=>{_classPrivateFieldSet(this,l,"rtl"===e)}));_classPrivateMethodGet(this,v,_addEventListeners2).call(this)}reset(){var e,t,i,n;this.isInitialViewSet=!1;this.isInitialEventDispatched=!1;_classPrivateMethodGet(this,g,_hideUINotification2).call(this,!0);if(!this.outlineReady.settled){this.outlineReady.promise.catch((()=>{}));this.outlineReady.reject()}this.outlineReady=new r.PromiseCapability;this.haveOutline=!1;null===(e=this.outlineButton)||void 0===e||e.classList.toggle("disabled",!1);null===(t=this.attachmentsButton)||void 0===t||t.classList.toggle("disabled",!1);null===(i=this.layersButton)||void 0===i||i.classList.toggle("disabled",!1);null===(n=this._currentOutlineItemButton)||void 0===n||n.classList.toggle("disabled",!0)}get visibleView(){return this.isOpen?this.active:n.SidebarView.NONE}async setInitialView(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.SidebarView.NONE;if(!this.isInitialViewSet){try{await this.outlineReady.promise}catch{return}this.isInitialViewSet=!0;if(e!==n.SidebarView.UNKNOWN){this.switchView(e,!0);this.isInitialEventDispatched||_classPrivateMethodGet(this,p,_dispatchEvent2).call(this)}else _classPrivateMethodGet(this,p,_dispatchEvent2).call(this)}}switchView(e){var t,i,r;let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a=e!==this.active;let o=!1;switch(e){case n.SidebarView.NONE:this.isOpen&&this.close();return;case n.SidebarView.THUMBS:this.isOpen&&a&&(o=!0);break;case n.SidebarView.OUTLINE:if(!this.haveOutline)return;break;case n.SidebarView.ATTACHMENTS:if(!this.attachmentsButton||null!==(t=this.attachmentsButton)&&void 0!==t&&t.classList.contains("disabled"))return;break;case n.SidebarView.LAYERS:if(!this.layersButton||null!==(i=this.layersButton)&&void 0!==i&&i.classList.contains("disabled"))return;break;default:console.error('PDFSidebar.switchView: "'.concat(e,'" is not a valid view.'));return}this.active=e;(0,n.toggleCheckedBtn)(this.thumbnailButton,e===n.SidebarView.THUMBS,this.thumbnailView);(0,n.toggleCheckedBtn)(this.outlineButton,e===n.SidebarView.OUTLINE,this.outlineView);(0,n.toggleCheckedBtn)(this.attachmentsButton,e===n.SidebarView.ATTACHMENTS,this.attachmentsView);(0,n.toggleCheckedBtn)(this.layersButton,e===n.SidebarView.LAYERS,this.layersView);null===(r=this._outlineOptionsContainer)||void 0===r||r.classList.toggle("hidden",e!==n.SidebarView.OUTLINE);if(!s||this.isOpen){if(o){this.onUpdateThumbnails();this.onToggled()}a&&_classPrivateMethodGet(this,p,_dispatchEvent2).call(this)}else this.open()}open(){if(!this.isOpen){this.isOpen=!0;(0,n.toggleExpandedBtn)(this.toggleButton,!0);this.outerContainer.classList.add("sidebarMoving","sidebarOpen");this.active===n.SidebarView.THUMBS&&this.onUpdateThumbnails();this.onToggled();_classPrivateMethodGet(this,p,_dispatchEvent2).call(this);_classPrivateMethodGet(this,g,_hideUINotification2).call(this)}}close(){if(this.isOpen){this.isOpen=!1;(0,n.toggleExpandedBtn)(this.toggleButton,!1);this.outerContainer.classList.add("sidebarMoving");this.outerContainer.classList.remove("sidebarOpen");this.onToggled();_classPrivateMethodGet(this,p,_dispatchEvent2).call(this)}}toggle(e){!1===e||this.isOpen?this.close():this.open()}get outerContainerWidth(){return _classPrivateFieldGet(this,h)||_classPrivateFieldSet(this,h,this.outerContainer.clientWidth)}};function _dispatchEvent2(){this.isInitialViewSet&&(this.isInitialEventDispatched||(this.isInitialEventDispatched=!0));this.eventBus.dispatch("sidebarviewchanged",{source:this,view:this.visibleView})}function _showUINotification2(){}function _hideUINotification2(){}function _addEventListeners2(){var e,t,i,s,l,p,g,v,w;null===(e=this.sidebarContainer)||void 0===e||e.addEventListener("transitionend",(e=>{e.target===this.sidebarContainer&&this.outerContainer.classList.remove("sidebarMoving")}));null===(t=this.toggleButton)||void 0===t||t.addEventListener("click",(()=>{this.toggle()}));null===(i=this.thumbnailButton)||void 0===i||i.addEventListener("click",(()=>{this.switchView(n.SidebarView.THUMBS)}));null===(s=this.outlineButton)||void 0===s||s.addEventListener("click",(()=>{this.switchView(n.SidebarView.OUTLINE)}));null===(l=this.outlineButton)||void 0===l||l.addEventListener("dblclick",(()=>{this.eventBus.dispatch("toggleoutlinetree",{source:this})}));null===(p=this.attachmentsButton)||void 0===p||p.addEventListener("click",(()=>{this.switchView(n.SidebarView.ATTACHMENTS)}));null===(g=this.layersButton)||void 0===g||g.addEventListener("click",(()=>{this.switchView(n.SidebarView.LAYERS)}));null===(v=this.layersButton)||void 0===v||v.addEventListener("dblclick",(()=>{this.eventBus.dispatch("resetlayers",{source:this})}));null===(w=this._currentOutlineItemButton)||void 0===w||w.addEventListener("click",(()=>{this.eventBus.dispatch("currentoutlineitem",{source:this})}));const onTreeLoaded=(e,t,i)=>{null==t||t.classList.toggle("disabled",!e);e?_classPrivateMethodGet(this,f,_showUINotification2).call(this):this.active===i&&this.switchView(n.SidebarView.THUMBS)};this.outlineReady=new r.PromiseCapability;this.eventBus._on("outlineloaded",(e=>{onTreeLoaded(e.outlineCount,this.outlineButton,n.SidebarView.OUTLINE);this.outlineReady.resolve();this.haveOutline=!!e.outlineCount;e.currentOutlineItemPromise.then((e=>{var t;this.isInitialViewSet&&(null===(t=this._currentOutlineItemButton)||void 0===t||t.classList.toggle("disabled",!e))}))}));this.eventBus._on("attachmentsloaded",(e=>{onTreeLoaded(e.attachmentsCount,this.attachmentsButton,n.SidebarView.ATTACHMENTS)}));this.eventBus._on("layersloaded",(e=>{onTreeLoaded(e.layersCount,this.layersButton,n.SidebarView.LAYERS)}));this.eventBus._on("presentationmodechanged",(e=>{e.state===n.PresentationModeState.NORMAL&&this.visibleView===n.SidebarView.THUMBS&&this.onUpdateThumbnails()}));this.resizer.addEventListener("mousedown",(e=>{if(0!==e.button)return;this.startX=e.clientX;this.startWidth=_classPrivateFieldGet(this,u)||a;this.outerContainer.classList.add(o);const t=this.outerContainer.ownerDocument.defaultView||window;t.addEventListener("mousemove",_classPrivateFieldGet(this,c));t.addEventListener("mouseup",_classPrivateFieldGet(this,d))}));this.eventBus._on("resize",(e=>{_classPrivateFieldSet(this,h,null);if(!_classPrivateFieldGet(this,u))return;if(!this.isOpen){_classPrivateMethodGet(this,_,_updateWidth2).call(this,_classPrivateFieldGet(this,u));return}this.outerContainer.classList.add(o);const t=_classPrivateMethodGet(this,_,_updateWidth2).call(this,_classPrivateFieldGet(this,u));Promise.resolve().then((()=>{this.outerContainer.classList.remove(o);t&&this.eventBus.dispatch("resize",{source:this})}))}));this.eventBus._on("togglesidebar",(e=>{this.toggle(e.open)}))}function _updateWidth2(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const t=Math.floor(this.outerContainerWidth/2);e>t&&(e=t);e<a&&(e=a);if(e===_classPrivateFieldGet(this,u))return!1;_classPrivateFieldSet(this,u,e);this.outerContainer.style.setProperty(s,"".concat(e,"px"));return!0}function _mouseMove2(e){_classPrivateFieldGet(this,l)?_classPrivateMethodGet(this,_,_updateWidth2).call(this,this.startWidth+(this.startX-e.clientX)):_classPrivateMethodGet(this,_,_updateWidth2).call(this,this.startWidth-(this.startX-e.clientX))}function _mouseUp2(e){this.outerContainer.classList.remove(o);this.eventBus.dispatch("resize",{source:this});const t=this.outerContainer.ownerDocument.defaultView||window;t.removeEventListener("mousemove",_classPrivateFieldGet(this,c));t.removeEventListener("mouseup",_classPrivateFieldGet(this,d))}},(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AnnotationEditorParams=void 0;i(96);i(1);var n=i(176);function _classPrivateMethodInitSpec(e,t){!function _checkPrivateRedeclaration(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t);t.add(e)}var r=new WeakSet;t.AnnotationEditorParams=class AnnotationEditorParams{constructor(e,t){_classPrivateMethodInitSpec(this,r);this.eventBus=t;(function _classPrivateMethodGet(e,t,i){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return i})(this,r,_bindListeners2).call(this,e)}};function _bindListeners2(e){let{editorFreeTextFontSize:t,editorFreeTextColor:i,editorInkColor:r,editorInkThickness:s,editorInkOpacity:a}=e;const dispatchEvent=(e,t)=>{this.eventBus.dispatch("switchannotationeditorparams",{source:this,type:n.AnnotationEditorParamsType[e],value:t})};t.addEventListener("input",(function(){dispatchEvent("FREETEXT_SIZE",this.valueAsNumber)}));i.addEventListener("input",(function(){dispatchEvent("FREETEXT_COLOR",this.value)}));r.addEventListener("input",(function(){dispatchEvent("INK_COLOR",this.value)}));s.addEventListener("input",(function(){dispatchEvent("INK_THICKNESS",this.valueAsNumber)}));a.addEventListener("input",(function(){dispatchEvent("INK_OPACITY",this.valueAsNumber)}));this.eventBus._on("annotationeditorparamschanged",(e=>{for(const[o,l]of e.details)switch(o){case n.AnnotationEditorParamsType.FREETEXT_SIZE:t.value=l;break;case n.AnnotationEditorParamsType.FREETEXT_COLOR:i.value=l;break;case n.AnnotationEditorParamsType.INK_COLOR:r.value=l;break;case n.AnnotationEditorParamsType.INK_THICKNESS:s.value=l;break;case n.AnnotationEditorParamsType.INK_OPACITY:a.value=l}}))}},(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.OverlayManager=void 0;i(1);i(96);function _classPrivateFieldInitSpec(e,t,i){!function _checkPrivateRedeclaration(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t);t.set(e,i)}function _classPrivateFieldSet(e,t,i){!function _classApplyDescriptorSet(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=i}}(e,_classExtractFieldDescriptor(e,t,"set"),i);return i}function _classPrivateFieldGet(e,t){return function _classApplyDescriptorGet(e,t){if(t.get)return t.get.call(e);return t.value}(e,_classExtractFieldDescriptor(e,t,"get"))}function _classExtractFieldDescriptor(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}var n=new WeakMap,r=new WeakMap;t.OverlayManager=class OverlayManager{constructor(){_classPrivateFieldInitSpec(this,n,{writable:!0,value:new WeakMap});_classPrivateFieldInitSpec(this,r,{writable:!0,value:null})}get active(){return _classPrivateFieldGet(this,r)}async register(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("object"!=typeof e)throw new Error("Not enough parameters.");if(_classPrivateFieldGet(this,n).has(e))throw new Error("The overlay is already registered.");_classPrivateFieldGet(this,n).set(e,{canForceClose:t});e.addEventListener("cancel",(e=>{_classPrivateFieldSet(this,r,null)}))}async open(e){if(!_classPrivateFieldGet(this,n).has(e))throw new Error("The overlay does not exist.");if(_classPrivateFieldGet(this,r)){if(_classPrivateFieldGet(this,r)===e)throw new Error("The overlay is already active.");if(!_classPrivateFieldGet(this,n).get(e).canForceClose)throw new Error("Another overlay is currently active.");await this.close()}_classPrivateFieldSet(this,r,e);e.showModal()}async close(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_classPrivateFieldGet(this,r);if(!_classPrivateFieldGet(this,n).has(e))throw new Error("The overlay does not exist.");if(!_classPrivateFieldGet(this,r))throw new Error("The overlay is currently not active.");if(_classPrivateFieldGet(this,r)!==e)throw new Error("Another overlay is currently active.");e.close();_classPrivateFieldSet(this,r,null)}}},(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PasswordPrompt=t.IPasswordPrompt=void 0;i(96);i(1);var n=i(176);function _classPrivateMethodInitSpec(e,t){_checkPrivateRedeclaration(e,t);t.add(e)}function _classPrivateFieldInitSpec(e,t,i){_checkPrivateRedeclaration(e,t);t.set(e,i)}function _checkPrivateRedeclaration(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldSet(e,t,i){!function _classApplyDescriptorSet(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=i}}(e,_classExtractFieldDescriptor(e,t,"set"),i);return i}function _classPrivateFieldGet(e,t){return function _classApplyDescriptorGet(e,t){if(t.get)return t.get.call(e);return t.value}(e,_classExtractFieldDescriptor(e,t,"get"))}function _classExtractFieldDescriptor(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}function _classPrivateMethodGet(e,t,i){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return i}class IPasswordPrompt{async open(){}async close(){}async setUpdateCallback(e,t){}}t.IPasswordPrompt=IPasswordPrompt;var r=new WeakMap,s=new WeakMap,a=new WeakMap,o=new WeakSet,l=new WeakSet,c=new WeakSet;t.PasswordPrompt=class PasswordPrompt extends IPasswordPrompt{constructor(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];super();_classPrivateMethodInitSpec(this,c);_classPrivateMethodInitSpec(this,l);_classPrivateMethodInitSpec(this,o);_classPrivateFieldInitSpec(this,r,{writable:!0,value:null});_classPrivateFieldInitSpec(this,s,{writable:!0,value:null});_classPrivateFieldInitSpec(this,a,{writable:!0,value:null});this.dialog=e.dialog;this.label=e.label;this.input=e.input;this.submitButton=e.submitButton;this.cancelButton=e.cancelButton;this.overlayManager=t;this.l10n=i;this._isViewerEmbedded=n;this.submitButton.addEventListener("click",_classPrivateMethodGet(this,o,_verify2).bind(this));this.cancelButton.addEventListener("click",this.close.bind(this));this.input.addEventListener("keydown",(e=>{13===e.keyCode&&_classPrivateMethodGet(this,o,_verify2).call(this)}));this.overlayManager.register(this.dialog,!0);this.dialog.addEventListener("close",_classPrivateMethodGet(this,l,_cancel2).bind(this))}async open(){_classPrivateFieldGet(this,r)&&await _classPrivateFieldGet(this,r).promise;_classPrivateFieldSet(this,r,new n.PromiseCapability);try{await this.overlayManager.open(this.dialog)}catch(e){_classPrivateFieldSet(this,r,null);throw e}const e=_classPrivateFieldGet(this,a)===n.PasswordResponses.INCORRECT_PASSWORD;this._isViewerEmbedded&&!e||this.input.focus();this.label.textContent=await this.l10n.get("password_".concat(e?"invalid":"label"))}async close(){this.overlayManager.active===this.dialog&&this.overlayManager.close(this.dialog)}async setUpdateCallback(e,t){_classPrivateFieldGet(this,r)&&await _classPrivateFieldGet(this,r).promise;_classPrivateFieldSet(this,s,e);_classPrivateFieldSet(this,a,t)}};function _verify2(){const e=this.input.value;(null==e?void 0:e.length)>0&&_classPrivateMethodGet(this,c,_invokeCallback2).call(this,e)}function _cancel2(){_classPrivateMethodGet(this,c,_invokeCallback2).call(this,new Error("PasswordPrompt cancelled."));_classPrivateFieldGet(this,r).resolve()}function _invokeCallback2(e){if(_classPrivateFieldGet(this,s)){this.close();this.input.value="";_classPrivateFieldGet(this,s).call(this,e);_classPrivateFieldSet(this,s,null)}}},(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PDFAttachmentViewer=void 0;i(96);i(1);var n=i(176),r=i(187),s=i(178);function _classPrivateMethodInitSpec(e,t){!function _checkPrivateRedeclaration(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t);t.add(e)}var a=new WeakSet;class PDFAttachmentViewer extends r.BaseTreeViewer{constructor(e){super(e);_classPrivateMethodInitSpec(this,a);this.downloadManager=e.downloadManager;this.eventBus._on("fileattachmentannotation",function _classPrivateMethodGet(e,t,i){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return i}(this,a,_appendAttachment2).bind(this))}reset(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];super.reset();this._attachments=null;e||(this._renderedCapability=new n.PromiseCapability);this._pendingDispatchEvent=!1}async _dispatchEvent(e){this._renderedCapability.resolve();if(0===e&&!this._pendingDispatchEvent){this._pendingDispatchEvent=!0;await(0,s.waitOnEventOrTimeout)({target:this.eventBus,name:"annotationlayerrendered",delay:1e3});if(!this._pendingDispatchEvent)return}this._pendingDispatchEvent=!1;this.eventBus.dispatch("attachmentsloaded",{source:this,attachmentsCount:e})}_bindLink(e,t){let{content:i,filename:n}=t;e.onclick=()=>{this.downloadManager.openOrDownloadData(e,i,n);return!1}}renderTree(e){let{attachments:t,keepRenderedCapability:i=!1}=e;this._attachments&&this.reset(i);this._attachments=t||null;if(!t){this._dispatchEvent(0);return}const r=document.createDocumentFragment();let s=0;for(const e in t){const i=t[e],a=i.content,o=(0,n.getFilenameFromUrl)(i.filename,!0),l=document.createElement("div");l.className="treeItem";const c=document.createElement("a");this._bindLink(c,{content:a,filename:o});c.textContent=this._normalizeTextContent(o);l.append(c);r.append(l);s++}this._finishRendering(r,s)}}t.PDFAttachmentViewer=PDFAttachmentViewer;function _appendAttachment2(e){let{filename:t,content:i}=e;const n=this._renderedCapability.promise;n.then((()=>{if(n!==this._renderedCapability.promise)return;const e=this._attachments||Object.create(null);for(const i in e)if(t===i)return;e[t]={filename:t,content:i};this.renderTree({attachments:e,keepRenderedCapability:!0})}))}},(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BaseTreeViewer=void 0;i(96);i(1);var n=i(106);const r="selected";class BaseTreeViewer{constructor(e){if(this.constructor===BaseTreeViewer)throw new Error("Cannot initialize BaseTreeViewer.");this.container=e.container;this.eventBus=e.eventBus;this.reset()}reset(){this._pdfDocument=null;this._lastToggleIsShow=!0;this._currentTreeItem=null;this.container.textContent="";this.container.classList.remove("treeWithDeepNesting")}_dispatchEvent(e){throw new Error("Not implemented: _dispatchEvent")}_bindLink(e,t){throw new Error("Not implemented: _bindLink")}_normalizeTextContent(e){return(0,n.removeNullCharacters)(e,!0)||"â"}_addToggleButton(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=document.createElement("div");i.className="treeItemToggler";t&&i.classList.add("treeItemsHidden");i.onclick=t=>{t.stopPropagation();i.classList.toggle("treeItemsHidden");if(t.shiftKey){const t=!i.classList.contains("treeItemsHidden");this._toggleTreeItem(e,t)}};e.prepend(i)}_toggleTreeItem(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._lastToggleIsShow=t;for(const i of e.querySelectorAll(".treeItemToggler"))i.classList.toggle("treeItemsHidden",!t)}_toggleAllTreeItems(){this._toggleTreeItem(this.container,!this._lastToggleIsShow)}_finishRendering(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]){this.container.classList.add("treeWithDeepNesting");this._lastToggleIsShow=!e.querySelector(".treeItemsHidden")}this.container.append(e);this._dispatchEvent(t)}renderTree(e){throw new Error("Not implemented: render")}_updateCurrentTreeItem(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this._currentTreeItem){this._currentTreeItem.classList.remove(r);this._currentTreeItem=null}if(e){e.classList.add(r);this._currentTreeItem=e}}_scrollToCurrentTreeItem(e){if(!e)return;let t=e.parentNode;for(;t&&t!==this.container;){if(t.classList.contains("treeItem")){const e=t.firstElementChild;null==e||e.classList.remove("treeItemsHidden")}t=t.parentNode}this._updateCurrentTreeItem(e);this.container.scrollTo(e.offsetLeft,e.offsetTop+-100)}}t.BaseTreeViewer=BaseTreeViewer},(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PDFCursorTools=void 0;i(96);i(1);var n=i(176),r=i(106),s=i(189);function _classPrivateFieldInitSpec(e,t,i){_checkPrivateRedeclaration(e,t);t.set(e,i)}function _checkPrivateRedeclaration(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldSet(e,t,i){!function _classApplyDescriptorSet(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=i}}(e,_classExtractFieldDescriptor(e,t,"set"),i);return i}function _classPrivateFieldGet(e,t){return function _classApplyDescriptorGet(e,t){if(t.get)return t.get.call(e);return t.value}(e,_classExtractFieldDescriptor(e,t,"get"))}function _classExtractFieldDescriptor(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}var a=new WeakMap,o=new WeakMap,l=new WeakSet;t.PDFCursorTools=class PDFCursorTools{constructor(e){let{container:t,eventBus:i,cursorToolOnLoad:n=r.CursorTool.SELECT}=e;!function _classPrivateMethodInitSpec(e,t){_checkPrivateRedeclaration(e,t);t.add(e)}(this,l);_classPrivateFieldInitSpec(this,a,{writable:!0,value:r.CursorTool.SELECT});_classPrivateFieldInitSpec(this,o,{writable:!0,value:null});this.container=t;this.eventBus=i;(function _classPrivateMethodGet(e,t,i){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return i})(this,l,_addEventListeners2).call(this);Promise.resolve().then((()=>{this.switchTool(n)}))}get activeTool(){return _classPrivateFieldGet(this,a)}switchTool(e){if(null!==_classPrivateFieldGet(this,o))return;if(e===_classPrivateFieldGet(this,a))return;const disableActiveTool=()=>{switch(_classPrivateFieldGet(this,a)){case r.CursorTool.SELECT:break;case r.CursorTool.HAND:this._handTool.deactivate();case r.CursorTool.ZOOM:}};switch(e){case r.CursorTool.SELECT:disableActiveTool();break;case r.CursorTool.HAND:disableActiveTool();this._handTool.activate();break;case r.CursorTool.ZOOM:default:console.error('switchTool: "'.concat(e,'" is an unsupported value.'));return}_classPrivateFieldSet(this,a,e);this.eventBus.dispatch("cursortoolchanged",{source:this,tool:e})}get _handTool(){return(0,n.shadow)(this,"_handTool",new s.GrabToPan({element:this.container}))}};function _addEventListeners2(){this.eventBus._on("switchcursortool",(e=>{this.switchTool(e.tool)}));let e=n.AnnotationEditorType.NONE,t=r.PresentationModeState.NORMAL;const disableActive=()=>{var e;const t=_classPrivateFieldGet(this,a);this.switchTool(r.CursorTool.SELECT);null!==(e=_classPrivateFieldGet(this,o))&&void 0!==e||_classPrivateFieldSet(this,o,t)},enableActive=()=>{const i=_classPrivateFieldGet(this,o);if(null!==i&&e===n.AnnotationEditorType.NONE&&t===r.PresentationModeState.NORMAL){_classPrivateFieldSet(this,o,null);this.switchTool(i)}};this.eventBus._on("secondarytoolbarreset",(i=>{if(null!==_classPrivateFieldGet(this,o)){e=n.AnnotationEditorType.NONE;t=r.PresentationModeState.NORMAL;enableActive()}}));this.eventBus._on("annotationeditormodechanged",(t=>{let{mode:i}=t;e=i;i===n.AnnotationEditorType.NONE?enableActive():disableActive()}));this.eventBus._on("presentationmodechanged",(e=>{let{state:i}=e;t=i;i===r.PresentationModeState.NORMAL?enableActive():i===r.PresentationModeState.FULLSCREEN&&disableActive()}))}},(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GrabToPan=void 0;i(96);i(1);function _classPrivateMethodInitSpec(e,t){!function _checkPrivateRedeclaration(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t);t.add(e)}function _classPrivateMethodGet(e,t,i){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return i}const n="grab-to-pan-grab";var r=new WeakSet,s=new WeakSet,a=new WeakSet;t.GrabToPan=class GrabToPan{constructor(e){let{element:t}=e;_classPrivateMethodInitSpec(this,a);_classPrivateMethodInitSpec(this,s);_classPrivateMethodInitSpec(this,r);this.element=t;this.document=t.ownerDocument;this.activate=this.activate.bind(this);this.deactivate=this.deactivate.bind(this);this.toggle=this.toggle.bind(this);this._onMouseDown=_classPrivateMethodGet(this,r,_onMouseDown2).bind(this);this._onMouseMove=_classPrivateMethodGet(this,s,_onMouseMove2).bind(this);this._endPan=_classPrivateMethodGet(this,a,_endPan2).bind(this);(this.overlay=document.createElement("div")).className="grab-to-pan-grabbing"}activate(){if(!this.active){this.active=!0;this.element.addEventListener("mousedown",this._onMouseDown,!0);this.element.classList.add(n)}}deactivate(){if(this.active){this.active=!1;this.element.removeEventListener("mousedown",this._onMouseDown,!0);this._endPan();this.element.classList.remove(n)}}toggle(){this.active?this.deactivate():this.activate()}ignoreTarget(e){return e.matches("a[href], a[href] *, input, textarea, button, button *, select, option")}};function _onMouseDown2(e){if(0!==e.button||this.ignoreTarget(e.target))return;if(e.originalTarget)try{e.originalTarget.tagName}catch{return}this.scrollLeftStart=this.element.scrollLeft;this.scrollTopStart=this.element.scrollTop;this.clientXStart=e.clientX;this.clientYStart=e.clientY;this.document.addEventListener("mousemove",this._onMouseMove,!0);this.document.addEventListener("mouseup",this._endPan,!0);this.element.addEventListener("scroll",this._endPan,!0);e.preventDefault();e.stopPropagation();const t=document.activeElement;t&&!t.contains(e.target)&&t.blur()}function _onMouseMove2(e){this.element.removeEventListener("scroll",this._endPan,!0);if(!(1&e.buttons)){this._endPan();return}const t=e.clientX-this.clientXStart,i=e.clientY-this.clientYStart;this.element.scrollTo({top:this.scrollTopStart-i,left:this.scrollLeftStart-t,behavior:"instant"});this.overlay.parentNode||document.body.append(this.overlay)}function _endPan2(){this.element.removeEventListener("scroll",this._endPan,!0);this.document.removeEventListener("mousemove",this._onMouseMove,!0);this.document.removeEventListener("mouseup",this._endPan,!0);this.overlay.remove()}},(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PDFDocumentProperties=void 0;i(1);i(96);var n=i(106),r=i(176);function _classPrivateMethodInitSpec(e,t){_checkPrivateRedeclaration(e,t);t.add(e)}function _checkPrivateRedeclaration(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldSet(e,t,i){!function _classApplyDescriptorSet(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=i}}(e,_classExtractFieldDescriptor(e,t,"set"),i);return i}function _classPrivateFieldGet(e,t){return function _classApplyDescriptorGet(e,t){if(t.get)return t.get.call(e);return t.value}(e,_classExtractFieldDescriptor(e,t,"get"))}function _classExtractFieldDescriptor(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}function _classPrivateMethodGet(e,t,i){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return i}const s=["en-us","en-lr","my"],a={"8.5x11":"Letter","8.5x14":"Legal"},o={"297x420":"A3","210x297":"A4"};function getPageName(e,t,i){const n=t?e.width:e.height,r=t?e.height:e.width;return i["".concat(n,"x").concat(r)]}var l=new WeakMap,c=new WeakSet,d=new WeakSet,h=new WeakSet,u=new WeakSet,p=new WeakSet,f=new WeakSet;t.PDFDocumentProperties=class PDFDocumentProperties{constructor(e,t,i,n,r){let{dialog:a,fields:o,closeButton:g}=e;_classPrivateMethodInitSpec(this,f);_classPrivateMethodInitSpec(this,p);_classPrivateMethodInitSpec(this,u);_classPrivateMethodInitSpec(this,h);_classPrivateMethodInitSpec(this,d);_classPrivateMethodInitSpec(this,c);!function _classPrivateFieldInitSpec(e,t,i){_checkPrivateRedeclaration(e,t);t.set(e,i)}(this,l,{writable:!0,value:null});this.dialog=a;this.fields=o;this.overlayManager=t;this.l10n=n;this._fileNameLookup=r;_classPrivateMethodGet(this,c,_reset2).call(this);g.addEventListener("click",this.close.bind(this));this.overlayManager.register(this.dialog);i._on("pagechanging",(e=>{this._currentPageNumber=e.pageNumber}));i._on("rotationchanging",(e=>{this._pagesRotation=e.pagesRotation}));this._isNonMetricLocale=!0;n.getLanguage().then((e=>{this._isNonMetricLocale=s.includes(e)}))}async open(){await Promise.all([this.overlayManager.open(this.dialog),this._dataAvailableCapability.promise]);const e=this._currentPageNumber,t=this._pagesRotation;if(_classPrivateFieldGet(this,l)&&e===_classPrivateFieldGet(this,l)._currentPageNumber&&t===_classPrivateFieldGet(this,l)._pagesRotation){_classPrivateMethodGet(this,d,_updateUI2).call(this);return}const{info:i,contentLength:r}=await this.pdfDocument.getMetadata(),[s,a,o,c,g,v]=await Promise.all([this._fileNameLookup(),_classPrivateMethodGet(this,h,_parseFileSize2).call(this,r),_classPrivateMethodGet(this,p,_parseDate2).call(this,i.CreationDate),_classPrivateMethodGet(this,p,_parseDate2).call(this,i.ModDate),this.pdfDocument.getPage(e).then((e=>_classPrivateMethodGet(this,u,_parsePageSize2).call(this,(0,n.getPageSizeInches)(e),t))),_classPrivateMethodGet(this,f,_parseLinearization2).call(this,i.IsLinearized)]);_classPrivateFieldSet(this,l,Object.freeze({fileName:s,fileSize:a,title:i.Title,author:i.Author,subject:i.Subject,keywords:i.Keywords,creationDate:o,modificationDate:c,creator:i.Creator,producer:i.Producer,version:i.PDFFormatVersion,pageCount:this.pdfDocument.numPages,pageSize:g,linearized:v,_currentPageNumber:e,_pagesRotation:t}));_classPrivateMethodGet(this,d,_updateUI2).call(this);const{length:_}=await this.pdfDocument.getDownloadInfo();if(r===_)return;const w=Object.assign(Object.create(null),_classPrivateFieldGet(this,l));w.fileSize=await _classPrivateMethodGet(this,h,_parseFileSize2).call(this,_);_classPrivateFieldSet(this,l,Object.freeze(w));_classPrivateMethodGet(this,d,_updateUI2).call(this)}async close(){this.overlayManager.close(this.dialog)}setDocument(e){if(this.pdfDocument){_classPrivateMethodGet(this,c,_reset2).call(this);_classPrivateMethodGet(this,d,_updateUI2).call(this,!0)}if(e){this.pdfDocument=e;this._dataAvailableCapability.resolve()}}};function _reset2(){this.pdfDocument=null;_classPrivateFieldSet(this,l,null);this._dataAvailableCapability=new r.PromiseCapability;this._currentPageNumber=1;this._pagesRotation=0}function _updateUI2(){if(!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&_classPrivateFieldGet(this,l)){if(this.overlayManager.active===this.dialog)for(const e in this.fields){const t=_classPrivateFieldGet(this,l)[e];this.fields[e].textContent=t||0===t?t:"-"}}else for(const e in this.fields)this.fields[e].textContent="-"}async function _parseFileSize2(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const t=e/1024,i=t/1024;if(t)return this.l10n.get("document_properties_".concat(i>=1?"mb":"kb"),{size_mb:i>=1&&(+i.toPrecision(3)).toLocaleString(),size_kb:i<1&&(+t.toPrecision(3)).toLocaleString(),size_b:e.toLocaleString()})}async function _parsePageSize2(e,t){if(!e)return;t%180!=0&&(e={width:e.height,height:e.width});const i=(0,n.isPortraitOrientation)(e);let r={width:Math.round(100*e.width)/100,height:Math.round(100*e.height)/100},s={width:Math.round(25.4*e.width*10)/10,height:Math.round(25.4*e.height*10)/10},l=getPageName(r,i,a)||getPageName(s,i,o);if(!(l||Number.isInteger(s.width)&&Number.isInteger(s.height))){const t={width:25.4*e.width,height:25.4*e.height},n={width:Math.round(s.width),height:Math.round(s.height)};if(Math.abs(t.width-n.width)<.1&&Math.abs(t.height-n.height)<.1){l=getPageName(n,i,o);if(l){r={width:Math.round(n.width/25.4*100)/100,height:Math.round(n.height/25.4*100)/100};s=n}}}const[{width:c,height:d},h,u,p]=await Promise.all([this._isNonMetricLocale?r:s,this.l10n.get("document_properties_page_size_unit_".concat(this._isNonMetricLocale?"inches":"millimeters")),l&&this.l10n.get("document_properties_page_size_name_".concat(l.toLowerCase())),this.l10n.get("document_properties_page_size_orientation_".concat(i?"portrait":"landscape"))]);return this.l10n.get("document_properties_page_size_dimension_".concat(u?"name_":"","string"),{width:c.toLocaleString(),height:d.toLocaleString(),unit:h,name:u,orientation:p})}async function _parseDate2(e){const t=r.PDFDateString.toDateObject(e);if(t)return this.l10n.get("document_properties_date_string",{date:t.toLocaleDateString(),time:t.toLocaleTimeString()})}function _parseLinearization2(e){return this.l10n.get("document_properties_linearized_".concat(e?"yes":"no"))}},(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PDFFindBar=t.IPDFFindBar=void 0;i(91);i(96);i(1);var n=i(192),r=i(106);function _classPrivateMethodInitSpec(e,t){!function _checkPrivateRedeclaration(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t);t.add(e)}function _classPrivateMethodGet(e,t,i){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return i}function _defineProperty(e,t,i){(t=function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i;return e}class IPDFFindBar{constructor(){_defineProperty(this,"opened",!1)}reset(){}open(){}close(){}updateResultsCount(){let{current:e=0,total:t=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}updateUIState(e,t,i){}showSearch(){}}t.IPDFFindBar=IPDFFindBar;var s=new WeakSet;t.PDFFindBar=class PDFFindBar extends IPDFFindBar{constructor(e,t,i){super();_classPrivateMethodInitSpec(this,s);this.opened=!1;this.bar=e.bar;this.toggleButton=e.toggleButton;this.findField=e.findField;this.highlightAll=e.highlightAllCheckbox;this.caseSensitive=e.caseSensitiveCheckbox;this.matchDiacritics=e.matchDiacriticsCheckbox;this.entireWord=e.entireWordCheckbox;this.findMsg=e.findMsg;this.findResultsCount=e.findResultsCount;this.findPreviousButton=e.findPreviousButton;this.findNextButton=e.findNextButton;this.eventBus=t;this.l10n=i;this.toggleButton.addEventListener("click",(()=>{this.toggle()}));this.findField.addEventListener("input",(()=>{this.dispatchEvent("")}));this.bar.addEventListener("keydown",(e=>{switch(e.keyCode){case 13:e.target===this.findField&&this.dispatchEvent("again",e.shiftKey);break;case 27:this.close()}}));this.findPreviousButton.addEventListener("click",(()=>{this.dispatchEvent("again",!0)}));this.findNextButton.addEventListener("click",(()=>{this.dispatchEvent("again",!1)}));this.highlightAll.addEventListener("click",(()=>{this.dispatchEvent("highlightallchange")}));this.caseSensitive.addEventListener("click",(()=>{this.dispatchEvent("casesensitivitychange")}));this.entireWord.addEventListener("click",(()=>{this.dispatchEvent("entirewordchange")}));this.matchDiacritics.addEventListener("click",(()=>{this.dispatchEvent("diacriticmatchingchange")}));this.eventBus._on("resize",_classPrivateMethodGet(this,s,_adjustWidth2).bind(this))}reset(){this.updateUIState()}dispatchEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.eventBus.dispatch("find",{source:this,type:e,query:this.findField.value,caseSensitive:this.caseSensitive.checked,entireWord:this.entireWord.checked,highlightAll:this.highlightAll.checked,findPrevious:t,matchDiacritics:this.matchDiacritics.checked})}updateUIState(e,t,i){let r=Promise.resolve(""),a="";switch(e){case n.FindState.FOUND:break;case n.FindState.PENDING:a="pending";break;case n.FindState.NOT_FOUND:r=this.l10n.get("find_not_found");a="notFound";break;case n.FindState.WRAPPED:r=this.l10n.get("find_reached_".concat(t?"top":"bottom"))}this.findField.setAttribute("data-status",a);this.findField.setAttribute("aria-invalid",e===n.FindState.NOT_FOUND);r.then((e=>{this.findMsg.setAttribute("data-status",a);this.findMsg.textContent=e;_classPrivateMethodGet(this,s,_adjustWidth2).call(this)}));this.updateResultsCount(i)}updateResultsCount(){let{current:e=0,total:t=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};let i=Promise.resolve("");if(t>0)if(t>1e3){let e="find_match_count_limit";i=this.l10n.get(e,{limit:1e3})}else{let n="find_match_count";i=this.l10n.get(n,{current:e,total:t})}i.then((e=>{this.findResultsCount.textContent=e;_classPrivateMethodGet(this,s,_adjustWidth2).call(this)}))}open(){if(!this.opened){this.opened=!0;(0,r.toggleExpandedBtn)(this.toggleButton,!0,this.bar)}this.findField.select();this.findField.focus();_classPrivateMethodGet(this,s,_adjustWidth2).call(this)}close(){if(this.opened){this.opened=!1;(0,r.toggleExpandedBtn)(this.toggleButton,!1,this.bar);this.eventBus.dispatch("findbarclose",{source:this})}}toggle(){this.opened?this.close():this.open()}};function _adjustWidth2(){if(!this.opened)return;this.bar.classList.remove("wrapContainers");this.bar.clientHeight>this.bar.firstElementChild.clientHeight&&this.bar.classList.add("wrapContainers")}},(e,t,i)=>{"use strict";i(96);Object.defineProperty(t,"__esModule",{value:!0});t.PDFFindController=t.FindState=void 0;i(138);i(148);i(150);i(153);i(155);i(157);i(159);i(1);i(87);i(123);i(163);i(135);i(193);var n=i(106),r=i(194),s=i(176);function _classPrivateMethodInitSpec(e,t){_checkPrivateRedeclaration(e,t);t.add(e)}function _classPrivateFieldInitSpec(e,t,i){_checkPrivateRedeclaration(e,t);t.set(e,i)}function _checkPrivateRedeclaration(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldGet(e,t){return function _classApplyDescriptorGet(e,t){if(t.get)return t.get.call(e);return t.value}(e,_classExtractFieldDescriptor(e,t,"get"))}function _classPrivateMethodGet(e,t,i){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return i}function _classPrivateFieldSet(e,t,i){!function _classApplyDescriptorSet(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=i}}(e,_classExtractFieldDescriptor(e,t,"set"),i);return i}function _classExtractFieldDescriptor(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}const a={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};t.FindState=a;const o={"â":"-","â":"'","â":"'","â":"'","â":"'","â":'"',"â":'"',"â":'"',"â":'"',"Â¼":"1/4","Â½":"1/2","Â¾":"3/4"},l=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]);let c;const d=/\p{M}+/gu,h=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,u=/([^\p{M}])\p{M}*$/u,p=/^\p{M}*([^\p{M}])/u,f=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,g=new Map,v="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]",_=new Map;let w=null,m=null;function normalize(e){const t=[];let i,n;for(;null!==(i=f.exec(e));){let{index:e}=i;for(const n of i[0]){let i=g.get(n);if(!i){i=n.normalize("NFD").length;g.set(n,i)}t.push([i,e++])}}if(0===t.length&&w)n=w;else if(t.length>0&&m)n=m;else{const e=Object.keys(o).join(""),i=(0,r.getNormalizeWithNFKC)(),s="(?:\\p{Ideographic}|[ã-ã¿])",a="(?:ã|ã)",l="([".concat(e,"])|([").concat(i,"])|(").concat(a,"\\n)|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(").concat(s,"\\n)|(\\n)");n=0===t.length?w=new RegExp(l+"|(\\u0000)","gum"):m=new RegExp(l+"|(".concat(v,")"),"gum")}const s=[];for(;null!==(i=d.exec(e));)s.push([i[0].length,i.index]);let a=e.normalize("NFD");const l=[[0,0]];let c=0,h=0,u=0,p=0,P=0,b=!1;a=a.replace(n,((e,i,n,r,a,d,f,g,v,w)=>{var m;w-=p;if(i){const e=o[i],t=e.length;for(let e=1;e<t;e++)l.push([w-u+e,u-e]);u-=t-1;return e}if(n){let e=_.get(n);if(!e){e=n.normalize("NFKC");_.set(n,e)}const t=e.length;for(let e=1;e<t;e++)l.push([w-u+e,u-e]);u-=t-1;return e}if(r){var S;b=!0;if(w+P===(null===(S=s[c])||void 0===S?void 0:S[1]))++c;else{l.push([w-1-u+1,u-1]);u-=1;p+=1}l.push([w-u+1,u]);p+=1;P+=1;return r.charAt(0)}if(a){var y;const e=a.endsWith("\n"),t=e?a.length-2:a.length;b=!0;let i=t;if(w+P===(null===(y=s[c])||void 0===y?void 0:y[1])){i-=s[c][0];++c}for(let e=1;e<=i;e++)l.push([w-1-u+e,u-e]);u-=i;p+=i;if(e){w+=t-1;l.push([w-u+1,1+u]);u+=1;p+=1;P+=1;return a.slice(0,t)}return a}if(d){const e=d.length-2;l.push([w-u+e,1+u]);u+=1;p+=1;P+=1;return d.slice(0,-2)}if(f){const e=f.length-1;l.push([w-u+e,u]);p+=1;P+=1;return f.slice(0,-1)}if(g){l.push([w-u+1,u-1]);u-=1;p+=1;P+=1;return" "}if(w+P===(null===(m=t[h])||void 0===m?void 0:m[1])){const e=t[h][0]-1;++h;for(let t=1;t<=e;t++)l.push([w-(u-t),u-t]);u-=e;p+=e}return v}));l.push([a.length,u]);return[a,l,b]}function getOriginalIndex(e,t,i){if(!e)return[t,i];const r=t,s=t+i-1;let a=(0,n.binarySearchFirstItem)(e,(e=>e[0]>=r));e[a][0]>r&&--a;let o=(0,n.binarySearchFirstItem)(e,(e=>e[0]>=s),a);e[o][0]>s&&--o;const l=r+e[a][1];return[l,s+e[o][1]+1-l]}var P=new WeakMap,b=new WeakMap,S=new WeakMap,y=new WeakSet,E=new WeakSet,M=new WeakMap,I=new WeakSet,T=new WeakSet,C=new WeakSet,L=new WeakSet,k=new WeakSet,x=new WeakSet,D=new WeakSet,A=new WeakSet,V=new WeakSet,O=new WeakSet,N=new WeakSet,R=new WeakSet,B=new WeakSet,G=new WeakSet,W=new WeakSet,U=new WeakSet,H=new WeakSet;t.PDFFindController=class PDFFindController{constructor(e){let{linkService:t,eventBus:i,updateMatchesCountOnProgress:n=!0}=e;_classPrivateMethodInitSpec(this,H);_classPrivateMethodInitSpec(this,U);_classPrivateMethodInitSpec(this,W);_classPrivateMethodInitSpec(this,G);_classPrivateMethodInitSpec(this,B);_classPrivateMethodInitSpec(this,R);_classPrivateMethodInitSpec(this,N);_classPrivateMethodInitSpec(this,O);_classPrivateMethodInitSpec(this,V);_classPrivateMethodInitSpec(this,A);_classPrivateMethodInitSpec(this,D);_classPrivateMethodInitSpec(this,x);_classPrivateMethodInitSpec(this,k);_classPrivateMethodInitSpec(this,L);_classPrivateMethodInitSpec(this,C);_classPrivateMethodInitSpec(this,T);_classPrivateMethodInitSpec(this,I);_classPrivateFieldInitSpec(this,M,{get:_get_query,set:void 0});_classPrivateMethodInitSpec(this,E);_classPrivateMethodInitSpec(this,y);_classPrivateFieldInitSpec(this,P,{writable:!0,value:null});_classPrivateFieldInitSpec(this,b,{writable:!0,value:!0});_classPrivateFieldInitSpec(this,S,{writable:!0,value:0});this._linkService=t;this._eventBus=i;_classPrivateFieldSet(this,b,n);this.onIsPageVisible=null;_classPrivateMethodGet(this,E,_reset2).call(this);i._on("find",_classPrivateMethodGet(this,y,_onFind2).bind(this));i._on("findbarclose",_classPrivateMethodGet(this,G,_onFindBarClose2).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return _classPrivateFieldGet(this,P)}setDocument(e){this._pdfDocument&&_classPrivateMethodGet(this,E,_reset2).call(this);if(e){this._pdfDocument=e;this._firstPageCapability.resolve()}}scrollMatchIntoView(e){let{element:t=null,selectedLeft:i=0,pageIndex:r=-1,matchIndex:s=-1}=e;if(!this._scrollMatches||!t)return;if(-1===s||s!==this._selected.matchIdx)return;if(-1===r||r!==this._selected.pageIdx)return;this._scrollMatches=!1;const a={top:-50,left:i+-400};(0,n.scrollIntoView)(t,a,!0)}};function _onFind2(e){if(!e)return;if(!1===e.phraseSearch){console.error("The `phraseSearch`-parameter was removed, please provide an Array of strings in the `query`-parameter instead.");"string"==typeof e.query&&(e.query=e.query.match(/\S+/g))}const t=this._pdfDocument,{type:i}=e;(null===_classPrivateFieldGet(this,P)||_classPrivateMethodGet(this,I,_shouldDirtyMatch2).call(this,e))&&(this._dirtyMatch=!0);_classPrivateFieldSet(this,P,e);"highlightallchange"!==i&&_classPrivateMethodGet(this,H,_updateUIState2).call(this,a.PENDING);this._firstPageCapability.promise.then((()=>{if(!this._pdfDocument||t&&this._pdfDocument!==t)return;_classPrivateMethodGet(this,x,_extractText2).call(this);const e=!this._highlightMatches,n=!!this._findTimeout;if(this._findTimeout){activeWindow.clearTimeout(this._findTimeout);this._findTimeout=null}if(i)if(this._dirtyMatch)_classPrivateMethodGet(this,V,_nextMatch2).call(this);else if("again"===i){_classPrivateMethodGet(this,V,_nextMatch2).call(this);e&&_classPrivateFieldGet(this,P).highlightAll&&_classPrivateMethodGet(this,A,_updateAllPages2).call(this)}else if("highlightallchange"===i){n?_classPrivateMethodGet(this,V,_nextMatch2).call(this):this._highlightMatches=!0;_classPrivateMethodGet(this,A,_updateAllPages2).call(this)}else _classPrivateMethodGet(this,V,_nextMatch2).call(this);else this._findTimeout=activeWindow.setTimeout((()=>{this._firstSearch=!0;_classPrivateMethodGet(this,V,_nextMatch2).call(this);this._findTimeout=null}),250)}))}function _reset2(){this._highlightMatches=!1;this._scrollMatches=!1;this._pdfDocument=null;this._pageMatches=[];this._pageMatchesLength=[];_classPrivateFieldSet(this,S,0);_classPrivateFieldSet(this,P,null);this._selected={pageIdx:-1,matchIdx:-1};this._offset={pageIdx:null,matchIdx:null,wrapped:!1};this._extractTextPromises=[];this._pageContents=[];this._pageDiffs=[];this._hasDiacritics=[];this._matchesCountTotal=0;this._pagesToSearch=null;this._pendingFindMatches=new Set;this._resumePageIdx=null;this._dirtyMatch=!1;activeWindow.clearTimeout(this._findTimeout);this._findTimeout=null;this._firstPageCapability=new s.PromiseCapability}function _get_query(){const{query:e}=_classPrivateFieldGet(this,P)||{};if("string"==typeof e){if(e!==this._rawQuery){this._rawQuery=e;[this._normalizedQuery]=normalize(e)}return this._normalizedQuery}return(e||[]).filter((e=>!!e)).map((e=>normalize(e)[0]))}function _shouldDirtyMatch2(e){var t,i;const n=e.query,r=_classPrivateFieldGet(this,P).query,s=typeof n;if(s!==typeof r)return!0;if("string"===s){if(n!==r)return!0}else if(JSON.stringify(n)!==JSON.stringify(r))return!0;switch(e.type){case"again":const e=this._selected.pageIdx+1,n=this._linkService;return e>=1&&e<=n.pagesCount&&e!==n.page&&!(null===(t=null===(i=this.onIsPageVisible)||void 0===i?void 0:i.call(this,e))||void 0===t||t);case"highlightallchange":return!1}return!0}function _isEntireWord2(e,t,i){let n=e.slice(0,t).match(u);if(n){const i=e.charCodeAt(t),s=n[1].charCodeAt(0);if((0,r.getCharacterType)(i)===(0,r.getCharacterType)(s))return!1}n=e.slice(t+i).match(p);if(n){const s=e.charCodeAt(t+i-1),a=n[1].charCodeAt(0);if((0,r.getCharacterType)(s)===(0,r.getCharacterType)(a))return!1}return!0}function _calculateRegExpMatch2(e,t,i,n){const r=this._pageMatches[i]=[],s=this._pageMatchesLength[i]=[];if(!e)return;const a=this._pageDiffs[i];let o;for(;null!==(o=e.exec(n));){if(t&&!_classPrivateMethodGet(this,T,_isEntireWord2).call(this,n,o.index,o[0].length))continue;const[e,i]=getOriginalIndex(a,o.index,o[0].length);if(i){r.push(e);s.push(i)}}}function _convertToRegExpString2(e,t){const{matchDiacritics:i}=_classPrivateFieldGet(this,P);let n=!1;const r="[ ]*";(e=e.replaceAll(h,((e,r,s,a,o,c)=>{if(r)return"[ ]*\\".concat(r,"[ ]*");if(s)return"[ ]*".concat(s,"[ ]*");if(a)return"[ ]+";if(i)return o||c;if(o)return l.has(o.charCodeAt(0))?o:"";if(t){n=!0;return"".concat(c,"\\p{M}*")}return c}))).endsWith(r)&&(e=e.slice(0,e.length-4));if(i&&t){c||(c=String.fromCharCode(...l));n=!0;e="".concat(e,"(?=[").concat(c,"]|[^\\p{M}]|$)")}return[n,e]}function _calculateMatch2(e){var t;let i=_classPrivateFieldGet(this,M);if(0===i.length)return;const{caseSensitive:n,entireWord:r}=_classPrivateFieldGet(this,P),s=this._pageContents[e],a=this._hasDiacritics[e];let o=!1;"string"==typeof i?[o,i]=_classPrivateMethodGet(this,L,_convertToRegExpString2).call(this,i,a):i=i.sort().reverse().map((e=>{const[t,i]=_classPrivateMethodGet(this,L,_convertToRegExpString2).call(this,e,a);o||(o=t);return"(".concat(i,")")})).join("|");const l="g".concat(o?"u":"").concat(n?"":"i");i=i?new RegExp(i,l):null;_classPrivateMethodGet(this,C,_calculateRegExpMatch2).call(this,i,r,e,s);_classPrivateFieldGet(this,P).highlightAll&&_classPrivateMethodGet(this,D,_updatePage2).call(this,e);if(this._resumePageIdx===e){this._resumePageIdx=null;_classPrivateMethodGet(this,N,_nextPageMatch2).call(this)}const c=this._pageMatches[e].length;this._matchesCountTotal+=c;_classPrivateFieldGet(this,b)?c>0&&_classPrivateMethodGet(this,U,_updateUIResultsCount2).call(this):_classPrivateFieldSet(this,S,(t=_classPrivateFieldGet(this,S),++t))===this._linkService.pagesCount&&_classPrivateMethodGet(this,U,_updateUIResultsCount2).call(this)}function _extractText2(){if(this._extractTextPromises.length>0)return;let e=Promise.resolve();const t={disableNormalization:!0};for(let i=0,n=this._linkService.pagesCount;i<n&&this._pdfDocument;i++){const n=new s.PromiseCapability;this._extractTextPromises[i]=n.promise;e=e.then((()=>{var e;return null===(e=this._pdfDocument)||void 0===e?void 0:e.getPage(i+1).then((e=>e.getTextContent(t))).then((e=>{const t=[];for(const i of e.items){t.push(i.str);i.hasEOL&&t.push("\n")}[this._pageContents[i],this._pageDiffs[i],this._hasDiacritics[i]]=normalize(t.join(""));n.resolve()}),(e=>{console.error("Unable to get text content for page ".concat(i+1),e);this._pageContents[i]="";this._pageDiffs[i]=null;this._hasDiacritics[i]=!1;n.resolve()}))}))}}function _updatePage2(e){this._scrollMatches&&this._selected.pageIdx===e&&(this._linkService.page=e+1);this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:e})}function _updateAllPages2(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}function _nextMatch2(){const e=_classPrivateFieldGet(this,P).findPrevious,t=this._linkService.page-1,i=this._linkService.pagesCount;this._highlightMatches=!0;if(this._dirtyMatch){this._dirtyMatch=!1;this._selected.pageIdx=this._selected.matchIdx=-1;if(this._firstSearch){this._firstSearch=!1;this._offset.pageIdx=0}else this._offset.pageIdx=t;this._offset.matchIdx=null;this._offset.wrapped=!1;this._resumePageIdx=null;this._pageMatches.length=0;this._pageMatchesLength.length=0;_classPrivateFieldSet(this,S,0);this._matchesCountTotal=0;_classPrivateMethodGet(this,A,_updateAllPages2).call(this);for(let e=0;e<i;e++)if(!this._pendingFindMatches.has(e)){this._pendingFindMatches.add(e);this._extractTextPromises[e].then((()=>{this._pendingFindMatches.delete(e);_classPrivateMethodGet(this,k,_calculateMatch2).call(this,e)}))}}if(0===_classPrivateFieldGet(this,M).length){_classPrivateMethodGet(this,H,_updateUIState2).call(this,a.FOUND);return}if(this._resumePageIdx)return;const n=this._offset;this._pagesToSearch=i;if(null!==n.matchIdx){const t=this._pageMatches[n.pageIdx].length;if(!e&&n.matchIdx+1<t||e&&n.matchIdx>0){n.matchIdx=e?n.matchIdx-1:n.matchIdx+1;_classPrivateMethodGet(this,B,_updateMatch2).call(this,!0);return}_classPrivateMethodGet(this,R,_advanceOffsetPage2).call(this,e)}_classPrivateMethodGet(this,N,_nextPageMatch2).call(this)}function _matchesReady2(e){const t=this._offset,i=e.length,n=_classPrivateFieldGet(this,P).findPrevious;if(i){t.matchIdx=n?i-1:0;_classPrivateMethodGet(this,B,_updateMatch2).call(this,!0);return!0}_classPrivateMethodGet(this,R,_advanceOffsetPage2).call(this,n);if(t.wrapped){t.matchIdx=null;if(this._pagesToSearch<0){_classPrivateMethodGet(this,B,_updateMatch2).call(this,!1);return!0}}return!1}function _nextPageMatch2(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let e=null;do{const t=this._offset.pageIdx;e=this._pageMatches[t];if(!e){this._resumePageIdx=t;break}}while(!_classPrivateMethodGet(this,O,_matchesReady2).call(this,e))}function _advanceOffsetPage2(e){const t=this._offset,i=this._linkService.pagesCount;t.pageIdx=e?t.pageIdx-1:t.pageIdx+1;t.matchIdx=null;this._pagesToSearch--;if(t.pageIdx>=i||t.pageIdx<0){t.pageIdx=e?i-1:0;t.wrapped=!0}}function _updateMatch2(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=a.NOT_FOUND;const i=this._offset.wrapped;this._offset.wrapped=!1;if(e){const e=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx;this._selected.matchIdx=this._offset.matchIdx;t=i?a.WRAPPED:a.FOUND;-1!==e&&e!==this._selected.pageIdx&&_classPrivateMethodGet(this,D,_updatePage2).call(this,e)}_classPrivateMethodGet(this,H,_updateUIState2).call(this,t,_classPrivateFieldGet(this,P).findPrevious);if(-1!==this._selected.pageIdx){this._scrollMatches=!0;_classPrivateMethodGet(this,D,_updatePage2).call(this,this._selected.pageIdx)}}function _onFindBarClose2(e){const t=this._pdfDocument;this._firstPageCapability.promise.then((()=>{if(this._pdfDocument&&(!t||this._pdfDocument===t)){if(this._findTimeout){activeWindow.clearTimeout(this._findTimeout);this._findTimeout=null}if(this._resumePageIdx){this._resumePageIdx=null;this._dirtyMatch=!0}_classPrivateMethodGet(this,H,_updateUIState2).call(this,a.FOUND);this._highlightMatches=!1;_classPrivateMethodGet(this,A,_updateAllPages2).call(this)}}))}function _requestMatchesCount2(){const{pageIdx:e,matchIdx:t}=this._selected;let i=0,n=this._matchesCountTotal;if(-1!==t){for(let t=0;t<e;t++){var r;i+=(null===(r=this._pageMatches[t])||void 0===r?void 0:r.length)||0}i+=t+1}(i<1||i>n)&&(i=n=0);return{current:i,total:n}}function _updateUIResultsCount2(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:_classPrivateMethodGet(this,W,_requestMatchesCount2).call(this)})}function _updateUIState2(e){var t,i;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(_classPrivateFieldGet(this,b)||_classPrivateFieldGet(this,S)===this._linkService.pagesCount&&e!==a.PENDING)&&this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:e,previous:n,matchesCount:_classPrivateMethodGet(this,W,_requestMatchesCount2).call(this),rawQuery:null!==(t=null===(i=_classPrivateFieldGet(this,P))||void 0===i?void 0:i.query)&&void 0!==t?t:null})}},(e,t,i)=>{"use strict";var n=i(66),r=i(12),s=i(89),a=r([].reverse),o=[1,2];n({target:"Array",proto:!0,forced:String(o)===String(o.reverse())},{reverse:function reverse(){s(this)&&(this.length=this.length);return a(this)}})},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CharacterType=void 0;t.getCharacterType=function getCharacterType(e){if(function isAlphabeticalScript(e){return e<11904}(e))return function isAscii(e){return 0==(65408&e)}(e)?function isAsciiSpace(e){return 32===e||9===e||13===e||10===e}(e)?i.SPACE:function isAsciiAlpha(e){return e>=97&&e<=122||e>=65&&e<=90}(e)||function isAsciiDigit(e){return e>=48&&e<=57}(e)||95===e?i.ALPHA_LETTER:i.PUNCT:function isThai(e){return 3584==(65408&e)}(e)?i.THAI_LETTER:160===e?i.SPACE:i.ALPHA_LETTER;if(function isHan(e){return e>=13312&&e<=40959||e>=63744&&e<=64255}(e))return i.HAN_LETTER;if(function isKatakana(e){return e>=12448&&e<=12543}(e))return i.KATAKANA_LETTER;if(function isHiragana(e){return e>=12352&&e<=12447}(e))return i.HIRAGANA_LETTER;if(function isHalfwidthKatakana(e){return e>=65376&&e<=65439}(e))return i.HALFWIDTH_KATAKANA_LETTER;return i.ALPHA_LETTER};t.getNormalizeWithNFKC=function getNormalizeWithNFKC(){n||(n="Â Â¨ÂªÂ¯Â²-ÂµÂ¸-ÂºÂ¼-Â¾Ä²-Ä³Ä¿-ÅÅÅ¿Ç-ÇÇ±-Ç³Ê°-Ê¸Ë-ËË -Ë¤Í´ÍºÍ¾Î-ÎÎÏ-ÏÏ°-Ï²Ï´-ÏµÏ¹ÖÙµ-Ù¸à¥-à¥à§-à§à§à¨³à¨¶à©-à©à©à­-à­à¸³àº³à»-à»à¼à½à½à½à½à½à½©á¼á´¬-á´®á´°-á´ºá´¼-áµáµ-áµªáµ¸á¶-á¶¿áº-áºá½±á½³á½µá½·á½¹á½»á½½á¾»á¾½-á¿á¿á¿á¿-á¿á¿á¿á¿-á¿á¿£á¿«á¿­-á¿¯á¿¹á¿»á¿½-á¿¾â-ââââ¤-â¦â¯â³-â´â¶-â·â¼â¾â-ââââ°-â±â´-ââ-ââ¨â-ââ-ââ-ââ-ââ-ââ -â¢â¤â¦â¨âª-â­â¯-â±â³-â¹â»-ââ-ââ-â¿ââ¬-â­â¯-â°â©-âªâ -âªâ¨â©´-â©¶â«â±¼-â±½âµ¯âºâ»³â¼-â¿ãã¶ã¸-ãºã-ããã¿ã±-ãã-ãã-ãã -ãã-ã¾ã-ã¿ê-êê°ê²-ê´ê¸-ê¹ê­-ê­ê­©ï¤-ï¨ï¨ï¨ï¨-ï¨ï¨ ï¨¢ï¨¥-ï¨¦ï¨ª-ï©­ï©°-ï«ï¬-ï¬ï¬-ï¬ï¬ï¬-ï¬¶ï¬¸-ï¬¼ï¬¾ï­-ï­ï­-ï­ï­-ï®±ï¯-ï´½ïµ-ï¶ï¶-ï·ï·°-ï·¼ï¸-ï¸ï¸°-ï¹ï¹-ï¹ï¹-ï¹¦ï¹¨-ï¹«ï¹°-ï¹²ï¹´ï¹¶-ï»¼ï¼-ï¾¾ï¿-ï¿ï¿-ï¿ï¿-ï¿ï¿-ï¿ï¿ -ï¿¦");return n};const i={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};t.CharacterType=i;let n},(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PDFHistory=void 0;t.isDestArraysEqual=isDestArraysEqual;t.isDestHashesEqual=isDestHashesEqual;i(163);i(1);var n=i(106),r=i(178);function getCurrentHash(){return document.location.hash}t.PDFHistory=class PDFHistory{constructor(e){let{linkService:t,eventBus:i}=e;this.linkService=t;this.eventBus=i;this._initialized=!1;this._fingerprint="";this.reset();this._boundEvents=null;this.eventBus._on("pagesinit",(()=>{this._isPagesLoaded=!1;this.eventBus._on("pagesloaded",(e=>{this._isPagesLoaded=!!e.pagesCount}),{once:!0})}))}initialize(e){let{fingerprint:t,resetHistory:i=!1,updateUrl:n=!1}=e;if(!t||"string"!=typeof t){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();const r=""!==this._fingerprint&&this._fingerprint!==t;this._fingerprint=t;this._updateUrl=!0===n;this._initialized=!0;this._bindEvents();const s=window.history.state;this._popStateInProgress=!1;this._blockHashChange=0;this._currentHash=getCurrentHash();this._numPositionUpdates=0;this._uid=this._maxUid=0;this._destination=null;this._position=null;if(!this._isValidState(s,!0)||i){const{hash:e,page:t,rotation:n}=this._parseCurrentHash(!0);if(!e||r||i){this._pushOrReplaceState(null,!0);return}this._pushOrReplaceState({hash:e,page:t,rotation:n},!0);return}const a=s.destination;this._updateInternalState(a,s.uid,!0);void 0!==a.rotation&&(this._initialRotation=a.rotation);if(a.dest){this._initialBookmark=JSON.stringify(a.dest);this._destination.page=null}else a.hash?this._initialBookmark=a.hash:a.page&&(this._initialBookmark="page=".concat(a.page))}reset(){if(this._initialized){this._pageHide();this._initialized=!1;this._unbindEvents()}if(this._updateViewareaTimeout){activeWindow.clearTimeout(this._updateViewareaTimeout);this._updateViewareaTimeout=null}this._initialBookmark=null;this._initialRotation=null}push(e){let{namedDest:t=null,explicitDest:i,pageNumber:n}=e;if(!this._initialized)return;if(t&&"string"!=typeof t){console.error("PDFHistory.push: "+'"'.concat(t,'" is not a valid namedDest parameter.'));return}if(!Array.isArray(i)){console.error("PDFHistory.push: "+'"'.concat(i,'" is not a valid explicitDest parameter.'));return}if(!this._isValidPage(n)&&(null!==n||this._destination)){console.error("PDFHistory.push: "+'"'.concat(n,'" is not a valid pageNumber parameter.'));return}const r=t||JSON.stringify(i);if(!r)return;let s=!1;if(this._destination&&(isDestHashesEqual(this._destination.hash,r)||isDestArraysEqual(this._destination.dest,i))){if(this._destination.page)return;s=!0}if(!this._popStateInProgress||s){this._pushOrReplaceState({dest:i,hash:r,page:n,rotation:this.linkService.rotation},s);if(!this._popStateInProgress){this._popStateInProgress=!0;Promise.resolve().then((()=>{this._popStateInProgress=!1}))}}}pushPage(e){var t;if(this._initialized)if(this._isValidPage(e)){if((null===(t=this._destination)||void 0===t?void 0:t.page)!==e&&!this._popStateInProgress){this._pushOrReplaceState({dest:null,hash:"page=".concat(e),page:e,rotation:this.linkService.rotation});if(!this._popStateInProgress){this._popStateInProgress=!0;Promise.resolve().then((()=>{this._popStateInProgress=!1}))}}}else console.error('PDFHistory.pushPage: "'.concat(e,'" is not a valid page number.'))}pushCurrentPosition(){this._initialized&&!this._popStateInProgress&&this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;this._isValidState(e)&&e.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;this._isValidState(e)&&e.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(e){const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this._destination,i={fingerprint:this._fingerprint,uid:t?this._uid:this._uid+1,destination:e};this._updateInternalState(e,i.uid);let n;if(this._updateUrl&&null!=e&&e.hash){const t=document.location.href.split("#")[0];t.startsWith("file://")||(n="".concat(t,"#").concat(e.hash))}t?window.history.replaceState(i,"",n):window.history.pushState(i,"",n)}_tryPushCurrentPosition(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this._position)return;let t=this._position;if(e){t=Object.assign(Object.create(null),this._position);t.temporary=!0}if(!this._destination){this._pushOrReplaceState(t);return}if(this._destination.temporary){this._pushOrReplaceState(t,!0);return}if(this._destination.hash===t.hash)return;if(!this._destination.page&&this._numPositionUpdates<=50)return;let i=!1;if(this._destination.page>=t.first&&this._destination.page<=t.page){if(void 0!==this._destination.dest||!this._destination.first)return;i=!0}this._pushOrReplaceState(t,i)}_isValidPage(e){return Number.isInteger(e)&&e>0&&e<=this.linkService.pagesCount}_isValidState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return!1;if(e.fingerprint!==this._fingerprint){if(!t)return!1;{if("string"!=typeof e.fingerprint||e.fingerprint.length!==this._fingerprint.length)return!1;const[t]=performance.getEntriesByType("navigation");if("reload"!==(null==t?void 0:t.type))return!1}}return!(!Number.isInteger(e.uid)||e.uid<0)&&(null!==e.destination&&"object"==typeof e.destination)}_updateInternalState(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this._updateViewareaTimeout){activeWindow.clearTimeout(this._updateViewareaTimeout);this._updateViewareaTimeout=null}i&&null!=e&&e.temporary&&delete e.temporary;this._destination=e;this._uid=t;this._maxUid=Math.max(this._maxUid,t);this._numPositionUpdates=0}_parseCurrentHash(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=unescape(getCurrentHash()).substring(1),i=(0,n.parseQueryString)(t),r=i.get("nameddest")||"";let s=0|i.get("page");(!this._isValidPage(s)||e&&r.length>0)&&(s=null);return{hash:t,page:s,rotation:this.linkService.rotation}}_updateViewarea(e){let{location:t}=e;if(this._updateViewareaTimeout){activeWindow.clearTimeout(this._updateViewareaTimeout);this._updateViewareaTimeout=null}this._position={hash:t.pdfOpenParams.substring(1),page:this.linkService.page,first:t.pageNumber,rotation:t.rotation};if(!this._popStateInProgress){this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++;this._updateViewareaTimeout=activeWindow.setTimeout((()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0);this._updateViewareaTimeout=null}),1e3)}}_popState(e){let{state:t}=e;const i=getCurrentHash(),s=this._currentHash!==i;this._currentHash=i;if(!t){this._uid++;const{hash:e,page:t,rotation:i}=this._parseCurrentHash();this._pushOrReplaceState({hash:e,page:t,rotation:i},!0);return}if(!this._isValidState(t))return;this._popStateInProgress=!0;if(s){this._blockHashChange++;(0,r.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then((()=>{this._blockHashChange--}))}const a=t.destination;this._updateInternalState(a,t.uid,!0);(0,n.isValidRotation)(a.rotation)&&(this.linkService.rotation=a.rotation);a.dest?this.linkService.goToDestination(a.dest):a.hash?this.linkService.setHash(a.hash):a.page&&(this.linkService.page=a.page);Promise.resolve().then((()=>{this._popStateInProgress=!1}))}_pageHide(){this._destination&&!this._destination.temporary||this._tryPushCurrentPosition()}_bindEvents(){if(!this._boundEvents){this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)};this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea);window.addEventListener("popstate",this._boundEvents.popState);window.addEventListener("pagehide",this._boundEvents.pageHide)}}_unbindEvents(){if(this._boundEvents){this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea);window.removeEventListener("popstate",this._boundEvents.popState);window.removeEventListener("pagehide",this._boundEvents.pageHide);this._boundEvents=null}}};function isDestHashesEqual(e,t){if("string"!=typeof e||"string"!=typeof t)return!1;if(e===t)return!0;return(0,n.parseQueryString)(e).get("nameddest")===t}function isDestArraysEqual(e,t){function isEntryEqual(e,t){if(typeof e!=typeof t)return!1;if(Array.isArray(e)||Array.isArray(t))return!1;if(null!==e&&"object"==typeof e&&null!==t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(!isEntryEqual(e[i],t[i]))return!1;return!0}return e===t||Number.isNaN(e)&&Number.isNaN(t)}if(!Array.isArray(e)||!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(let i=0,n=e.length;i<n;i++)if(!isEntryEqual(e[i],t[i]))return!1;return!0}},(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PDFLayerViewer=void 0;i(1);i(87);i(96);var n=i(187);function _classPrivateMethodInitSpec(e,t){!function _checkPrivateRedeclaration(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t);t.add(e)}function _classPrivateMethodGet(e,t,i){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return i}var r=new WeakSet;class PDFLayerViewer extends n.BaseTreeViewer{constructor(e){super(e);_classPrivateMethodInitSpec(this,r);this.l10n=e.l10n;this.eventBus._on("optionalcontentconfigchanged",(e=>{_classPrivateMethodGet(this,r,_updateLayers2).call(this,e.promise)}));this.eventBus._on("resetlayers",(()=>{_classPrivateMethodGet(this,r,_updateLayers2).call(this)}));this.eventBus._on("togglelayerstree",this._toggleAllTreeItems.bind(this))}reset(){super.reset();this._optionalContentConfig=null;this._optionalContentHash=null}_dispatchEvent(e){this.eventBus.dispatch("layersloaded",{source:this,layersCount:e})}_bindLink(e,t){let{groupId:i,input:n}=t;const setVisibility=()=>{this._optionalContentConfig.setVisibility(i,n.checked);this._optionalContentHash=this._optionalContentConfig.getHash();this.eventBus.dispatch("optionalcontentconfig",{source:this,promise:Promise.resolve(this._optionalContentConfig)})};e.onclick=t=>{if(t.target===n){setVisibility();return!0}if(t.target!==e)return!0;n.checked=!n.checked;setVisibility();return!1}}async _setNestedName(e,t){let{name:i=null}=t;if("string"!=typeof i){e.textContent=await this.l10n.get("additional_layers");e.style.fontStyle="italic"}else e.textContent=this._normalizeTextContent(i)}_addToggleButton(e,t){let{name:i=null}=t;super._addToggleButton(e,null===i)}_toggleAllTreeItems(){this._optionalContentConfig&&super._toggleAllTreeItems()}renderTree(e){let{optionalContentConfig:t,pdfDocument:i}=e;this._optionalContentConfig&&this.reset();this._optionalContentConfig=t||null;this._pdfDocument=i||null;const n=null==t?void 0:t.getOrder();if(!n){this._dispatchEvent(0);return}this._optionalContentHash=t.getHash();const r=document.createDocumentFragment(),s=[{parent:r,groups:n}];let a=0,o=!1;for(;s.length>0;){const e=s.shift();for(const i of e.groups){const n=document.createElement("div");n.className="treeItem";const r=document.createElement("a");n.append(r);if("object"==typeof i){o=!0;this._addToggleButton(n,i);this._setNestedName(r,i);const e=document.createElement("div");e.className="treeItems";n.append(e);s.push({parent:e,groups:i.order})}else{const e=t.getGroup(i),n=document.createElement("input");this._bindLink(r,{groupId:i,input:n});n.type="checkbox";n.checked=e.visible;const s=document.createElement("label");s.textContent=this._normalizeTextContent(e.name);s.append(n);r.append(s);a++}e.parent.append(n)}}this._finishRendering(r,a,o)}}t.PDFLayerViewer=PDFLayerViewer;async function _updateLayers2(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!this._optionalContentConfig)return;const t=this._pdfDocument,i=await(e||t.getOptionalContentConfig());if(t===this._pdfDocument){if(e){if(i.getHash()===this._optionalContentHash)return}else this.eventBus.dispatch("optionalcontentconfig",{source:this,promise:Promise.resolve(i)});this.renderTree({optionalContentConfig:i,pdfDocument:this._pdfDocument})}}},(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PDFOutlineViewer=void 0;i(1);i(87);i(96);var n=i(187),r=i(176),s=i(106);class PDFOutlineViewer extends n.BaseTreeViewer{constructor(e){super(e);this.linkService=e.linkService;this.downloadManager=e.downloadManager;this.eventBus._on("toggleoutlinetree",this._toggleAllTreeItems.bind(this));this.eventBus._on("currentoutlineitem",this._currentOutlineItem.bind(this));this.eventBus._on("pagechanging",(e=>{this._currentPageNumber=e.pageNumber}));this.eventBus._on("pagesloaded",(e=>{this._isPagesLoaded=!!e.pagesCount;this._currentOutlineItemCapability&&!this._currentOutlineItemCapability.settled&&this._currentOutlineItemCapability.resolve(this._isPagesLoaded)}));this.eventBus._on("sidebarviewchanged",(e=>{this._sidebarView=e.view}))}setPageNumber(e){this._currentPageNumber=e}reset(){super.reset();this._outline=null;this._pageNumberToDestHashCapability=null;this._currentPageNumber=1;this._isPagesLoaded=null;this._currentOutlineItemCapability&&!this._currentOutlineItemCapability.settled&&this._currentOutlineItemCapability.resolve(!1);this._currentOutlineItemCapability=null}_dispatchEvent(e){var t;this._currentOutlineItemCapability=new r.PromiseCapability;0===e||null!==(t=this._pdfDocument)&&void 0!==t&&t.loadingParams.disableAutoFetch?this._currentOutlineItemCapability.resolve(!1):null!==this._isPagesLoaded&&this._currentOutlineItemCapability.resolve(this._isPagesLoaded);this.eventBus.dispatch("outlineloaded",{source:this,outlineCount:e,currentOutlineItemPromise:this._currentOutlineItemCapability.promise})}_bindLink(e,t){let{url:i,newWindow:n,action:r,attachment:s,dest:a,setOCGState:o}=t;const{linkService:l}=this;if(i)l.addLinkAttributes(e,i,n);else if(r){e.href=l.getAnchorUrl("");e.onclick=()=>{l.executeNamedAction(r);return!1}}else if(s){e.href=l.getAnchorUrl("");e.onclick=()=>{this.downloadManager.openOrDownloadData(e,s.content,s.filename);return!1}}else if(o){e.href=l.getAnchorUrl("");e.onclick=()=>{l.executeSetOCGState(o);return!1}}else{e.href=l.getDestinationHash(a);e.onclick=e=>{this._updateCurrentTreeItem(e.target.parentNode);a&&l.goToDestination(a);return!1}}}_setStyles(e,t){let{bold:i,italic:n}=t;i&&(e.style.fontWeight="bold");n&&(e.style.fontStyle="italic")}_addToggleButton(e,t){let{count:i,items:n}=t,r=!1;if(i<0){let e=n.length;if(e>0){const t=[...n];for(;t.length>0;){const{count:i,items:n}=t.shift();if(i>0&&n.length>0){e+=n.length;t.push(...n)}}}Math.abs(i)===e&&(r=!0)}super._addToggleButton(e,r)}_toggleAllTreeItems(){this._outline&&super._toggleAllTreeItems()}renderTree(e){let{outline:t,pdfDocument:i}=e;this._outline&&this.reset();this._outline=t||null;this._pdfDocument=i||null;if(!t){this._dispatchEvent(0);return}const n=document.createDocumentFragment(),r=[{parent:n,items:t}];let s=0,a=!1;for(;r.length>0;){const e=r.shift();for(const t of e.items){const i=document.createElement("div");i.className="treeItem";const n=document.createElement("a");this._bindLink(n,t);this._setStyles(n,t);n.textContent=this._normalizeTextContent(t.title);i.append(n);if(t.items.length>0){a=!0;this._addToggleButton(i,t);const e=document.createElement("div");e.className="treeItems";i.append(e);r.push({parent:e,items:t.items})}e.parent.append(i);s++}}this._finishRendering(n,s,a)}async _currentOutlineItem(){if(!this._isPagesLoaded)throw new Error("_currentOutlineItem: All pages have not been loaded.");if(!this._outline||!this._pdfDocument)return;const e=await this._getPageNumberToDestHash(this._pdfDocument);if(e){this._updateCurrentTreeItem(null);if(this._sidebarView===s.SidebarView.OUTLINE)for(let t=this._currentPageNumber;t>0;t--){const i=e.get(t);if(!i)continue;const n=this.container.querySelector('a[href="'.concat(i,'"]'));if(n){this._scrollToCurrentTreeItem(n.parentNode);break}}}}async _getPageNumberToDestHash(e){if(this._pageNumberToDestHashCapability)return this._pageNumberToDestHashCapability.promise;this._pageNumberToDestHashCapability=new r.PromiseCapability;const t=new Map,i=new Map,n=[{nesting:0,items:this._outline}];for(;n.length>0;){const r=n.shift(),s=r.nesting;for(const{dest:a,items:o}of r.items){let r,l;if("string"==typeof a){r=await e.getDestination(a);if(e!==this._pdfDocument)return null}else r=a;if(Array.isArray(r)){const[n]=r;if("object"==typeof n&&null!==n){l=this.linkService._cachedPageNumber(n);if(!l)try{l=await e.getPageIndex(n)+1;if(e!==this._pdfDocument)return null;this.linkService.cachePageRef(l,n)}catch{}}else Number.isInteger(n)&&(l=n+1);if(Number.isInteger(l)&&(!t.has(l)||s>i.get(l))){const e=this.linkService.getDestinationHash(a);t.set(l,e);i.set(l,s)}}o.length>0&&n.push({nesting:s+1,items:o})}}this._pageNumberToDestHashCapability.resolve(t.size>0?t:null);return this._pageNumberToDestHashCapability.promise}}t.PDFOutlineViewer=PDFOutlineViewer},(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PDFPresentationMode=void 0;i(96);i(1);var n=i(106),r=i(176);function _classPrivateMethodInitSpec(e,t){_checkPrivateRedeclaration(e,t);t.add(e)}function _classPrivateFieldInitSpec(e,t,i){_checkPrivateRedeclaration(e,t);t.set(e,i)}function _checkPrivateRedeclaration(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldGet(e,t){return function _classApplyDescriptorGet(e,t){if(t.get)return t.get.call(e);return t.value}(e,_classExtractFieldDescriptor(e,t,"get"))}function _classPrivateFieldSet(e,t,i){!function _classApplyDescriptorSet(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=i}}(e,_classExtractFieldDescriptor(e,t,"set"),i);return i}function _classExtractFieldDescriptor(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}function _classPrivateMethodGet(e,t,i){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return i}const s=3e3,a="pdfPresentationMode",o="pdfPresentationModeControls",l=50,c=.1,d=50,h=Math.PI/6;var u=new WeakMap,p=new WeakMap,f=new WeakSet,g=new WeakSet,v=new WeakSet,_=new WeakSet,w=new WeakSet,m=new WeakSet,P=new WeakSet,b=new WeakSet,S=new WeakSet,y=new WeakSet,E=new WeakSet,M=new WeakSet,I=new WeakSet,T=new WeakSet,C=new WeakSet;t.PDFPresentationMode=class PDFPresentationMode{constructor(e){let{container:t,pdfViewer:i,eventBus:r}=e;_classPrivateMethodInitSpec(this,C);_classPrivateMethodInitSpec(this,T);_classPrivateMethodInitSpec(this,I);_classPrivateMethodInitSpec(this,M);_classPrivateMethodInitSpec(this,E);_classPrivateMethodInitSpec(this,y);_classPrivateMethodInitSpec(this,S);_classPrivateMethodInitSpec(this,b);_classPrivateMethodInitSpec(this,P);_classPrivateMethodInitSpec(this,m);_classPrivateMethodInitSpec(this,w);_classPrivateMethodInitSpec(this,_);_classPrivateMethodInitSpec(this,v);_classPrivateMethodInitSpec(this,g);_classPrivateMethodInitSpec(this,f);_classPrivateFieldInitSpec(this,u,{writable:!0,value:n.PresentationModeState.UNKNOWN});_classPrivateFieldInitSpec(this,p,{writable:!0,value:null});this.container=t;this.pdfViewer=i;this.eventBus=r;this.contextMenuOpen=!1;this.mouseScrollTimeStamp=0;this.mouseScrollDelta=0;this.touchSwipeState=null}async request(){const{container:e,pdfViewer:t}=this;if(this.active||!t.pagesCount||!e.requestFullscreen)return!1;_classPrivateMethodGet(this,T,_addFullscreenChangeListeners2).call(this);_classPrivateMethodGet(this,g,_notifyStateChange2).call(this,n.PresentationModeState.CHANGING);const i=e.requestFullscreen();_classPrivateFieldSet(this,p,{pageNumber:t.currentPageNumber,scaleValue:t.currentScaleValue,scrollMode:t.scrollMode,spreadMode:null,annotationEditorMode:null});if(!(t.spreadMode===n.SpreadMode.NONE||t.pageViewsReady&&t.hasEqualPageSizes)){console.warn("Ignoring Spread modes when entering PresentationMode, since the document may contain varying page sizes.");_classPrivateFieldGet(this,p).spreadMode=t.spreadMode}t.annotationEditorMode!==r.AnnotationEditorType.DISABLE&&(_classPrivateFieldGet(this,p).annotationEditorMode=t.annotationEditorMode);try{await i;t.focus();return!0}catch{_classPrivateMethodGet(this,C,_removeFullscreenChangeListeners2).call(this);_classPrivateMethodGet(this,g,_notifyStateChange2).call(this,n.PresentationModeState.NORMAL)}return!1}get active(){return _classPrivateFieldGet(this,u)===n.PresentationModeState.CHANGING||_classPrivateFieldGet(this,u)===n.PresentationModeState.FULLSCREEN}};function _mouseWheel2(e){if(!this.active)return;e.preventDefault();const t=(0,n.normalizeWheelEventDelta)(e),i=Date.now(),r=this.mouseScrollTimeStamp;if(!(i>r&&i-r<l)){(this.mouseScrollDelta>0&&t<0||this.mouseScrollDelta<0&&t>0)&&_classPrivateMethodGet(this,S,_resetMouseScrollState2).call(this);this.mouseScrollDelta+=t;if(Math.abs(this.mouseScrollDelta)>=c){const e=this.mouseScrollDelta;_classPrivateMethodGet(this,S,_resetMouseScrollState2).call(this);(e>0?this.pdfViewer.previousPage():this.pdfViewer.nextPage())&&(this.mouseScrollTimeStamp=i)}}}function _notifyStateChange2(e){_classPrivateFieldSet(this,u,e);this.eventBus.dispatch("presentationmodechanged",{source:this,state:e})}function _enter2(){_classPrivateMethodGet(this,g,_notifyStateChange2).call(this,n.PresentationModeState.FULLSCREEN);this.container.classList.add(a);activeWindow.setTimeout((()=>{this.pdfViewer.scrollMode=n.ScrollMode.PAGE;null!==_classPrivateFieldGet(this,p).spreadMode&&(this.pdfViewer.spreadMode=n.SpreadMode.NONE);this.pdfViewer.currentPageNumber=_classPrivateFieldGet(this,p).pageNumber;this.pdfViewer.currentScaleValue="page-fit";null!==_classPrivateFieldGet(this,p).annotationEditorMode&&(this.pdfViewer.annotationEditorMode={mode:r.AnnotationEditorType.NONE})}),0);_classPrivateMethodGet(this,E,_addWindowListeners2).call(this);_classPrivateMethodGet(this,P,_showControls2).call(this);this.contextMenuOpen=!1;window.getSelection().removeAllRanges()}function _exit2(){const e=this.pdfViewer.currentPageNumber;this.container.classList.remove(a);activeWindow.setTimeout((()=>{_classPrivateMethodGet(this,C,_removeFullscreenChangeListeners2).call(this);_classPrivateMethodGet(this,g,_notifyStateChange2).call(this,n.PresentationModeState.NORMAL);this.pdfViewer.scrollMode=_classPrivateFieldGet(this,p).scrollMode;null!==_classPrivateFieldGet(this,p).spreadMode&&(this.pdfViewer.spreadMode=_classPrivateFieldGet(this,p).spreadMode);this.pdfViewer.currentScaleValue=_classPrivateFieldGet(this,p).scaleValue;this.pdfViewer.currentPageNumber=e;null!==_classPrivateFieldGet(this,p).annotationEditorMode&&(this.pdfViewer.annotationEditorMode={mode:_classPrivateFieldGet(this,p).annotationEditorMode});_classPrivateFieldSet(this,p,null)}),0);_classPrivateMethodGet(this,M,_removeWindowListeners2).call(this);_classPrivateMethodGet(this,b,_hideControls2).call(this);_classPrivateMethodGet(this,S,_resetMouseScrollState2).call(this);this.contextMenuOpen=!1}function _mouseDown2(e){var t;if(this.contextMenuOpen){this.contextMenuOpen=!1;e.preventDefault()}else if(!(0!==e.button||e.target.href&&null!==(t=e.target.parentNode)&&void 0!==t&&t.hasAttribute("data-internal-link"))){e.preventDefault();e.shiftKey?this.pdfViewer.previousPage():this.pdfViewer.nextPage()}}function _contextMenu2(){this.contextMenuOpen=!0}function _showControls2(){this.controlsTimeout?activeWindow.clearTimeout(this.controlsTimeout):this.container.classList.add(o);this.controlsTimeout=activeWindow.setTimeout((()=>{this.container.classList.remove(o);delete this.controlsTimeout}),s)}function _hideControls2(){if(this.controlsTimeout){activeWindow.clearTimeout(this.controlsTimeout);this.container.classList.remove(o);delete this.controlsTimeout}}function _resetMouseScrollState2(){this.mouseScrollTimeStamp=0;this.mouseScrollDelta=0}function _touchSwipe2(e){if(this.active)if(e.touches.length>1)this.touchSwipeState=null;else switch(e.type){case"touchstart":this.touchSwipeState={startX:e.touches[0].pageX,startY:e.touches[0].pageY,endX:e.touches[0].pageX,endY:e.touches[0].pageY};break;case"touchmove":if(null===this.touchSwipeState)return;this.touchSwipeState.endX=e.touches[0].pageX;this.touchSwipeState.endY=e.touches[0].pageY;e.preventDefault();break;case"touchend":if(null===this.touchSwipeState)return;let t=0;const i=this.touchSwipeState.endX-this.touchSwipeState.startX,n=this.touchSwipeState.endY-this.touchSwipeState.startY,r=Math.abs(Math.atan2(n,i));Math.abs(i)>d&&(r<=h||r>=Math.PI-h)?t=i:Math.abs(n)>d&&Math.abs(r-Math.PI/2)<=h&&(t=n);t>0?this.pdfViewer.previousPage():t<0&&this.pdfViewer.nextPage()}}function _addWindowListeners2(){this.showControlsBind=_classPrivateMethodGet(this,P,_showControls2).bind(this);this.mouseDownBind=_classPrivateMethodGet(this,w,_mouseDown2).bind(this);this.mouseWheelBind=_classPrivateMethodGet(this,f,_mouseWheel2).bind(this);this.resetMouseScrollStateBind=_classPrivateMethodGet(this,S,_resetMouseScrollState2).bind(this);this.contextMenuBind=_classPrivateMethodGet(this,m,_contextMenu2).bind(this);this.touchSwipeBind=_classPrivateMethodGet(this,y,_touchSwipe2).bind(this);window.addEventListener("mousemove",this.showControlsBind);window.addEventListener("mousedown",this.mouseDownBind);window.addEventListener("wheel",this.mouseWheelBind,{passive:!1});window.addEventListener("keydown",this.resetMouseScrollStateBind);window.addEventListener("contextmenu",this.contextMenuBind);window.addEventListener("touchstart",this.touchSwipeBind);window.addEventListener("touchmove",this.touchSwipeBind);window.addEventListener("touchend",this.touchSwipeBind)}function _removeWindowListeners2(){window.removeEventListener("mousemove",this.showControlsBind);window.removeEventListener("mousedown",this.mouseDownBind);window.removeEventListener("wheel",this.mouseWheelBind,{passive:!1});window.removeEventListener("keydown",this.resetMouseScrollStateBind);window.removeEventListener("contextmenu",this.contextMenuBind);window.removeEventListener("touchstart",this.touchSwipeBind);window.removeEventListener("touchmove",this.touchSwipeBind);window.removeEventListener("touchend",this.touchSwipeBind);delete this.showControlsBind;delete this.mouseDownBind;delete this.mouseWheelBind;delete this.resetMouseScrollStateBind;delete this.contextMenuBind;delete this.touchSwipeBind}function _fullscreenChange2(){document.fullscreenElement?_classPrivateMethodGet(this,v,_enter2).call(this):_classPrivateMethodGet(this,_,_exit2).call(this)}function _addFullscreenChangeListeners2(){this.fullscreenChangeBind=_classPrivateMethodGet(this,I,_fullscreenChange2).bind(this);window.addEventListener("fullscreenchange",this.fullscreenChangeBind)}function _removeFullscreenChangeListeners2(){window.removeEventListener("fullscreenchange",this.fullscreenChangeBind);delete this.fullscreenChangeBind}},(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PDFRenderingQueue=void 0;i(200);var n=i(176),r=i(106);t.PDFRenderingQueue=class PDFRenderingQueue{constructor(){this.pdfViewer=null;this.pdfThumbnailViewer=null;this.onIdle=null;this.highestPriorityPage=null;this.idleTimeout=null;this.printing=!1;this.isThumbnailViewEnabled=!1;Object.defineProperty(this,"hasViewer",{value:()=>!!this.pdfViewer})}setViewer(e){this.pdfViewer=e}setThumbnailViewer(e){this.pdfThumbnailViewer=e}isHighestPriority(e){return this.highestPriorityPage===e.renderingId}renderHighestPriority(e){var t;if(this.idleTimeout){activeWindow.clearTimeout(this.idleTimeout);this.idleTimeout=null}this.pdfViewer.forceRendering(e)||this.isThumbnailViewEnabled&&null!==(t=this.pdfThumbnailViewer)&&void 0!==t&&t.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=activeWindow.setTimeout(this.onIdle.bind(this),3e4))}getHighestPriority(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=e.views,s=r.length;if(0===s)return null;for(let e=0;e<s;e++){const t=r[e].view;if(!this.isViewFinished(t))return t}const a=e.first.id,o=e.last.id;if(o-a+1>s){const n=e.ids;for(let e=1,r=o-a;e<r;e++){const r=i?a+e:o-e;if(n.has(r))continue;const s=t[r-1];if(!this.isViewFinished(s))return s}}let l=i?o:a-2,c=t[l];if(c&&!this.isViewFinished(c))return c;if(n){l+=i?1:-1;c=t[l];if(c&&!this.isViewFinished(c))return c}return null}isViewFinished(e){return e.renderingState===r.RenderingStates.FINISHED}renderView(e){switch(e.renderingState){case r.RenderingStates.FINISHED:return!1;case r.RenderingStates.PAUSED:this.highestPriorityPage=e.renderingId;e.resume();break;case r.RenderingStates.RUNNING:this.highestPriorityPage=e.renderingId;break;case r.RenderingStates.INITIAL:this.highestPriorityPage=e.renderingId;e.draw().finally((()=>{this.renderHighestPriority()})).catch((e=>{e instanceof n.RenderingCancelledException||console.error('renderView: "'.concat(e,'"'))}))}return!0}}},(e,t,i)=>{"use strict";var n=i(66),r=i(21),s=i(201),a=i(14),o=i(42),l=i(7),c=i(202),d=i(204),h=i(69),u=s&&s.prototype;n({target:"Promise",proto:!0,real:!0,forced:!!s&&a((function(){u.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=c(this,o("Promise")),i=l(e);return this.then(i?function(i){return d(t,e()).then((function(){return i}))}:e,i?function(i){return d(t,e()).then((function(){throw i}))}:e)}});if(!r&&l(s)){var p=o("Promise").prototype.finally;u.finally!==p&&h(u,"finally",p,{unsafe:!0})}},(e,t,i)=>{var n=i(2);e.exports=n.Promise},(e,t,i)=>{var n=i(32),r=i(203),s=i(17),a=i(19)("species");e.exports=function(e,t){var i,o=n(e).constructor;return void 0===o||s(i=n(o)[a])?t:r(i)}},(e,t,i)=>{var n=i(173),r=i(46),s=TypeError;e.exports=function(e){if(n(e))return e;throw s(r(e)+" is not a constructor")}},(e,t,i)=>{var n=i(32),r=i(6),s=i(205);e.exports=function(e,t){n(e);if(r(t)&&t.constructor===e)return t;var i=s.f(e);(0,i.resolve)(t);return i.promise}},(e,t,i)=>{"use strict";var n=i(45),r=TypeError,PromiseCapability=function(e){var t,i;this.promise=new e((function(e,n){if(void 0!==t||void 0!==i)throw r("Bad Promise constructor");t=e;i=n}));this.resolve=n(t);this.reject=n(i)};e.exports.f=function(e){return new PromiseCapability(e)}},(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PDFScriptingManager=void 0;i(1);i(138);i(148);i(150);i(153);i(155);i(157);i(159);i(96);var n=i(106),r=i(176);function _classPrivateMethodInitSpec(e,t){_checkPrivateRedeclaration(e,t);t.add(e)}function _classPrivateFieldInitSpec(e,t,i){_checkPrivateRedeclaration(e,t);t.set(e,i)}function _checkPrivateRedeclaration(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateMethodGet(e,t,i){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return i}function _classPrivateFieldGet(e,t){return function _classApplyDescriptorGet(e,t){if(t.get)return t.get.call(e);return t.value}(e,_classExtractFieldDescriptor(e,t,"get"))}function _classPrivateFieldSet(e,t,i){!function _classApplyDescriptorSet(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=i}}(e,_classExtractFieldDescriptor(e,t,"set"),i);return i}function _classExtractFieldDescriptor(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}var s=new WeakMap,a=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakMap,d=new WeakMap,h=new WeakMap,u=new WeakMap,p=new WeakMap,f=new WeakMap,g=new WeakSet,v=new WeakSet,_=new WeakSet,w=new WeakSet,m=new WeakSet;t.PDFScriptingManager=class PDFScriptingManager{constructor(e){let{eventBus:t,sandboxBundleSrc:i=null,externalServices:n=null,docProperties:r=null}=e;_classPrivateMethodInitSpec(this,m);_classPrivateMethodInitSpec(this,w);_classPrivateMethodInitSpec(this,_);_classPrivateMethodInitSpec(this,v);_classPrivateMethodInitSpec(this,g);_classPrivateFieldInitSpec(this,s,{writable:!0,value:null});_classPrivateFieldInitSpec(this,a,{writable:!0,value:null});_classPrivateFieldInitSpec(this,o,{writable:!0,value:null});_classPrivateFieldInitSpec(this,l,{writable:!0,value:null});_classPrivateFieldInitSpec(this,c,{writable:!0,value:null});_classPrivateFieldInitSpec(this,d,{writable:!0,value:null});_classPrivateFieldInitSpec(this,h,{writable:!0,value:null});_classPrivateFieldInitSpec(this,u,{writable:!0,value:!1});_classPrivateFieldInitSpec(this,p,{writable:!0,value:null});_classPrivateFieldInitSpec(this,f,{writable:!0,value:null});_classPrivateFieldSet(this,l,t);_classPrivateFieldSet(this,p,i);_classPrivateFieldSet(this,c,n);_classPrivateFieldSet(this,o,r)}setViewer(e){_classPrivateFieldSet(this,h,e)}async setDocument(e){var t;_classPrivateFieldGet(this,d)&&await _classPrivateMethodGet(this,m,_destroyScripting2).call(this);_classPrivateFieldSet(this,d,e);if(!e)return;const[i,n,r]=await Promise.all([e.getFieldObjects(),e.getCalculationOrderIds(),e.getJSActions()]);if(i||r){if(e===_classPrivateFieldGet(this,d)){try{_classPrivateFieldSet(this,f,_classPrivateMethodGet(this,w,_initScripting2).call(this))}catch(e){console.error('setDocument: "'.concat(e.message,'".'));await _classPrivateMethodGet(this,m,_destroyScripting2).call(this);return}this._internalEvents.set("updatefromsandbox",(e=>{(null==e?void 0:e.source)===window&&_classPrivateMethodGet(this,g,_updateFromSandbox2).call(this,e.detail)}));this._internalEvents.set("dispatcheventinsandbox",(e=>{var t;null===(t=_classPrivateFieldGet(this,f))||void 0===t||t.dispatchEventInSandbox(e.detail)}));this._internalEvents.set("pagechanging",(e=>{let{pageNumber:t,previous:i}=e;if(t!==i){_classPrivateMethodGet(this,_,_dispatchPageClose2).call(this,i);_classPrivateMethodGet(this,v,_dispatchPageOpen2).call(this,t)}}));this._internalEvents.set("pagerendered",(e=>{let{pageNumber:t}=e;this._pageOpenPending.has(t)&&t===_classPrivateFieldGet(this,h).currentPageNumber&&_classPrivateMethodGet(this,v,_dispatchPageOpen2).call(this,t)}));this._internalEvents.set("pagesdestroy",(async()=>{var e,t;await _classPrivateMethodGet(this,_,_dispatchPageClose2).call(this,_classPrivateFieldGet(this,h).currentPageNumber);await(null===(e=_classPrivateFieldGet(this,f))||void 0===e?void 0:e.dispatchEventInSandbox({id:"doc",name:"WillClose"}));null===(t=_classPrivateFieldGet(this,s))||void 0===t||t.resolve()}));for(const[e,t]of this._internalEvents)_classPrivateFieldGet(this,l)._on(e,t);try{const t=await _classPrivateFieldGet(this,o).call(this,e);if(e!==_classPrivateFieldGet(this,d))return;await _classPrivateFieldGet(this,f).createSandbox({objects:i,calculationOrder:n,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...t,actions:r}});_classPrivateFieldGet(this,l).dispatch("sandboxcreated",{source:this})}catch(e){console.error('setDocument: "'.concat(e.message,'".'));await _classPrivateMethodGet(this,m,_destroyScripting2).call(this);return}await(null===(t=_classPrivateFieldGet(this,f))||void 0===t?void 0:t.dispatchEventInSandbox({id:"doc",name:"Open"}));await _classPrivateMethodGet(this,v,_dispatchPageOpen2).call(this,_classPrivateFieldGet(this,h).currentPageNumber,!0);Promise.resolve().then((()=>{e===_classPrivateFieldGet(this,d)&&_classPrivateFieldSet(this,u,!0)}))}}else await _classPrivateMethodGet(this,m,_destroyScripting2).call(this)}async dispatchWillSave(){var e;return null===(e=_classPrivateFieldGet(this,f))||void 0===e?void 0:e.dispatchEventInSandbox({id:"doc",name:"WillSave"})}async dispatchDidSave(){var e;return null===(e=_classPrivateFieldGet(this,f))||void 0===e?void 0:e.dispatchEventInSandbox({id:"doc",name:"DidSave"})}async dispatchWillPrint(){var e;return null===(e=_classPrivateFieldGet(this,f))||void 0===e?void 0:e.dispatchEventInSandbox({id:"doc",name:"WillPrint"})}async dispatchDidPrint(){var e;return null===(e=_classPrivateFieldGet(this,f))||void 0===e?void 0:e.dispatchEventInSandbox({id:"doc",name:"DidPrint"})}get destroyPromise(){var e;return(null===(e=_classPrivateFieldGet(this,a))||void 0===e?void 0:e.promise)||null}get ready(){return _classPrivateFieldGet(this,u)}get _internalEvents(){return(0,r.shadow)(this,"_internalEvents",new Map)}get _pageOpenPending(){return(0,r.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,r.shadow)(this,"_visitedPages",new Map)}};async function _updateFromSandbox2(e){const t=_classPrivateFieldGet(this,h),i=t.isInPresentationMode||t.isChangingPresentationMode,{id:r,siblings:s,command:a,value:o}=e;if(!r){switch(a){case"clear":console.clear();break;case"error":console.error(o);break;case"layout":if(!i){const e=(0,n.apiPageLayoutToViewerModes)(o);t.spreadMode=e.spreadMode}break;case"page-num":t.currentPageNumber=o+1;break;case"print":await t.pagesPromise;_classPrivateFieldGet(this,l).dispatch("print",{source:this});break;case"println":console.log(o);break;case"zoom":i||(t.currentScaleValue=o);break;case"SaveAs":_classPrivateFieldGet(this,l).dispatch("download",{source:this});break;case"FirstPage":t.currentPageNumber=1;break;case"LastPage":t.currentPageNumber=t.pagesCount;break;case"NextPage":t.nextPage();break;case"PrevPage":t.previousPage();break;case"ZoomViewIn":i||t.increaseScale();break;case"ZoomViewOut":i||t.decreaseScale()}return}if(i&&e.focus)return;delete e.id;delete e.siblings;const c=s?[r,...s]:[r];for(const t of c){const i=document.querySelector('[data-element-id="'.concat(t,'"]'));if(i)i.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:e}));else{var u;null===(u=_classPrivateFieldGet(this,d))||void 0===u||u.annotationStorage.setValue(t,e)}}}async function _dispatchPageOpen2(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=_classPrivateFieldGet(this,d),a=this._visitedPages;t&&_classPrivateFieldSet(this,s,new r.PromiseCapability);if(!_classPrivateFieldGet(this,s))return;const o=_classPrivateFieldGet(this,h).getPageView(e-1);if((null==o?void 0:o.renderingState)!==n.RenderingStates.FINISHED){this._pageOpenPending.add(e);return}this._pageOpenPending.delete(e);const l=(async(t,n)=>{const r=await(a.has(e)?null:null===(t=o.pdfPage)||void 0===t?void 0:t.getJSActions());i===_classPrivateFieldGet(this,d)&&await(null===(n=_classPrivateFieldGet(this,f))||void 0===n?void 0:n.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:e,actions:r}))})();a.set(e,l)}async function _dispatchPageClose2(e){var t;const i=_classPrivateFieldGet(this,d),n=this._visitedPages;if(!_classPrivateFieldGet(this,s))return;if(this._pageOpenPending.has(e))return;const r=n.get(e);if(r){n.set(e,null);await r;i===_classPrivateFieldGet(this,d)&&await(null===(t=_classPrivateFieldGet(this,f))||void 0===t?void 0:t.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:e}))}}function _initScripting2(){_classPrivateFieldSet(this,a,new r.PromiseCapability);if(_classPrivateFieldGet(this,f))throw new Error("#initScripting: Scripting already exists.");return _classPrivateFieldGet(this,c).createScripting({sandboxBundleSrc:_classPrivateFieldGet(this,p)})}async function _destroyScripting2(){var e;if(_classPrivateFieldGet(this,f)){if(_classPrivateFieldGet(this,s)){await Promise.race([_classPrivateFieldGet(this,s).promise,new Promise((e=>{activeWindow.setTimeout(e,1e3)}))]).catch((()=>{}));_classPrivateFieldSet(this,s,null)}_classPrivateFieldSet(this,d,null);try{await _classPrivateFieldGet(this,f).destroySandbox()}catch{}for(const[e,t]of this._internalEvents)_classPrivateFieldGet(this,l)._off(e,t);this._internalEvents.clear();this._pageOpenPending.clear();this._visitedPages.clear();_classPrivateFieldSet(this,f,null);_classPrivateFieldSet(this,u,!1);null===(e=_classPrivateFieldGet(this,a))||void 0===e||e.resolve()}else{var t;_classPrivateFieldSet(this,d,null);null===(t=_classPrivateFieldGet(this,a))||void 0===t||t.resolve()}}},(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PDFThumbnailViewer=void 0;i(1);i(96);i(87);var n=i(106),r=i(208);function _classPrivateMethodInitSpec(e,t){!function _checkPrivateRedeclaration(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t);t.add(e)}function _classPrivateMethodGet(e,t,i){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return i}const s="selected";var a=new WeakSet,o=new WeakSet;t.PDFThumbnailViewer=class PDFThumbnailViewer{constructor(e){let{container:t,eventBus:i,linkService:r,renderingQueue:s,l10n:l,pageColors:c,pageBackground:d,pageInvert:h}=e;_classPrivateMethodInitSpec(this,o);_classPrivateMethodInitSpec(this,a);this.container=t;this.eventBus=i;this.linkService=r;this.renderingQueue=s;this.l10n=l;this.pageColors=c||null;this.pageBackground=d||null;this.pageInvert=h||!1;this.scroll=(0,n.watchScroll)(this.container,this._scrollUpdated.bind(this));this._resetView()}_scrollUpdated(){this.renderingQueue.renderHighestPriority()}getThumbnail(e){return this._thumbnails[e]}_getVisibleThumbs(){return(0,n.getVisibleElements)({scrollEl:this.container,views:this._thumbnails})}scrollThumbnailIntoView(e){if(!this.pdfDocument)return;const t=this._thumbnails[e-1];if(!t){console.error('scrollThumbnailIntoView: Invalid "pageNumber" parameter.');return}if(e!==this._currentPageNumber){this._thumbnails[this._currentPageNumber-1].div.classList.remove(s);t.div.classList.add(s)}const{first:i,last:r,views:a}=this._getVisibleThumbs();if(a.length>0){let s=!1;if(e<=i.id||e>=r.id)s=!0;else for(const{id:t,percent:i}of a)if(t===e){s=i<100;break}s&&(0,n.scrollIntoView)(t.div,{top:-19})}this._currentPageNumber=e}get pagesRotation(){return this._pagesRotation}set pagesRotation(e){if(!(0,n.isValidRotation)(e))throw new Error("Invalid thumbnails rotation angle.");if(!this.pdfDocument)return;if(this._pagesRotation===e)return;this._pagesRotation=e;const t={rotation:e};for(const e of this._thumbnails)e.update(t)}cleanup(){for(const e of this._thumbnails)e.renderingState!==n.RenderingStates.FINISHED&&e.reset();r.TempImageFactory.destroyCanvas()}_resetView(){this._thumbnails=[];this._currentPageNumber=1;this._pageLabels=null;this._pagesRotation=0;this.container.textContent=""}setDocument(e){if(this.pdfDocument){this._cancelRendering();this._resetView()}this.pdfDocument=e;if(!e){this._cancelRendering();return}const t=e.getPage(1),i=e.getOptionalContentConfig();t.then((t=>{var n;const a=e.numPages,o=t.getViewport({scale:1});for(let e=1;e<=a;++e){const t=new r.PDFThumbnailView({container:this.container,eventBus:this.eventBus,id:e,defaultViewport:o.clone(),optionalContentConfigPromise:i,linkService:this.linkService,renderingQueue:this.renderingQueue,l10n:this.l10n,pageColors:this.pageColors,pageBackground:this.pageBackground,pageInvert:this.pageInvert});this._thumbnails.push(t)}null===(n=this._thumbnails[0])||void 0===n||n.setPdfPage(t);this._thumbnails[this._currentPageNumber-1].div.classList.add(s)})).catch((e=>{String(e).contains("destroyed")||console.error("Unable to initialize thumbnail viewer",e)}))}_cancelRendering(){for(const e of this._thumbnails)e.cancelRendering()}setPageLabels(e){if(this.pdfDocument){if(e)if(Array.isArray(e)&&this.pdfDocument.numPages===e.length)this._pageLabels=e;else{this._pageLabels=null;console.error("PDFThumbnailViewer_setPageLabels: Invalid page labels.")}else this._pageLabels=null;for(let e=0,n=this._thumbnails.length;e<n;e++){var t,i;this._thumbnails[e].setPageLabel(null!==(t=null===(i=this._pageLabels)||void 0===i?void 0:i[e])&&void 0!==t?t:null)}}}forceRendering(){if(!this.pdfDocument)return!1;const e=this._getVisibleThumbs(),t=_classPrivateMethodGet(this,o,_getScrollAhead2).call(this,e),i=this.renderingQueue.getHighestPriority(e,this._thumbnails,t);if(i){_classPrivateMethodGet(this,a,_ensurePdfPageLoaded2).call(this,i).then((()=>{this.pdfDocument&&this.renderingQueue.renderView(i)}));return!0}return!1}};async function _ensurePdfPageLoaded2(e){if(e.pdfPage)return e.pdfPage;try{const t=await this.pdfDocument.getPage(e.id);e.pdfPage||e.setPdfPage(t);return t}catch(e){String(e).contains("destroyed")||console.error("Unable to get page for thumb view",e);return null}}function _getScrollAhead2(e){var t,i;return 1===(null===(t=e.first)||void 0===t?void 0:t.id)||(null===(i=e.last)||void 0===i?void 0:i.id)!==this._thumbnails.length&&this.scroll.down}},(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TempImageFactory=t.PDFThumbnailView=void 0;i(96);i(200);i(1);var n=i(106),r=i(176);function _classPrivateMethodInitSpec(e,t){!function _checkPrivateRedeclaration(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t);t.add(e)}function _classPrivateMethodGet(e,t,i){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return i}function _classStaticPrivateFieldSpecSet(e,t,i,n){_classCheckPrivateStaticAccess(e,t);_classCheckPrivateStaticFieldDescriptor(i,"set");!function _classApplyDescriptorSet(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=i}}(e,i,n);return n}function _classCheckPrivateStaticFieldDescriptor(e,t){if(void 0===e)throw new TypeError("attempted to "+t+" private static field before its declaration")}function _classCheckPrivateStaticAccess(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}class TempImageFactory{static getCanvas(e,t){var i;let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;const r=(null===(i=this.tempCanvas)||void 0===i?void 0:i.ownerDocument)!==n?n.createElement("canvas"):this.tempCanvas;r.width=e;r.height=t;const s=r.getContext("2d",{alpha:!1});s.save();s.fillStyle="rgb(255, 255, 255)";s.fillRect(0,0,e,t);s.restore();return[r,r.getContext("2d")]}static destroyCanvas(){const e=function _classStaticPrivateFieldSpecGet(e,t,i){_classCheckPrivateStaticAccess(e,t);_classCheckPrivateStaticFieldDescriptor(i,"get");return function _classApplyDescriptorGet(e,t){return t.get?t.get.call(e):t.value}(e,i)}(this,TempImageFactory,s);if(e){e.width=0;e.height=0}_classStaticPrivateFieldSpecSet(this,TempImageFactory,s,null)}}t.TempImageFactory=TempImageFactory;var s={writable:!0,value:null},a=new WeakSet,o=new WeakSet;t.PDFThumbnailView=class PDFThumbnailView{constructor(e){var t;let{container:i,eventBus:r,id:s,defaultViewport:l,optionalContentConfigPromise:c,linkService:d,renderingQueue:h,l10n:u,pageColors:p,pageBackground:f,pageInvert:g}=e;_classPrivateMethodInitSpec(this,o);_classPrivateMethodInitSpec(this,a);this.id=s;this.renderingId="thumbnail"+s;this.pageLabel=null;this.pdfPage=null;this.rotation=0;this.viewport=l;this.pdfPageRotate=l.rotation;this._optionalContentConfigPromise=c||null;this.pageColors=p||null;this.pageBackground=f||null;this.pageInvert=g||!1;this.eventBus=r;this.linkService=d;this.renderingQueue=h;this.renderTask=null;this.renderingState=n.RenderingStates.INITIAL;this.resume=null;this.l10n=u;const v=i.ownerDocument,_=v.createElement("a");_.href=d.getAnchorUrl("#page="+s);_.onclick=function(){d.goToPage(s);return!1};this.anchor=_;const w=v.createElement("div");w.className="thumbnail";w.setAttribute("data-page-number",this.id);w.setAttribute("data-page-label",null!==(t=this.pageLabel)&&void 0!==t?t:this.id);this.div=w;_classPrivateMethodGet(this,a,_updateDims2).call(this);const m=v.createElement("div");m.className="thumbnailImage";this._placeholderImg=m;w.append(m);_.append(w);i.append(_)}setPdfPage(e){this.pdfPage=e;this.pdfPageRotate=e.rotate;const t=(this.rotation+this.pdfPageRotate)%360;this.viewport=e.getViewport({scale:1,rotation:t});this.reset()}reset(){var e;this.cancelRendering();this.renderingState=n.RenderingStates.INITIAL;this.div.removeAttribute("data-loaded");null===(e=this.image)||void 0===e||e.replaceWith(this._placeholderImg);_classPrivateMethodGet(this,a,_updateDims2).call(this);if(this.image){this.image.removeAttribute("src");delete this.image}}update(e){let{rotation:t=null}=e;"number"==typeof t&&(this.rotation=t);const i=(this.rotation+this.pdfPageRotate)%360;this.viewport=this.viewport.clone({scale:1,rotation:i});this.reset()}cancelRendering(){if(this.renderTask){this.renderTask.cancel();this.renderTask=null}this.resume=null}_getPageDrawContext(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const t=this.div.ownerDocument.createElement("canvas"),i=t.getContext("2d",{alpha:!1}),r=new n.OutputScale;t.width=e*this.canvasWidth*r.sx|0;t.height=e*this.canvasHeight*r.sy|0;return{ctx:i,canvas:t,transform:r.scaled?[r.sx,0,0,r.sy,0,0]:null}}_convertCanvasToImage(e){if(this.renderingState!==n.RenderingStates.FINISHED)throw new Error("_convertCanvasToImage: Rendering has not finished.");const t=this._reduceImage(e),i=this.div.ownerDocument.createElement("img");i.className="thumbnailImage";i.src=t.toDataURL();this.image=i;this.div.setAttribute("data-loaded",!0);this._placeholderImg.replaceWith(i);t.width=0;t.height=0}async draw(){if(this.renderingState!==n.RenderingStates.INITIAL){console.error("Must be in new state before drawing");return}const{pdfPage:e}=this;if(!e){this.renderingState=n.RenderingStates.FINISHED;throw new Error("pdfPage is not loaded")}this.renderingState=n.RenderingStates.RUNNING;const{ctx:t,canvas:i,transform:r}=this._getPageDrawContext(2),s={canvasContext:t,transform:r,viewport:this.viewport.clone({scale:2*this.scale}),optionalContentConfigPromise:this._optionalContentConfigPromise,pageColors:this.pageColors,background:this.pageBackground,invert:this.pageInvert},a=this.renderTask=e.render(s);a.onContinue=e=>{if(this.renderingQueue.isHighestPriority(this))e();else{this.renderingState=n.RenderingStates.PAUSED;this.resume=()=>{this.renderingState=n.RenderingStates.RUNNING;e()}}};const l=a.promise.then((()=>_classPrivateMethodGet(this,o,_finishRenderTask2).call(this,a,i)),(e=>_classPrivateMethodGet(this,o,_finishRenderTask2).call(this,a,i,e)));l.finally((()=>{i.width=0;i.height=0;this.eventBus.dispatch("thumbnailrendered",{source:this,pageNumber:this.id,pdfPage:this.pdfPage})}));return l}setImage(e){if(this.renderingState!==n.RenderingStates.INITIAL)return;const{thumbnailCanvas:t,pdfPage:i,scale:r}=e;if(t){this.pdfPage||this.setPdfPage(i);if(!(r<this.scale)){this.renderingState=n.RenderingStates.FINISHED;this._convertCanvasToImage(t)}}}_reduceImage(e){const{ctx:t,canvas:i}=this._getPageDrawContext();if(e.width<=2*i.width){t.drawImage(e,0,0,e.width,e.height,0,0,i.width,i.height);return i}let n=i.width<<3,r=i.height<<3;const[s,a]=TempImageFactory.getCanvas(n,r,this.div.ownerDocument);for(;n>e.width||r>e.height;){n>>=1;r>>=1}a.drawImage(e,0,0,e.width,e.height,0,0,n,r);for(;n>2*i.width;){a.drawImage(s,0,0,n,r,0,0,n>>1,r>>1);n>>=1;r>>=1}t.drawImage(s,0,0,n,r,0,0,i.width,i.height);return i}get _thumbPageTitle(){var e;return this.l10n.get("thumb_page_title",{page:null!==(e=this.pageLabel)&&void 0!==e?e:this.id})}get _thumbPageCanvas(){var e;return this.l10n.get("thumb_page_canvas",{page:null!==(e=this.pageLabel)&&void 0!==e?e:this.id})}setPageLabel(e){this.pageLabel="string"==typeof e?e:null;this.div.setAttribute("data-page-label",null!=e?e:this.id)}};function _updateDims2(){const{width:e,height:t}=this.viewport,i=e/t;this.canvasWidth=98;this.canvasHeight=this.canvasWidth/i|0;this.scale=this.canvasWidth/e;const{style:n}=this.div;n.setProperty("--thumbnail-width","".concat(this.canvasWidth,"px"));n.setProperty("--thumbnail-height","".concat(this.canvasHeight,"px"))}async function _finishRenderTask2(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e===this.renderTask&&(this.renderTask=null);if(!(i instanceof r.RenderingCancelledException)){this.renderingState=n.RenderingStates.FINISHED;this._convertCanvasToImage(t);if(i)throw i}}},(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PagesCountLimit=t.PDFViewer=t.PDFPageViewBuffer=void 0;i(138);i(148);i(150);i(153);i(155);i(157);i(159);i(1);i(96);i(87);i(91);i(200);var n=i(176),r=i(106),s=i(210),a=i(211),o=i(199),l=i(179);let c;function _classPrivateMethodInitSpec(e,t){_checkPrivateRedeclaration(e,t);t.add(e)}function _classPrivateFieldInitSpec(e,t,i){_checkPrivateRedeclaration(e,t);t.set(e,i)}function _checkPrivateRedeclaration(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateMethodGet(e,t,i){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return i}function _classPrivateFieldGet(e,t){return function _classApplyDescriptorGet(e,t){if(t.get)return t.get.call(e);return t.value}(e,_classExtractFieldDescriptor(e,t,"get"))}function _classPrivateFieldSet(e,t,i){!function _classApplyDescriptorSet(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=i}}(e,_classExtractFieldDescriptor(e,t,"set"),i);return i}function _classExtractFieldDescriptor(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}const d={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};t.PagesCountLimit=d;function isValidAnnotationEditorMode(e){return Object.values(n.AnnotationEditorType).includes(e)&&e!==n.AnnotationEditorType.DISABLE}var h=new WeakMap,u=new WeakMap,p=new WeakSet;c=Symbol.iterator;class PDFPageViewBuffer{constructor(e){_classPrivateMethodInitSpec(this,p);_classPrivateFieldInitSpec(this,h,{writable:!0,value:new Set});_classPrivateFieldInitSpec(this,u,{writable:!0,value:0});_classPrivateFieldSet(this,u,e)}push(e){const t=_classPrivateFieldGet(this,h);t.has(e)&&t.delete(e);t.add(e);t.size>_classPrivateFieldGet(this,u)&&_classPrivateMethodGet(this,p,_destroyFirstView2).call(this)}resize(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;_classPrivateFieldSet(this,u,e);const i=_classPrivateFieldGet(this,h);if(t){const e=i.size;let n=1;for(const r of i){if(t.has(r.id)){i.delete(r);i.add(r)}if(++n>e)break}}for(;i.size>_classPrivateFieldGet(this,u);)_classPrivateMethodGet(this,p,_destroyFirstView2).call(this)}has(e){return _classPrivateFieldGet(this,h).has(e)}[c](){return _classPrivateFieldGet(this,h).keys()}}t.PDFPageViewBuffer=PDFPageViewBuffer;function _destroyFirstView2(){const e=_classPrivateFieldGet(this,h).keys().next().value;null==e||e.destroy();_classPrivateFieldGet(this,h).delete(e)}var f=new WeakMap,g=new WeakMap,v=new WeakMap,_=new WeakMap,w=new WeakMap,m=new WeakMap,P=new WeakMap,b=new WeakMap,S=new WeakMap,y=new WeakMap,E=new WeakMap,M=new WeakMap,I=new WeakMap,T=new WeakMap,C=new WeakMap,L=new WeakMap,k=new WeakSet,x=new WeakSet,D=new WeakSet,A=new WeakSet,V=new WeakSet,O=new WeakSet,N=new WeakSet,R=new WeakSet,B=new WeakMap,G=new WeakSet,W=new WeakSet,U=new WeakSet,H=new WeakSet,z=new WeakSet,j=new WeakSet;t.PDFViewer=class PDFViewer{constructor(e){var t,i,a,c,d,h;_classPrivateMethodInitSpec(this,j);_classPrivateMethodInitSpec(this,z);_classPrivateMethodInitSpec(this,H);_classPrivateMethodInitSpec(this,U);_classPrivateMethodInitSpec(this,W);_classPrivateMethodInitSpec(this,G);_classPrivateFieldInitSpec(this,B,{get:_get_pageWidthScaleFactor,set:void 0});_classPrivateMethodInitSpec(this,R);_classPrivateMethodInitSpec(this,N);_classPrivateMethodInitSpec(this,O);_classPrivateMethodInitSpec(this,V);_classPrivateMethodInitSpec(this,A);_classPrivateMethodInitSpec(this,D);_classPrivateMethodInitSpec(this,x);_classPrivateMethodInitSpec(this,k);_classPrivateFieldInitSpec(this,f,{writable:!0,value:null});_classPrivateFieldInitSpec(this,g,{writable:!0,value:n.AnnotationEditorType.NONE});_classPrivateFieldInitSpec(this,v,{writable:!0,value:null});_classPrivateFieldInitSpec(this,_,{writable:!0,value:n.AnnotationMode.ENABLE_FORMS});_classPrivateFieldInitSpec(this,w,{writable:!0,value:null});_classPrivateFieldInitSpec(this,m,{writable:!0,value:null});_classPrivateFieldInitSpec(this,P,{writable:!0,value:!1});_classPrivateFieldInitSpec(this,b,{writable:!0,value:!1});_classPrivateFieldInitSpec(this,S,{writable:!0,value:null});_classPrivateFieldInitSpec(this,y,{writable:!0,value:!1});_classPrivateFieldInitSpec(this,E,{writable:!0,value:0});_classPrivateFieldInitSpec(this,M,{writable:!0,value:new ResizeObserver(_classPrivateMethodGet(this,j,_resizeObserverCallback2).bind(this))});_classPrivateFieldInitSpec(this,I,{writable:!0,value:null});_classPrivateFieldInitSpec(this,T,{writable:!0,value:null});_classPrivateFieldInitSpec(this,C,{writable:!0,value:null});_classPrivateFieldInitSpec(this,L,{writable:!0,value:r.TextLayerMode.ENABLE});const u="3.9.0";if(n.version!==u)throw new Error('The API version "'.concat(n.version,'" does not match the Viewer version "').concat(u,'".'));this.container=e.container;this.viewer=e.viewer||e.container.firstElementChild;if("DIV"!==(null===(t=this.container)||void 0===t?void 0:t.tagName)||"DIV"!==(null===(i=this.viewer)||void 0===i?void 0:i.tagName))throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");_classPrivateFieldGet(this,M).observe(this.container);this.eventBus=e.eventBus;this.linkService=e.linkService||new l.SimpleLinkService;this.downloadManager=e.downloadManager||null;this.findController=e.findController||null;this.findController&&(this.findController.onIsPageVisible=e=>this._getVisiblePages().ids.has(e));this._scriptingManager=e.scriptingManager||null;_classPrivateFieldSet(this,L,null!==(a=e.textLayerMode)&&void 0!==a?a:r.TextLayerMode.ENABLE);_classPrivateFieldSet(this,_,null!==(c=e.annotationMode)&&void 0!==c?c:n.AnnotationMode.ENABLE_FORMS);_classPrivateFieldSet(this,g,null!==(d=e.annotationEditorMode)&&void 0!==d?d:n.AnnotationEditorType.NONE);this.imageResourcesPath=e.imageResourcesPath||"";this.enablePrintAutoRotate=e.enablePrintAutoRotate||!1;this.removePageBorders=e.removePageBorders||!1;this.useOnlyCssZoom=e.useOnlyCssZoom||!1;this.isOffscreenCanvasSupported=null===(h=e.isOffscreenCanvasSupported)||void 0===h||h;this.maxCanvasPixels=e.maxCanvasPixels;this.l10n=e.l10n||s.NullL10n;_classPrivateFieldSet(this,P,e.enablePermissions||!1);this.pageColors=e.pageColors||null;this.pageBackground=e.pageBackground||null;this.pageInvert=e.pageInvert||null;this.defaultRenderingQueue=!e.renderingQueue;if(this.defaultRenderingQueue){this.renderingQueue=new o.PDFRenderingQueue;this.renderingQueue.setViewer(this)}else this.renderingQueue=e.renderingQueue;this.scroll=(0,r.watchScroll)(this.container,this._scrollUpdate.bind(this));this.presentationModeState=r.PresentationModeState.UNKNOWN;this._onBeforeDraw=this._onAfterDraw=null;this._resetView();this.removePageBorders&&this.viewer.classList.add("removePageBorders");_classPrivateMethodGet(this,z,_updateContainerHeightCss2).call(this);this.eventBus._on("thumbnailrendered",(e=>{let{pageNumber:t,pdfPage:i}=e;const n=this._pages[t-1];_classPrivateFieldGet(this,f).has(n)||null==i||i.cleanup()}))}get pagesCount(){return this._pages.length}getPageView(e){return this._pages[e]}getCachedPageViews(){return new Set(_classPrivateFieldGet(this,f))}get pageViewsReady(){return this._pagesCapability.settled&&this._pages.every((e=>null==e?void 0:e.pdfPage))}get renderForms(){return _classPrivateFieldGet(this,_)===n.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(e){if(!Number.isInteger(e))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(e,!0)||console.error('currentPageNumber: "'.concat(e,'" is not a valid page.')))}_setCurrentPageNumber(e){var t,i;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._currentPageNumber===e){n&&_classPrivateMethodGet(this,W,_resetCurrentPageView2).call(this);return!0}if(!(0<e&&e<=this.pagesCount))return!1;const r=this._currentPageNumber;this._currentPageNumber=e;this.eventBus.dispatch("pagechanging",{source:this,pageNumber:e,pageLabel:null!==(t=null===(i=this._pageLabels)||void 0===i?void 0:i[e-1])&&void 0!==t?t:null,previous:r});n&&_classPrivateMethodGet(this,W,_resetCurrentPageView2).call(this);return!0}get currentPageLabel(){var e,t;return null!==(e=null===(t=this._pageLabels)||void 0===t?void 0:t[this._currentPageNumber-1])&&void 0!==e?e:null}set currentPageLabel(e){if(!this.pdfDocument)return;let t=0|e;if(this._pageLabels){const i=this._pageLabels.indexOf(e);i>=0&&(t=i+1)}this._setCurrentPageNumber(t,!0)||console.error('currentPageLabel: "'.concat(e,'" is not a valid page.'))}get currentScale(){return this._currentScale!==r.UNKNOWN_SCALE?this._currentScale:r.DEFAULT_SCALE}set currentScale(e){if(isNaN(e))throw new Error("Invalid numeric scale.");this.pdfDocument&&_classPrivateMethodGet(this,G,_setScale2).call(this,e,{noScroll:!1})}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(e){this.pdfDocument&&_classPrivateMethodGet(this,G,_setScale2).call(this,e,{noScroll:!1})}get pagesRotation(){return this._pagesRotation}set pagesRotation(e){if(!(0,r.isValidRotation)(e))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument)return;(e%=360)<0&&(e+=360);if(this._pagesRotation===e)return;this._pagesRotation=e;const t=this._currentPageNumber;this.refresh(!0,{rotation:e});this._currentScaleValue&&_classPrivateMethodGet(this,G,_setScale2).call(this,this._currentScaleValue,{noScroll:!0});this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:e,pageNumber:t});this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}async getAllText(){const e=[],t=[];for(let i=1,n=this.pdfDocument.numPages;i<=n;++i){if(_classPrivateFieldGet(this,y))return null;t.length=0;const n=await this.pdfDocument.getPage(i),{items:s}=await n.getTextContent();for(const e of s){e.str&&t.push(e.str);e.hasEOL&&t.push("\n")}e.push((0,r.removeNullCharacters)(t.join("")))}return e.join("\n")}setDocument(e){const t=this.container.ownerDocument;if(this.pdfDocument){var i,s;this.eventBus.dispatch("pagesdestroy",{source:this});this._cancelRendering();this._resetView();null===(i=this.findController)||void 0===i||i.setDocument(null);null===(s=this._scriptingManager)||void 0===s||s.setDocument(null);if(_classPrivateFieldGet(this,v)){_classPrivateFieldGet(this,v).destroy();_classPrivateFieldSet(this,v,null)}}this.pdfDocument=e;if(!e){this._cancelRendering();return}const o=e.numPages,l=e.getPage(1),c=e.getOptionalContentConfig(),h=_classPrivateFieldGet(this,P)?e.getPermissions():Promise.resolve();if(o>d.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const e=this._scrollMode=r.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:e})}this._pagesCapability.promise.then((()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:o})}),(()=>{}));this._onBeforeDraw=e=>{const t=this._pages[e.pageNumber-1];t&&_classPrivateFieldGet(this,f).push(t)};this.eventBus._on("pagerender",this._onBeforeDraw);this._onAfterDraw=e=>{if(!e.cssTransform&&!this._onePageRenderedCapability.settled){this._onePageRenderedCapability.resolve({timestamp:e.timestamp});this.eventBus._off("pagerendered",this._onAfterDraw);this._onAfterDraw=null;if(_classPrivateFieldGet(this,T)){t.removeEventListener("visibilitychange",_classPrivateFieldGet(this,T));_classPrivateFieldSet(this,T,null)}}};this.eventBus._on("pagerendered",this._onAfterDraw);Promise.all([l,h]).then((i=>{var s,l;let[h,u]=i;if(e!==this.pdfDocument)return;this._firstPageCapability.resolve(h);this._optionalContentConfigPromise=c;const{annotationEditorMode:p,annotationMode:f,textLayerMode:_}=_classPrivateMethodGet(this,x,_initializePermissions2).call(this,u);if(_!==r.TextLayerMode.DISABLE){const e=_classPrivateFieldSet(this,S,document.createElement("div"));e.classList.add("hiddenCopyElement");this.viewer.before(e)}if(p!==n.AnnotationEditorType.DISABLE){const t=p;if(e.isPureXfa)console.warn("Warning: XFA-editing is not implemented.");else if(isValidAnnotationEditorMode(t)){_classPrivateFieldSet(this,v,new n.AnnotationEditorUIManager(this.container,this.eventBus,e,this.pageColors));t!==n.AnnotationEditorType.NONE&&_classPrivateFieldGet(this,v).updateMode(t)}else console.error("Invalid AnnotationEditor mode: ".concat(t))}const w=_classPrivateMethodGet(this,k,_layerProperties2).bind(this),P=this._scrollMode===r.ScrollMode.PAGE?null:this.viewer,b=this.currentScale,y=h.getViewport({scale:b*n.PixelsPerInch.PDF_TO_CSS_UNITS});this.viewer.style.setProperty("--scale-factor",y.scale);"CanvasText"!==(null===(s=this.pageColors)||void 0===s?void 0:s.foreground)&&"Canvas"!==(null===(l=this.pageColors)||void 0===l?void 0:l.background)||this.viewer.style.setProperty("--hcm-highligh-filter",e.filterFactory.addHighlightHCMFilter("CanvasText","Canvas","HighlightText","Highlight"));for(let e=1;e<=o;++e){const t=new a.PDFPageView({container:P,eventBus:this.eventBus,id:e,scale:b,defaultViewport:y.clone(),optionalContentConfigPromise:c,renderingQueue:this.renderingQueue,textLayerMode:_,annotationMode:f,imageResourcesPath:this.imageResourcesPath,useOnlyCssZoom:this.useOnlyCssZoom,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n,layerProperties:w,pageBackground:this.pageBackground,pageInvert:this.pageInvert});this._pages.push(t)}const E=this._pages[0];if(E){E.setPdfPage(h);this.linkService.cachePageRef(1,h.ref)}this._scrollMode===r.ScrollMode.PAGE?_classPrivateMethodGet(this,V,_ensurePageViewVisible2).call(this):this._spreadMode!==r.SpreadMode.NONE&&this._updateSpreadMode();_classPrivateMethodGet(this,D,_onePageRenderedOrForceFetch2).call(this).then((async()=>{var i,n;null===(i=this.findController)||void 0===i||i.setDocument(e);null===(n=this._scriptingManager)||void 0===n||n.setDocument(e);if(_classPrivateFieldGet(this,S)){_classPrivateFieldSet(this,m,_classPrivateMethodGet(this,A,_copyCallback2).bind(this,_));t.addEventListener("copy",_classPrivateFieldGet(this,m))}_classPrivateFieldGet(this,v)&&this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:_classPrivateFieldGet(this,g)});if(e.loadingParams.disableAutoFetch||o>d.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let r=o-1;if(r<=0)this._pagesCapability.resolve();else for(let t=2;t<=o;++t){const i=e.getPage(t).then((i=>{if(e!==this.pdfDocument)return;const n=this._pages[t-1];n.pdfPage||n.setPdfPage(i);this.linkService.cachePageRef(t,i.ref);0==--r&&this._pagesCapability.resolve()}),(e=>{String(e).contains("destroyed")||console.error("Unable to get page ".concat(t," to initialize viewer"),e);0==--r&&this._pagesCapability.resolve()}));t%d.PAUSE_EAGER_PAGE_INIT==0&&await i}}));this.eventBus.dispatch("pagesinit",{source:this});e.getMetadata().then((t=>{let{info:i}=t;e===this.pdfDocument&&i.Language&&(this.viewer.lang=i.Language)}));this.defaultRenderingQueue&&this.update()})).catch((e=>{String(e).contains("destroyed")||console.error("Unable to initialize viewer",e);this._pagesCapability.reject(e)}))}setPageLabels(e){if(this.pdfDocument){if(e)if(Array.isArray(e)&&this.pdfDocument.numPages===e.length)this._pageLabels=e;else{this._pageLabels=null;console.error("setPageLabels: Invalid page labels.")}else this._pageLabels=null;for(let e=0,n=this._pages.length;e<n;e++){var t,i;this._pages[e].setPageLabel(null!==(t=null===(i=this._pageLabels)||void 0===i?void 0:i[e])&&void 0!==t?t:null)}}}_resetView(){const e=this.container.ownerDocument;this._pages=[];this._currentPageNumber=1;this._currentScale=r.UNKNOWN_SCALE;this._currentScaleValue=null;this._pageLabels=null;_classPrivateFieldSet(this,f,new PDFPageViewBuffer(10));this._location=null;this._pagesRotation=0;this._optionalContentConfigPromise=null;this._firstPageCapability=new n.PromiseCapability;this._onePageRenderedCapability=new n.PromiseCapability;this._pagesCapability=new n.PromiseCapability;this._scrollMode=r.ScrollMode.VERTICAL;this._previousScrollMode=r.ScrollMode.UNKNOWN;this._spreadMode=r.SpreadMode.NONE;_classPrivateFieldSet(this,I,{previousPageNumber:1,scrollDown:!0,pages:[]});if(this._onBeforeDraw){this.eventBus._off("pagerender",this._onBeforeDraw);this._onBeforeDraw=null}if(this._onAfterDraw){this.eventBus._off("pagerendered",this._onAfterDraw);this._onAfterDraw=null}if(_classPrivateFieldGet(this,T)){e.removeEventListener("visibilitychange",_classPrivateFieldGet(this,T));_classPrivateFieldSet(this,T,null)}this.viewer.textContent="";this._updateScrollMode();this.viewer.removeAttribute("lang");if(_classPrivateFieldGet(this,S)){e.removeEventListener("copy",_classPrivateFieldGet(this,m));_classPrivateFieldSet(this,m,null);_classPrivateFieldGet(this,S).remove();_classPrivateFieldSet(this,S,null)}}_scrollUpdate(){0!==this.pagesCount&&this.update()}pageLabelToPageNumber(e){if(!this._pageLabels)return null;const t=this._pageLabels.indexOf(e);return t<0?null:t+1}scrollPageIntoView(e){let{pageNumber:t,destArray:i=null,allowNegativeOffset:s=!1,ignoreDestinationZoom:a=!1}=e;if(!this.pdfDocument)return;const o=Number.isInteger(t)&&this._pages[t-1];if(!o){console.error('scrollPageIntoView: "'.concat(t,'" is not a valid pageNumber parameter.'));return}if(this.isInPresentationMode||!i){this._setCurrentPageNumber(t,!0);return}let l,c,d=0,h=0,u=0,p=0;const f=o.rotation%180!=0,g=(f?o.height:o.width)/o.scale/n.PixelsPerInch.PDF_TO_CSS_UNITS,v=(f?o.width:o.height)/o.scale/n.PixelsPerInch.PDF_TO_CSS_UNITS;let _=0;switch(i[1].name){case"XYZ":d=i[2];h=i[3];_=i[4];d=null!==d?d:0;h=null!==h?h:v;break;case"Fit":case"FitB":_="page-fit";break;case"FitH":case"FitBH":h=i[2];_="page-width";if(null===h&&this._location){d=this._location.left;h=this._location.top}else("number"!=typeof h||h<0)&&(h=v);break;case"FitV":case"FitBV":d=i[2];u=g;p=v;_="page-height";break;case"FitR":d=i[2];h=i[3];u=i[4]-d;p=i[5]-h;let e=r.SCROLLBAR_PADDING,t=r.VERTICAL_PADDING;this.removePageBorders&&(e=t=0);l=(this.container.clientWidth-e)/u/n.PixelsPerInch.PDF_TO_CSS_UNITS;c=(this.container.clientHeight-t)/p/n.PixelsPerInch.PDF_TO_CSS_UNITS;_=Math.min(Math.abs(l),Math.abs(c));break;default:console.error('scrollPageIntoView: "'.concat(i[1].name,'" is not a valid destination type.'));return}a||(_&&_!==this._currentScale?this.currentScaleValue=_:this._currentScale===r.UNKNOWN_SCALE&&(this.currentScaleValue=r.DEFAULT_SCALE_VALUE));if("page-fit"===_&&!i[4]){_classPrivateMethodGet(this,O,_scrollIntoView2).call(this,o);return}const w=[o.viewport.convertToViewportPoint(d,h),o.viewport.convertToViewportPoint(d+u,h+p)];let m=Math.min(w[0][0],w[1][0]),P=Math.min(w[0][1],w[1][1]);if(!s){m=Math.max(m,0);P=Math.max(P,0)}_classPrivateMethodGet(this,O,_scrollIntoView2).call(this,o,{left:m,top:P})}_updateLocation(e){const t=this._currentScale,i=this._currentScaleValue,n=parseFloat(i)===t?Math.round(1e4*t)/100:i,r=e.id,s=this._pages[r-1],a=this.container,o=s.getPagePoint(a.scrollLeft-e.x,a.scrollTop-e.y),l=Math.round(o[0]),c=Math.round(o[1]);let d="#page=".concat(r);this.isInPresentationMode||(d+="&zoom=".concat(n,",").concat(l,",").concat(c));this._location={pageNumber:r,scale:n,top:c,left:l,rotation:this._pagesRotation,pdfOpenParams:d}}update(){const e=this._getVisiblePages(),t=e.views,i=t.length;if(0===i)return;const n=Math.max(10,2*i+1);_classPrivateFieldGet(this,f).resize(n,e.ids);this.renderingQueue.renderHighestPriority(e);const s=this._spreadMode===r.SpreadMode.NONE&&(this._scrollMode===r.ScrollMode.PAGE||this._scrollMode===r.ScrollMode.VERTICAL),a=this._currentPageNumber;let o=!1;for(const e of t){if(e.percent<100)break;if(e.id===a&&s){o=!0;break}}this._setCurrentPageNumber(o?a:t[0].id);this._updateLocation(e.first);this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(e){return this.container.contains(e)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===r.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===r.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const e=this._scrollMode===r.ScrollMode.PAGE?_classPrivateFieldGet(this,I).pages:this._pages,t=this._scrollMode===r.ScrollMode.HORIZONTAL,i=t&&this._isContainerRtl;return(0,r.getVisibleElements)({scrollEl:this.container,views:e,sortByVisibility:!0,horizontal:t,rtl:i})}cleanup(){for(const e of this._pages)e.renderingState!==r.RenderingStates.FINISHED&&e.reset()}_cancelRendering(){for(const e of this._pages)e.cancelRendering()}forceRendering(e){if(!this.pdfDocument)return!1;const t=e||this._getVisiblePages(),i=_classPrivateMethodGet(this,H,_getScrollAhead2).call(this,t),n=this._spreadMode!==r.SpreadMode.NONE&&this._scrollMode!==r.ScrollMode.HORIZONTAL,s=this.renderingQueue.getHighestPriority(t,this._pages,i,n);if(s){_classPrivateMethodGet(this,U,_ensurePdfPageLoaded2).call(this,s).then((()=>{this.pdfDocument&&this.renderingQueue.renderView(s)}));return!0}return!1}get hasEqualPageSizes(){const e=this._pages[0];for(let t=1,i=this._pages.length;t<i;++t){const i=this._pages[t];if(i.width!==e.width||i.height!==e.height)return!1}return!0}getPagesOverview(){let e;return this._pages.map((t=>{const i=t.pdfPage.getViewport({scale:1}),n=(0,r.isPortraitOrientation)(i);if(void 0===e)e=n;else if(this.enablePrintAutoRotate&&n!==e)return{width:i.height,height:i.width,rotation:(i.rotation-90)%360};return{width:i.width,height:i.height,rotation:i.rotation}}))}get optionalContentConfigPromise(){if(!this.pdfDocument)return Promise.resolve(null);if(!this._optionalContentConfigPromise){console.error("optionalContentConfigPromise: Not initialized yet.");return this.pdfDocument.getOptionalContentConfig()}return this._optionalContentConfigPromise}set optionalContentConfigPromise(e){if(!(e instanceof Promise))throw new Error("Invalid optionalContentConfigPromise: ".concat(e));if(this.pdfDocument&&this._optionalContentConfigPromise){this._optionalContentConfigPromise=e;this.refresh(!1,{optionalContentConfigPromise:e});this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:e})}}get scrollMode(){return this._scrollMode}set scrollMode(e){if(this._scrollMode!==e){if(!(0,r.isValidScrollMode)(e))throw new Error("Invalid scroll mode: ".concat(e));if(!(this.pagesCount>d.FORCE_SCROLL_MODE_PAGE)){this._previousScrollMode=this._scrollMode;this._scrollMode=e;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:e});this._updateScrollMode(this._currentPageNumber)}}}_updateScrollMode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=this._scrollMode,i=this.viewer;i.classList.toggle("scrollHorizontal",t===r.ScrollMode.HORIZONTAL);i.classList.toggle("scrollWrapped",t===r.ScrollMode.WRAPPED);if(this.pdfDocument&&e){t===r.ScrollMode.PAGE?_classPrivateMethodGet(this,V,_ensurePageViewVisible2).call(this):this._previousScrollMode===r.ScrollMode.PAGE&&this._updateSpreadMode();this._currentScaleValue&&isNaN(this._currentScaleValue)&&_classPrivateMethodGet(this,G,_setScale2).call(this,this._currentScaleValue,{noScroll:!0});this._setCurrentPageNumber(e,!0);this.update()}}get spreadMode(){return this._spreadMode}set spreadMode(e){if(this._spreadMode!==e){if(!(0,r.isValidSpreadMode)(e))throw new Error("Invalid spread mode: ".concat(e));this._spreadMode=e;this.eventBus.dispatch("spreadmodechanged",{source:this,mode:e});this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!this.pdfDocument)return;const t=this.viewer,i=this._pages;if(this._scrollMode===r.ScrollMode.PAGE)_classPrivateMethodGet(this,V,_ensurePageViewVisible2).call(this);else{t.textContent="";if(this._spreadMode===r.SpreadMode.NONE)for(const e of this._pages)t.append(e.div);else{const e=this._spreadMode-1;let n=null;for(let r=0,s=i.length;r<s;++r){if(null===n){n=document.createElement("div");n.className="spread";t.append(n)}else if(r%2===e){n=n.cloneNode(!1);t.append(n)}n.append(i[r].div)}}}if(e){this._currentScaleValue&&isNaN(this._currentScaleValue)&&_classPrivateMethodGet(this,G,_setScale2).call(this,this._currentScaleValue,{noScroll:!0});this._setCurrentPageNumber(e,!0);this.update()}}_getPageAdvance(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(this._scrollMode){case r.ScrollMode.WRAPPED:{const{views:i}=this._getVisiblePages(),n=new Map;for(const{id:e,y:t,percent:r,widthPercent:s}of i){if(0===r||s<100)continue;let i=n.get(t);i||n.set(t,i||(i=[]));i.push(e)}for(const i of n.values()){const n=i.indexOf(e);if(-1===n)continue;const r=i.length;if(1===r)break;if(t)for(let t=n-1,r=0;t>=r;t--){const n=i[t],r=i[t+1]-1;if(n<r)return e-r}else for(let t=n+1,s=r;t<s;t++){const n=i[t],r=i[t-1]+1;if(n>r)return r-e}if(t){const t=i[0];if(t<e)return e-t+1}else{const t=i[r-1];if(t>e)return t-e+1}break}break}case r.ScrollMode.HORIZONTAL:break;case r.ScrollMode.PAGE:case r.ScrollMode.VERTICAL:{if(this._spreadMode===r.SpreadMode.NONE)break;const i=this._spreadMode-1;if(t&&e%2!==i)break;if(!t&&e%2===i)break;const{views:n}=this._getVisiblePages(),s=t?e-1:e+1;for(const{id:e,percent:t,widthPercent:i}of n)if(e===s){if(t>0&&100===i)return 2;break}break}}return 1}nextPage(){const e=this._currentPageNumber,t=this.pagesCount;if(e>=t)return!1;const i=this._getPageAdvance(e,!1)||1;this.currentPageNumber=Math.min(e+i,t);return!0}previousPage(){const e=this._currentPageNumber;if(e<=1)return!1;const t=this._getPageAdvance(e,!0)||1;this.currentPageNumber=Math.max(e-t,1);return!0}increaseScale(){let{drawingDelay:e,scaleFactor:t,steps:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.pdfDocument)return;let n=this._currentScale;if(t>1)n=Math.round(n*t*100)/100;else{var s;null!==(s=i)&&void 0!==s||(i=1);do{n=Math.ceil(10*(n*r.DEFAULT_SCALE_DELTA).toFixed(2))/10}while(--i>0&&n<r.MAX_SCALE)}_classPrivateMethodGet(this,G,_setScale2).call(this,Math.min(r.MAX_SCALE,n),{noScroll:!1,drawingDelay:e})}decreaseScale(){let{drawingDelay:e,scaleFactor:t,steps:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.pdfDocument)return;let n=this._currentScale;if(t>0&&t<1)n=Math.round(n*t*100)/100;else{var s;null!==(s=i)&&void 0!==s||(i=1);do{n=Math.floor(10*(n/r.DEFAULT_SCALE_DELTA).toFixed(2))/10}while(--i>0&&n>r.MIN_SCALE)}_classPrivateMethodGet(this,G,_setScale2).call(this,Math.max(r.MIN_SCALE,n),{noScroll:!1,drawingDelay:e})}get containerTopLeft(){return _classPrivateFieldGet(this,w)||_classPrivateFieldSet(this,w,[this.container.offsetTop,this.container.offsetLeft])}get annotationEditorMode(){return _classPrivateFieldGet(this,v)?_classPrivateFieldGet(this,g):n.AnnotationEditorType.DISABLE}set annotationEditorMode(e){let{mode:t,editId:i=null}=e;if(!_classPrivateFieldGet(this,v))throw new Error("The AnnotationEditor is not enabled.");if(_classPrivateFieldGet(this,g)!==t){if(!isValidAnnotationEditorMode(t))throw new Error("Invalid AnnotationEditor mode: ".concat(t));if(this.pdfDocument){_classPrivateFieldSet(this,g,t);this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:t});_classPrivateFieldGet(this,v).updateMode(t,i)}}}set annotationEditorParams(e){let{type:t,value:i}=e;if(!_classPrivateFieldGet(this,v))throw new Error("The AnnotationEditor is not enabled.");_classPrivateFieldGet(this,v).updateParams(t,i)}refresh(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.create(null);if(this.pdfDocument){for(const e of this._pages)e.update(t);if(null!==_classPrivateFieldGet(this,C)){activeWindow.clearTimeout(_classPrivateFieldGet(this,C));_classPrivateFieldSet(this,C,null)}e||this.update()}}};function _layerProperties2(){const e=this;return{get annotationEditorUIManager(){return _classPrivateFieldGet(e,v)},get annotationStorage(){var t;return null===(t=e.pdfDocument)||void 0===t?void 0:t.annotationStorage},get downloadManager(){return e.downloadManager},get enableScripting(){return!!e._scriptingManager},get fieldObjectsPromise(){var t;return null===(t=e.pdfDocument)||void 0===t?void 0:t.getFieldObjects()},get findController(){return e.findController},get hasJSActionsPromise(){var t;return null===(t=e.pdfDocument)||void 0===t?void 0:t.hasJSActions()},get linkService(){return e.linkService}}}function _initializePermissions2(e){const t={annotationEditorMode:_classPrivateFieldGet(this,g),annotationMode:_classPrivateFieldGet(this,_),textLayerMode:_classPrivateFieldGet(this,L)};if(!e)return t;e.includes(n.PermissionFlag.COPY)||_classPrivateFieldGet(this,L)!==r.TextLayerMode.ENABLE||(t.textLayerMode=r.TextLayerMode.ENABLE_PERMISSIONS);e.includes(n.PermissionFlag.MODIFY_CONTENTS)||(t.annotationEditorMode=n.AnnotationEditorType.DISABLE);e.includes(n.PermissionFlag.MODIFY_ANNOTATIONS)||e.includes(n.PermissionFlag.FILL_INTERACTIVE_FORMS)||_classPrivateFieldGet(this,_)!==n.AnnotationMode.ENABLE_FORMS||(t.annotationMode=n.AnnotationMode.ENABLE);return t}function _onePageRenderedOrForceFetch2(){const e=this.container.ownerDocument;if("hidden"===e.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const t=new Promise((t=>{_classPrivateFieldSet(this,T,(()=>{if("hidden"===e.visibilityState){t();e.removeEventListener("visibilitychange",_classPrivateFieldGet(this,T));_classPrivateFieldSet(this,T,null)}}));e.addEventListener("visibilitychange",_classPrivateFieldGet(this,T))}));return Promise.race([this._onePageRenderedCapability.promise,t])}function _copyCallback2(e,t){const i=this.container.ownerDocument.getSelection(),{focusNode:n,anchorNode:s}=i;if(s&&n&&i.containsNode(_classPrivateFieldGet(this,S))){if(_classPrivateFieldGet(this,b)||e===r.TextLayerMode.ENABLE_PERMISSIONS){t.preventDefault();t.stopPropagation();return}_classPrivateFieldSet(this,b,!0);const i=this.container.style.cursor;this.container.style.cursor="wait";const interruptCopy=e=>_classPrivateFieldSet(this,y,"Escape"===e.key);activeWindow.addEventListener("keydown",interruptCopy);this.getAllText().then((async e=>{null!==e&&await navigator.clipboard.writeText(e)})).catch((e=>{console.warn("Something goes wrong when extracting the text: ".concat(e.message))})).finally((()=>{_classPrivateFieldSet(this,b,!1);_classPrivateFieldSet(this,y,!1);activeWindow.removeEventListener("keydown",interruptCopy);this.container.style.cursor=i}));t.preventDefault();t.stopPropagation()}}function _ensurePageViewVisible2(){if(this._scrollMode!==r.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const e=this._currentPageNumber,t=_classPrivateFieldGet(this,I),i=this.viewer;i.textContent="";t.pages.length=0;if(this._spreadMode!==r.SpreadMode.NONE||this.isInPresentationMode){const n=new Set,r=this._spreadMode-1;if(-1===r)n.add(e-1);else if(e%2!==r){n.add(e-1);n.add(e)}else{n.add(e-2);n.add(e-1)}const s=document.createElement("div");s.className="spread";if(this.isInPresentationMode){const e=document.createElement("div");e.className="dummyPage";s.append(e)}for(const e of n){const i=this._pages[e];if(i){s.append(i.div);t.pages.push(i)}}i.append(s)}else{const n=this._pages[e-1];i.append(n.div);t.pages.push(n)}t.scrollDown=e>=t.previousPageNumber;t.previousPageNumber=e}function _scrollIntoView2(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const{div:i,id:n}=e;this._currentPageNumber!==n&&this._setCurrentPageNumber(n);if(this._scrollMode===r.ScrollMode.PAGE){_classPrivateMethodGet(this,V,_ensurePageViewVisible2).call(this);this.update()}if(!t&&!this.isInPresentationMode){const e=i.offsetLeft+i.clientLeft,n=e+i.clientWidth,{scrollLeft:s,clientWidth:a}=this.container;(this._scrollMode===r.ScrollMode.HORIZONTAL||e<s||n>s+a)&&(t={left:0,top:0})}(0,r.scrollIntoView)(i,t);!this._currentScaleValue&&this._location&&(this._location=null)}function _isSameScale2(e){return e===this._currentScale||Math.abs(e-this._currentScale)<1e-15}function _setScaleUpdatePages2(e,t,i){let{noScroll:r=!1,preset:s=!1,drawingDelay:a=-1}=i;this._currentScaleValue=t.toString();if(_classPrivateMethodGet(this,N,_isSameScale2).call(this,e)){s&&this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:t});return}this.viewer.style.setProperty("--scale-factor",e*n.PixelsPerInch.PDF_TO_CSS_UNITS);const o=a>=0&&a<1e3;this.refresh(!0,{scale:e,drawingDelay:o?a:-1});o&&_classPrivateFieldSet(this,C,activeWindow.setTimeout((()=>{_classPrivateFieldSet(this,C,null);this.refresh()}),a));this._currentScale=e;if(!r){let e,t=this._currentPageNumber;if(this._location&&!this.isInPresentationMode&&!this.isChangingPresentationMode){t=this._location.pageNumber;e=[null,{name:"XYZ"},this._location.left,this._location.top,null]}this.scrollPageIntoView({pageNumber:t,destArray:e,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:s?t:void 0});this.defaultRenderingQueue&&this.update()}function _get_pageWidthScaleFactor(){return this._spreadMode!==r.SpreadMode.NONE&&this._scrollMode!==r.ScrollMode.HORIZONTAL?2:1}function _setScale2(e,t){let i=parseFloat(e);if(i>0){t.preset=!1;_classPrivateMethodGet(this,R,_setScaleUpdatePages2).call(this,i,e,t)}else{const n=this._pages[this._currentPageNumber-1];if(!n)return;let s=r.SCROLLBAR_PADDING,a=r.VERTICAL_PADDING;if(this.isInPresentationMode){s=a=4;this._spreadMode!==r.SpreadMode.NONE&&(s*=2)}else this.removePageBorders?s=a=0:this._scrollMode===r.ScrollMode.HORIZONTAL&&([s,a]=[a,s]);const o=(this.container.clientWidth-s)/n.width*n.scale/_classPrivateFieldGet(this,B),l=(this.container.clientHeight-a)/n.height*n.scale;switch(e){case"page-actual":i=1;break;case"page-width":i=o;break;case"page-height":i=l;break;case"page-fit":i=Math.min(o,l);break;case"auto":const t=(0,r.isPortraitOrientation)(n)?o:Math.min(l,o);i=Math.min(r.MAX_AUTO_SCALE,t);break;default:console.error('#setScale: "'.concat(e,'" is an unknown zoom value.'));return}t.preset=!0;_classPrivateMethodGet(this,R,_setScaleUpdatePages2).call(this,i,e,t)}}function _resetCurrentPageView2(){const e=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&_classPrivateMethodGet(this,G,_setScale2).call(this,this._currentScaleValue,{noScroll:!0});_classPrivateMethodGet(this,O,_scrollIntoView2).call(this,e)}async function _ensurePdfPageLoaded2(e){if(e.pdfPage)return e.pdfPage;try{var t,i;const n=await this.pdfDocument.getPage(e.id);e.pdfPage||e.setPdfPage(n);null!==(t=(i=this.linkService)._cachedPageNumber)&&void 0!==t&&t.call(i,n.ref)||this.linkService.cachePageRef(e.id,n.ref);return n}catch(e){String(e).contains("destroyed")||console.error("Unable to get page for page view",e);return null}}function _getScrollAhead2(e){var t,i;if(1===(null===(t=e.first)||void 0===t?void 0:t.id))return!0;if((null===(i=e.last)||void 0===i?void 0:i.id)===this.pagesCount)return!1;switch(this._scrollMode){case r.ScrollMode.PAGE:return _classPrivateFieldGet(this,I).scrollDown;case r.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}function _updateContainerHeightCss2(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.container.clientHeight;e!==_classPrivateFieldGet(this,E)&&_classPrivateFieldSet(this,E,e)}function _resizeObserverCallback2(e){for(const t of e)if(t.target===this.container){_classPrivateMethodGet(this,z,_updateContainerHeightCss2).call(this,Math.floor(t.borderBoxSize[0].blockSize));_classPrivateFieldSet(this,w,null);break}}},(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NullL10n=void 0;t.getL10nFallback=getL10nFallback;i(123);i(135);const n={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} Ã {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} Ã {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typingâ¦",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",print_progress_percent:"{{progress}}%"};function getL10nFallback(e,t){switch(e){case"find_match_count":e="find_match_count[".concat(1===t.total?"one":"other","]");break;case"find_match_count_limit":e="find_match_count_limit[".concat(1===t.limit?"one":"other","]")}return n[e]||""}const r={getLanguage:async()=>"en-us",getDirection:async()=>"ltr",async get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function formatL10nValue(e,t){return t?e.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,((e,i)=>i in t?t[i]:"{{"+i+"}}")):e}(arguments.length>2&&void 0!==arguments[2]?arguments[2]:getL10nFallback(e,t),t)},async translate(e){}};t.NullL10n=r},(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PDFPageView=void 0;i(1);i(96);var n=i(176),r=i(106),s=i(212),a=i(213),o=i(177),l=i(210),c=(i(179),i(214)),d=i(215),h=i(216),u=i(217),p=i(218);function _classPrivateMethodInitSpec(e,t){_checkPrivateRedeclaration(e,t);t.add(e)}function _classPrivateFieldInitSpec(e,t,i){_checkPrivateRedeclaration(e,t);t.set(e,i)}function _checkPrivateRedeclaration(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldGet(e,t){return function _classApplyDescriptorGet(e,t){if(t.get)return t.get.call(e);return t.value}(e,_classExtractFieldDescriptor(e,t,"get"))}function _classPrivateMethodGet(e,t,i){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return i}function _classPrivateFieldSet(e,t,i){!function _classApplyDescriptorSet(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=i}}(e,_classExtractFieldDescriptor(e,t,"set"),i);return i}function _classExtractFieldDescriptor(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}const f=o.compatibilityParams.maxCanvasPixels||16777216,DEFAULT_LAYER_PROPERTIES=()=>null;var g=new WeakMap,v=new WeakMap,_=new WeakMap,w=new WeakMap,m=new WeakMap,P=new WeakMap,b=new WeakMap,S=new WeakMap,y=new WeakMap,E=new WeakSet,M=new WeakSet,I=new WeakSet,T=new WeakSet,C=new WeakSet,L=new WeakSet,k=new WeakSet,x=new WeakSet;t.PDFPageView=class PDFPageView{constructor(e){var t,i,s,a;_classPrivateMethodInitSpec(this,x);_classPrivateMethodInitSpec(this,k);_classPrivateMethodInitSpec(this,L);_classPrivateMethodInitSpec(this,C);_classPrivateMethodInitSpec(this,T);_classPrivateMethodInitSpec(this,I);_classPrivateMethodInitSpec(this,M);_classPrivateMethodInitSpec(this,E);_classPrivateFieldInitSpec(this,g,{writable:!0,value:n.AnnotationMode.ENABLE_FORMS});_classPrivateFieldInitSpec(this,v,{writable:!0,value:null});_classPrivateFieldInitSpec(this,_,{writable:!0,value:null});_classPrivateFieldInitSpec(this,w,{writable:!0,value:null});_classPrivateFieldInitSpec(this,m,{writable:!0,value:null});_classPrivateFieldInitSpec(this,P,{writable:!0,value:r.RenderingStates.INITIAL});_classPrivateFieldInitSpec(this,b,{writable:!0,value:r.TextLayerMode.ENABLE});_classPrivateFieldInitSpec(this,S,{writable:!0,value:{directDrawing:!0,initialOptionalContent:!0,regularAnnotations:!0}});_classPrivateFieldInitSpec(this,y,{writable:!0,value:new WeakMap});const o=e.container,c=e.defaultViewport;this.id=e.id;this.renderingId="page"+this.id;_classPrivateFieldSet(this,v,e.layerProperties||DEFAULT_LAYER_PROPERTIES);this.pdfPage=null;this.pageLabel=null;this.rotation=0;this.scale=e.scale||r.DEFAULT_SCALE;this.viewport=c;this.pdfPageRotate=c.rotation;this._optionalContentConfigPromise=e.optionalContentConfigPromise||null;this.hasRestrictedScaling=!1;_classPrivateFieldSet(this,b,null!==(t=e.textLayerMode)&&void 0!==t?t:r.TextLayerMode.ENABLE);_classPrivateFieldSet(this,g,null!==(i=e.annotationMode)&&void 0!==i?i:n.AnnotationMode.ENABLE_FORMS);this.imageResourcesPath=e.imageResourcesPath||"";this.useOnlyCssZoom=e.useOnlyCssZoom||!1;this.isOffscreenCanvasSupported=null===(s=e.isOffscreenCanvasSupported)||void 0===s||s;this.maxCanvasPixels=e.maxCanvasPixels||f;this.pageColors=e.pageColors||null;this.pageBackground=e.pageBackground||null;this.pageInvert=e.pageInvert||!1;this.eventBus=e.eventBus;this.renderingQueue=e.renderingQueue;this.l10n=e.l10n||l.NullL10n;this.renderTask=null;this.resume=null;this._isStandalone=!(null!==(a=this.renderingQueue)&&void 0!==a&&a.hasViewer());this._container=o;this._annotationCanvasMap=null;this.annotationLayer=null;this.annotationEditorLayer=null;this.textLayer=null;this.zoomLayer=null;this.xfaLayer=null;this.structTreeLayer=null;const d=((null==o?void 0:o.ownerDocument)||document).createElement("div");d.className="page";d.setAttribute("data-page-number",this.id);d.setAttribute("role","region");this.div=d;_classPrivateMethodGet(this,E,_setDimensions2).call(this);null==o||o.append(d);if(this._isStandalone){null==o||o.style.setProperty("--scale-factor",this.scale*n.PixelsPerInch.PDF_TO_CSS_UNITS);const{optionalContentConfigPromise:t}=e;t&&t.then((e=>{t===this._optionalContentConfigPromise&&(_classPrivateFieldGet(this,S).initialOptionalContent=e.hasInitialVisibility)}))}}get renderingState(){return _classPrivateFieldGet(this,P)}set renderingState(e){if(e!==_classPrivateFieldGet(this,P)){_classPrivateFieldSet(this,P,e);if(_classPrivateFieldGet(this,_)){activeWindow.clearTimeout(_classPrivateFieldGet(this,_));_classPrivateFieldSet(this,_,null)}switch(e){case r.RenderingStates.PAUSED:this.div.classList.remove("loading");break;case r.RenderingStates.RUNNING:this.div.classList.add("loadingIcon");_classPrivateFieldSet(this,_,activeWindow.setTimeout((()=>{this.div.classList.add("loading");_classPrivateFieldSet(this,_,null)}),0));break;case r.RenderingStates.INITIAL:case r.RenderingStates.FINISHED:this.div.classList.remove("loadingIcon","loading")}}}setPdfPage(e){var t,i;if(this._isStandalone&&("CanvasText"===(null===(t=this.pageColors)||void 0===t?void 0:t.foreground)||"Canvas"===(null===(i=this.pageColors)||void 0===i?void 0:i.background))){var r;null===(r=this._container)||void 0===r||r.style.setProperty("--hcm-highligh-filter",e.filterFactory.addHighlightHCMFilter("CanvasText","Canvas","HighlightText","Highlight"))}this.pdfPage=e;this.pdfPageRotate=e.rotate;const s=(this.rotation+this.pdfPageRotate)%360;this.viewport=e.getViewport({scale:this.scale*n.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:s});_classPrivateMethodGet(this,E,_setDimensions2).call(this);this.reset()}destroy(){var e;this.reset();null===(e=this.pdfPage)||void 0===e||e.cleanup()}get _textHighlighter(){return(0,n.shadow)(this,"_textHighlighter",new h.TextHighlighter({pageIndex:this.id-1,eventBus:this.eventBus,findController:_classPrivateFieldGet(this,v).call(this).findController}))}_resetZoomLayer(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.zoomLayer)return;const t=this.zoomLayer.firstChild;_classPrivateFieldGet(this,y).delete(t);t.width=0;t.height=0;e&&this.zoomLayer.remove();this.zoomLayer=null}reset(){var e,t,i,n,s;let{keepZoomLayer:a=!1,keepAnnotationLayer:o=!1,keepAnnotationEditorLayer:l=!1,keepXfaLayer:c=!1,keepTextLayer:d=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.cancelRendering({keepAnnotationLayer:o,keepAnnotationEditorLayer:l,keepXfaLayer:c,keepTextLayer:d});this.renderingState=r.RenderingStates.INITIAL;const h=this.div,u=h.childNodes,p=a&&this.zoomLayer||null,f=o&&(null===(e=this.annotationLayer)||void 0===e?void 0:e.div)||null,g=l&&(null===(t=this.annotationEditorLayer)||void 0===t?void 0:t.div)||null,v=c&&(null===(i=this.xfaLayer)||void 0===i?void 0:i.div)||null,_=d&&(null===(n=this.textLayer)||void 0===n?void 0:n.div)||null;for(let e=u.length-1;e>=0;e--){const t=u[e];switch(t){case p:case f:case g:case v:case _:continue}t.remove()}h.removeAttribute("data-loaded");f&&this.annotationLayer.hide();g&&this.annotationEditorLayer.hide();v&&this.xfaLayer.hide();_&&this.textLayer.hide();null===(s=this.structTreeLayer)||void 0===s||s.hide();if(!p){if(this.canvas){_classPrivateFieldGet(this,y).delete(this.canvas);this.canvas.width=0;this.canvas.height=0;delete this.canvas}this._resetZoomLayer()}}update(e){let{scale:t=0,rotation:i=null,optionalContentConfigPromise:s=null,drawingDelay:a=-1}=e;this.scale=t||this.scale;"number"==typeof i&&(this.rotation=i);if(s instanceof Promise){this._optionalContentConfigPromise=s;s.then((e=>{s===this._optionalContentConfigPromise&&(_classPrivateFieldGet(this,S).initialOptionalContent=e.hasInitialVisibility)}))}_classPrivateFieldGet(this,S).directDrawing=!0;const o=(this.rotation+this.pdfPageRotate)%360;this.viewport=this.viewport.clone({scale:this.scale*n.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:o});_classPrivateMethodGet(this,E,_setDimensions2).call(this);if(this._isStandalone){var l;null===(l=this._container)||void 0===l||l.style.setProperty("--scale-factor",this.viewport.scale)}let c=!1;if(this.canvas&&this.maxCanvasPixels>0){const{width:e,height:t}=this.viewport,{sx:i,sy:n}=this.outputScale;(Math.floor(e)*i|0)*(Math.floor(t)*n|0)>this.maxCanvasPixels&&(c=!0)}const d=this.useOnlyCssZoom||this.hasRestrictedScaling&&c,h=!d&&a>=0&&a<1e3;if(this.canvas){if(h||d){if(h&&this.renderingState!==r.RenderingStates.FINISHED){this.cancelRendering({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:a});this.renderingState=r.RenderingStates.FINISHED;_classPrivateFieldGet(this,S).directDrawing=!1}this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!h,hideTextLayer:h});if(h)return;this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:_classPrivateFieldGet(this,m)});return}if(!this.zoomLayer&&!this.canvas.hidden){this.zoomLayer=this.canvas.parentNode;this.zoomLayer.style.position="absolute"}}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild});this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0})}cancelRendering(){let{keepAnnotationLayer:e=!1,keepAnnotationEditorLayer:t=!1,keepXfaLayer:i=!1,keepTextLayer:n=!1,cancelExtraDelay:r=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.renderTask){this.renderTask.cancel(r);this.renderTask=null}this.resume=null;if(this.textLayer&&(!n||!this.textLayer.div)){this.textLayer.cancel();this.textLayer=null}this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null);if(this.annotationLayer&&(!e||!this.annotationLayer.div)){this.annotationLayer.cancel();this.annotationLayer=null;this._annotationCanvasMap=null}if(this.annotationEditorLayer&&(!t||!this.annotationEditorLayer.div)){this.annotationEditorLayer.cancel();this.annotationEditorLayer=null}if(this.xfaLayer&&(!i||!this.xfaLayer.div)){var s;this.xfaLayer.cancel();this.xfaLayer=null;null===(s=this._textHighlighter)||void 0===s||s.disable()}}cssTransform(e){let{target:t,redrawAnnotationLayer:i=!1,redrawAnnotationEditorLayer:n=!1,redrawXfaLayer:r=!1,redrawTextLayer:s=!1,hideTextLayer:a=!1}=e;if(!t.hasAttribute("zooming")){t.setAttribute("zooming",!0);const{style:e}=t;e.width=e.height=""}const o=_classPrivateFieldGet(this,y).get(t);if(this.viewport!==o){const e=this.viewport.rotation-o.rotation,i=Math.abs(e);let n=1,r=1;if(90===i||270===i){const{width:e,height:t}=this.viewport;n=t/e;r=e/t}t.style.transform="rotate(".concat(e,"deg) scale(").concat(n,", ").concat(r,")")}i&&this.annotationLayer&&_classPrivateMethodGet(this,M,_renderAnnotationLayer2).call(this);n&&this.annotationEditorLayer&&_classPrivateMethodGet(this,I,_renderAnnotationEditorLayer2).call(this);r&&this.xfaLayer&&_classPrivateMethodGet(this,T,_renderXfaLayer2).call(this);if(this.textLayer)if(a){var l;this.textLayer.hide();null===(l=this.structTreeLayer)||void 0===l||l.hide()}else s&&_classPrivateMethodGet(this,C,_renderTextLayer2).call(this)}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(e,t){return this.viewport.convertToPdfPoint(e,t)}async draw(){if(this.renderingState!==r.RenderingStates.INITIAL){console.error("Must be in new state before drawing");this.reset()}const{div:e,l10n:t,pageColors:i,pdfPage:o,viewport:l}=this;if(!o){this.renderingState=r.RenderingStates.FINISHED;throw new Error("pdfPage is not loaded")}this.renderingState=r.RenderingStates.RUNNING;const c=this.div.ownerDocument.createElement("div");c.classList.add("canvasWrapper");e.append(c);if(!this.textLayer&&_classPrivateFieldGet(this,b)!==r.TextLayerMode.DISABLE&&!o.isPureXfa){this._accessibilityManager||(this._accessibilityManager=new d.TextAccessibilityManager(e));this.textLayer=new u.TextLayerBuilder({highlighter:this._textHighlighter,accessibilityManager:this._accessibilityManager,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported,enablePermissions:_classPrivateFieldGet(this,b)===r.TextLayerMode.ENABLE_PERMISSIONS});e.append(this.textLayer.div)}if(!this.annotationLayer&&_classPrivateFieldGet(this,g)!==n.AnnotationMode.DISABLE){const{annotationStorage:i,downloadManager:r,enableScripting:s,fieldObjectsPromise:l,hasJSActionsPromise:c,linkService:d}=_classPrivateFieldGet(this,v).call(this);this._annotationCanvasMap||(this._annotationCanvasMap=new Map);this.annotationLayer=new a.AnnotationLayerBuilder({pageDiv:e,pdfPage:o,annotationStorage:i,imageResourcesPath:this.imageResourcesPath,renderForms:_classPrivateFieldGet(this,g)===n.AnnotationMode.ENABLE_FORMS,linkService:d,downloadManager:r,l10n:t,enableScripting:s,hasJSActionsPromise:c,fieldObjectsPromise:l,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager})}const{width:h,height:f}=l,_=this.div.ownerDocument.createElement("canvas");_.setAttribute("role","presentation");_.hidden=!0;const w=!(null==i||!i.background||null==i||!i.foreground);let showCanvas=e=>{if(!w||e){_.hidden=!1;showCanvas=null}};c.append(_);this.canvas=_;const m=_.getContext("2d",{alpha:!1}),P=this.outputScale=new r.OutputScale;if(this.useOnlyCssZoom){const e=l.clone({scale:n.PixelsPerInch.PDF_TO_CSS_UNITS});P.sx*=e.width/h;P.sy*=e.height/f}if(this.maxCanvasPixels>0){const e=h*f,t=Math.sqrt(this.maxCanvasPixels/e);if(P.sx>t||P.sy>t){P.sx=t;P.sy=t;this.hasRestrictedScaling=!0}else this.hasRestrictedScaling=!1}const S=(0,r.approximateFraction)(P.sx),E=(0,r.approximateFraction)(P.sy);_.width=(0,r.roundToDivide)(h*P.sx,S[0]);_.height=(0,r.roundToDivide)(f*P.sy,E[0]);const{style:L}=_;if(CSS.supports("zoom",1)){const{pageWidth:e,pageHeight:t}=l.rawDims;if(l.rotation%180==0){L.width=e+"px";L.height=t+"px"}else{L.width=t+"px";L.height=e+"px"}L.zoom="var(--scale-factor)"}else{L.width=(0,r.roundToDivide)(h,S[1])+"px";L.height=(0,r.roundToDivide)(f,E[1])+"px"}_classPrivateFieldGet(this,y).set(_,l);const k={canvasContext:m,transform:P.scaled?[P.sx,0,0,P.sy,0,0]:null,viewport:l,annotationMode:_classPrivateFieldGet(this,g),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:i,background:this.pageBackground,invert:this.pageInvert},D=this.renderTask=this.pdfPage.render(k);D.onContinue=e=>{var t;null===(t=showCanvas)||void 0===t||t(!1);if(!this.renderingQueue||this.renderingQueue.isHighestPriority(this))e();else{this.renderingState=r.RenderingStates.PAUSED;this.resume=()=>{this.renderingState=r.RenderingStates.RUNNING;e()}}};const A=D.promise.then((async()=>{var i;null===(i=showCanvas)||void 0===i||i(!0);await _classPrivateMethodGet(this,x,_finishRenderTask2).call(this,D);_classPrivateMethodGet(this,C,_renderTextLayer2).call(this);this.annotationLayer&&await _classPrivateMethodGet(this,M,_renderAnnotationLayer2).call(this);if(!this.annotationEditorLayer){var n;const{annotationEditorUIManager:i}=_classPrivateFieldGet(this,v).call(this);if(!i)return;this.annotationEditorLayer=new s.AnnotationEditorLayerBuilder({uiManager:i,pageDiv:e,pdfPage:o,l10n:t,accessibilityManager:this._accessibilityManager,annotationLayer:null===(n=this.annotationLayer)||void 0===n?void 0:n.annotationLayer})}_classPrivateMethodGet(this,I,_renderAnnotationEditorLayer2).call(this)}),(e=>{if(!(e instanceof n.RenderingCancelledException)){var t;null===(t=showCanvas)||void 0===t||t(!0)}return _classPrivateMethodGet(this,x,_finishRenderTask2).call(this,D,e)}));if(o.isPureXfa){if(this.xfaLayer)this.xfaLayer.div&&e.append(this.xfaLayer.div);else{const{annotationStorage:t,linkService:i}=_classPrivateFieldGet(this,v).call(this);this.xfaLayer=new p.XfaLayerBuilder({pageDiv:e,pdfPage:o,annotationStorage:t,linkService:i})}_classPrivateMethodGet(this,T,_renderXfaLayer2).call(this)}e.setAttribute("data-loaded",!0);this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id});return A}setPageLabel(e){this.pageLabel="string"==typeof e?e:null;null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{directDrawing:e,initialOptionalContent:t,regularAnnotations:i}=_classPrivateFieldGet(this,S);return e&&t&&i?this.canvas:null}};function _setDimensions2(){const{viewport:e}=this;if(this.pdfPage){if(_classPrivateFieldGet(this,w)===e.rotation)return;_classPrivateFieldSet(this,w,e.rotation)}(0,n.setLayerDimensions)(this.div,e,!0,!1)}async function _renderAnnotationLayer2(){let e=null;try{await this.annotationLayer.render(this.viewport,"display")}catch(t){console.error('#renderAnnotationLayer: "'.concat(t,'".'));e=t}finally{this.eventBus.dispatch("annotationlayerrendered",{source:this,pageNumber:this.id,error:e})}}async function _renderAnnotationEditorLayer2(){let e=null;try{await this.annotationEditorLayer.render(this.viewport,"display")}catch(t){console.error('#renderAnnotationEditorLayer: "'.concat(t,'".'));e=t}finally{this.eventBus.dispatch("annotationeditorlayerrendered",{source:this,pageNumber:this.id,error:e})}}async function _renderXfaLayer2(){let e=null;try{const e=await this.xfaLayer.render(this.viewport,"display");null!=e&&e.textDivs&&this._textHighlighter&&_classPrivateMethodGet(this,k,_buildXfaTextContentItems2).call(this,e.textDivs)}catch(t){console.error('#renderXfaLayer: "'.concat(t,'".'));e=t}finally{this.eventBus.dispatch("xfalayerrendered",{source:this,pageNumber:this.id,error:e})}}async function _renderTextLayer2(){const{pdfPage:e,textLayer:t,viewport:i}=this;if(!t)return;let r=null;try{if(!t.renderingDone){const i=e.streamTextContent({includeMarkedContent:!0,disableNormalization:!0,includeChars:!0});t.setTextContentSource(i)}await t.render(i)}catch(e){if(e instanceof n.AbortException)return;console.error('#renderTextLayer: "'.concat(e,'".'));r=e}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.id,numTextDivs:t.numTextDivs,error:r});_classPrivateMethodGet(this,L,_renderStructTreeLayer2).call(this)}async function _renderStructTreeLayer2(){var e,t;if(!this.textLayer)return;this.structTreeLayer||(this.structTreeLayer=new c.StructTreeLayerBuilder);const i=await(this.structTreeLayer.renderingDone?null:this.pdfPage.getStructTree()),n=null===(e=this.structTreeLayer)||void 0===e?void 0:e.render(i);if(n){var r;null===(r=this.canvas)||void 0===r||r.append(n)}null===(t=this.structTreeLayer)||void 0===t||t.show()}async function _buildXfaTextContentItems2(e){const t=await this.pdfPage.getTextContent();this._textHighlighter.setTextMapping(e,t.items);this._textHighlighter.enable()}async function _finishRenderTask2(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e===this.renderTask&&(this.renderTask=null);if(t instanceof n.RenderingCancelledException)_classPrivateFieldSet(this,m,null);else{_classPrivateFieldSet(this,m,t);this.renderingState=r.RenderingStates.FINISHED;this._resetZoomLayer(!0);_classPrivateFieldGet(this,S).regularAnnotations=!e.separateAnnots;this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!1,timestamp:performance.now(),error:_classPrivateFieldGet(this,m)});if(t)throw t}}},(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AnnotationEditorLayerBuilder=void 0;i(96);i(1);var n=i(176),r=i(210);function _classPrivateFieldInitSpec(e,t,i){!function _checkPrivateRedeclaration(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t);t.set(e,i)}function _classPrivateFieldGet(e,t){return function _classApplyDescriptorGet(e,t){if(t.get)return t.get.call(e);return t.value}(e,_classExtractFieldDescriptor(e,t,"get"))}function _classPrivateFieldSet(e,t,i){!function _classApplyDescriptorSet(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=i}}(e,_classExtractFieldDescriptor(e,t,"set"),i);return i}function _classExtractFieldDescriptor(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}var s=new WeakMap,a=new WeakMap;t.AnnotationEditorLayerBuilder=class AnnotationEditorLayerBuilder{constructor(e){_classPrivateFieldInitSpec(this,s,{writable:!0,value:null});_classPrivateFieldInitSpec(this,a,{writable:!0,value:void 0});this.pageDiv=e.pageDiv;this.pdfPage=e.pdfPage;this.accessibilityManager=e.accessibilityManager;this.l10n=e.l10n||r.NullL10n;this.annotationEditorLayer=null;this.div=null;this._cancelled=!1;_classPrivateFieldSet(this,a,e.uiManager);_classPrivateFieldSet(this,s,e.annotationLayer||null)}async render(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"display";if("display"!==t)return;if(this._cancelled)return;const i=e.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:i});this.show();return}const r=this.div=document.createElement("div");r.className="annotationEditorLayer";r.tabIndex=0;r.hidden=!0;this.pageDiv.append(r);this.annotationEditorLayer=new n.AnnotationEditorLayer({uiManager:_classPrivateFieldGet(this,a),div:r,accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage.pageNumber-1,l10n:this.l10n,viewport:i,annotationLayer:_classPrivateFieldGet(this,s)});const o={viewport:i,div:r,annotations:null,intent:t};this.annotationEditorLayer.render(o);this.show()}cancel(){this._cancelled=!0;if(this.div){this.pageDiv=null;this.annotationEditorLayer.destroy();this.div.remove()}}hide(){this.div&&(this.div.hidden=!0)}show(){this.div&&!this.annotationEditorLayer.isEmpty&&(this.div.hidden=!1)}}},(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AnnotationLayerBuilder=void 0;i(1);i(96);var n=i(176),r=i(210),s=i(106);function _checkPrivateRedeclaration(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldSet(e,t,i){!function _classApplyDescriptorSet(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=i}}(e,_classExtractFieldDescriptor(e,t,"set"),i);return i}function _classPrivateFieldGet(e,t){return function _classApplyDescriptorGet(e,t){if(t.get)return t.get.call(e);return t.value}(e,_classExtractFieldDescriptor(e,t,"get"))}function _classExtractFieldDescriptor(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}function _classPrivateMethodGet(e,t,i){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return i}var a=new WeakMap,o=new WeakSet;t.AnnotationLayerBuilder=class AnnotationLayerBuilder{constructor(e){let{pageDiv:t,pdfPage:i,linkService:n,downloadManager:s,annotationStorage:l=null,imageResourcesPath:c="",renderForms:d=!0,l10n:h=r.NullL10n,enableScripting:u=!1,hasJSActionsPromise:p=null,fieldObjectsPromise:f=null,annotationCanvasMap:g=null,accessibilityManager:v=null}=e;!function _classPrivateMethodInitSpec(e,t){_checkPrivateRedeclaration(e,t);t.add(e)}(this,o);!function _classPrivateFieldInitSpec(e,t,i){_checkPrivateRedeclaration(e,t);t.set(e,i)}(this,a,{writable:!0,value:null});this.pageDiv=t;this.pdfPage=i;this.linkService=n;this.downloadManager=s;this.imageResourcesPath=c;this.renderForms=d;this.l10n=h;this.annotationStorage=l;this.enableScripting=u;this._hasJSActionsPromise=p||Promise.resolve(!1);this._fieldObjectsPromise=f||Promise.resolve(null);this._annotationCanvasMap=g;this._accessibilityManager=v;this.annotationLayer=null;this.div=null;this._cancelled=!1;this._eventBus=n.eventBus}async render(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"display";if(this.div){if(this._cancelled||!this.annotationLayer)return;this.annotationLayer.update({viewport:e.clone({dontFlip:!0})});return}const[i,r,l]=await Promise.all([this.pdfPage.getAnnotations({intent:t}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled)return;const c=this.div=document.createElement("div");c.className="annotationLayer";this.pageDiv.append(c);if(0!==i.length){this.annotationLayer=new n.AnnotationLayer({div:c,accessibilityManager:this._accessibilityManager,annotationCanvasMap:this._annotationCanvasMap,l10n:this.l10n,page:this.pdfPage,viewport:e.clone({dontFlip:!0})});await this.annotationLayer.render({annotations:i,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,linkService:this.linkService,downloadManager:this.downloadManager,annotationStorage:this.annotationStorage,enableScripting:this.enableScripting,hasJSActions:r,fieldObjects:l});this.linkService.isInPresentationMode&&_classPrivateMethodGet(this,o,_updatePresentationModeState2).call(this,s.PresentationModeState.FULLSCREEN);if(!_classPrivateFieldGet(this,a)){var d;_classPrivateFieldSet(this,a,(e=>{_classPrivateMethodGet(this,o,_updatePresentationModeState2).call(this,e.state)}));null===(d=this._eventBus)||void 0===d||d._on("presentationmodechanged",_classPrivateFieldGet(this,a))}}else this.hide()}cancel(){this._cancelled=!0;if(_classPrivateFieldGet(this,a)){var e;null===(e=this._eventBus)||void 0===e||e._off("presentationmodechanged",_classPrivateFieldGet(this,a));_classPrivateFieldSet(this,a,null)}}hide(){this.div&&(this.div.hidden=!0)}};function _updatePresentationModeState2(e){if(!this.div)return;let t=!1;switch(e){case s.PresentationModeState.FULLSCREEN:t=!0;break;case s.PresentationModeState.NORMAL:break;default:return}for(const e of this.div.childNodes)e.hasAttribute("data-internal-link")||(e.inert=t)}},(e,t,i)=>{"use strict";i(96);Object.defineProperty(t,"__esModule",{value:!0});t.StructTreeLayerBuilder=void 0;i(1);function _classPrivateMethodInitSpec(e,t){_checkPrivateRedeclaration(e,t);t.add(e)}function _checkPrivateRedeclaration(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldSet(e,t,i){!function _classApplyDescriptorSet(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=i}}(e,_classExtractFieldDescriptor(e,t,"set"),i);return i}function _classPrivateMethodGet(e,t,i){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return i}function _classPrivateFieldGet(e,t){return function _classApplyDescriptorGet(e,t){if(t.get)return t.get.call(e);return t.value}(e,_classExtractFieldDescriptor(e,t,"get"))}function _classExtractFieldDescriptor(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}const n={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},r=/^H(\d+)$/;var s=new WeakMap,a=new WeakSet,o=new WeakSet;t.StructTreeLayerBuilder=class StructTreeLayerBuilder{constructor(){_classPrivateMethodInitSpec(this,o);_classPrivateMethodInitSpec(this,a);!function _classPrivateFieldInitSpec(e,t,i){_checkPrivateRedeclaration(e,t);t.set(e,i)}(this,s,{writable:!0,value:void 0})}get renderingDone(){return void 0!==_classPrivateFieldGet(this,s)}render(e){if(void 0!==_classPrivateFieldGet(this,s))return _classPrivateFieldGet(this,s);const t=_classPrivateMethodGet(this,o,_walk2).call(this,e);null==t||t.classList.add("structTree");return _classPrivateFieldSet(this,s,t)}hide(){_classPrivateFieldGet(this,s)&&!_classPrivateFieldGet(this,s).hidden&&(_classPrivateFieldGet(this,s).hidden=!0)}show(){var e;null!==(e=_classPrivateFieldGet(this,s))&&void 0!==e&&e.hidden&&(_classPrivateFieldGet(this,s).hidden=!1)}};function _setAttributes2(e,t){void 0!==e.alt&&t.setAttribute("aria-label",e.alt);void 0!==e.id&&t.setAttribute("aria-owns",e.id);void 0!==e.lang&&t.setAttribute("lang",e.lang)}function _walk2(e){if(!e)return null;const t=document.createElement("span");if("role"in e){const{role:i}=e,s=i.match(r);if(s){t.setAttribute("role","heading");t.setAttribute("aria-level",s[1])}else n[i]&&t.setAttribute("role",n[i])}_classPrivateMethodGet(this,a,_setAttributes2).call(this,e,t);if(e.children)if(1===e.children.length&&"id"in e.children[0])_classPrivateMethodGet(this,a,_setAttributes2).call(this,e.children[0],t);else for(const i of e.children)t.append(_classPrivateMethodGet(this,o,_walk2).call(this,i));return t}},(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TextAccessibilityManager=void 0;i(1);i(96);var n=i(106);function _classPrivateFieldInitSpec(e,t,i){_checkPrivateRedeclaration(e,t);t.set(e,i)}function _checkPrivateRedeclaration(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateMethodGet(e,t,i){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return i}function _classStaticPrivateMethodGet(e,t,i){!function _classCheckPrivateStaticAccess(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}(e,t);return i}function _classPrivateFieldGet(e,t){return function _classApplyDescriptorGet(e,t){if(t.get)return t.get.call(e);return t.value}(e,_classExtractFieldDescriptor(e,t,"get"))}function _classPrivateFieldSet(e,t,i){!function _classApplyDescriptorSet(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=i}}(e,_classExtractFieldDescriptor(e,t,"set"),i);return i}function _classExtractFieldDescriptor(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}var r=new WeakMap,s=new WeakMap,a=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakSet;class TextAccessibilityManager{constructor(e){!function _classPrivateMethodInitSpec(e,t){_checkPrivateRedeclaration(e,t);t.add(e)}(this,c);_classPrivateFieldInitSpec(this,r,{writable:!0,value:!1});_classPrivateFieldInitSpec(this,s,{writable:!0,value:null});_classPrivateFieldInitSpec(this,a,{writable:!0,value:new Map});_classPrivateFieldInitSpec(this,o,{writable:!0,value:new Map});_classPrivateFieldInitSpec(this,l,{writable:!0,value:null});_classPrivateFieldSet(this,l,e)}setTextMapping(e){_classPrivateFieldSet(this,s,e)}enable(){if(_classPrivateFieldGet(this,r))throw new Error("TextAccessibilityManager is already enabled.");if(!_classPrivateFieldGet(this,s))throw new Error("Text divs and strings have not been set.");_classPrivateFieldSet(this,r,!0);_classPrivateFieldSet(this,s,_classPrivateFieldGet(this,s).slice());_classPrivateFieldGet(this,s).sort(_classStaticPrivateMethodGet(TextAccessibilityManager,TextAccessibilityManager,_compareElementPositions));if(_classPrivateFieldGet(this,a).size>0){const e=_classPrivateFieldGet(this,s),t=_classPrivateFieldGet(this,l).ownerDocument;for(const[i,n]of _classPrivateFieldGet(this,a)){t.getElementById(i)?_classPrivateMethodGet(this,c,_addIdToAriaOwns2).call(this,i,e[n]):_classPrivateFieldGet(this,a).delete(i)}}for(const[e,t]of _classPrivateFieldGet(this,o))this.addPointerInTextLayer(e,t);_classPrivateFieldGet(this,o).clear()}disable(){if(_classPrivateFieldGet(this,r)){_classPrivateFieldGet(this,o).clear();_classPrivateFieldSet(this,s,null);_classPrivateFieldSet(this,r,!1)}}removePointerInTextLayer(e){var t;if(!_classPrivateFieldGet(this,r)){_classPrivateFieldGet(this,o).delete(e);return}const i=_classPrivateFieldGet(this,s);if(!i||0===i.length)return;const{id:n}=e,l=_classPrivateFieldGet(this,a).get(n);if(void 0===l)return;const c=i[l];_classPrivateFieldGet(this,a).delete(n);let d=c.getAttribute("aria-owns");if(null!==(t=d)&&void 0!==t&&t.includes(n)){d=d.split(" ").filter((e=>e!==n)).join(" ");if(d)c.setAttribute("aria-owns",d);else{c.removeAttribute("aria-owns");c.setAttribute("role","presentation")}}}addPointerInTextLayer(e,t){const{id:i}=e;if(!i)return;if(!_classPrivateFieldGet(this,r)){_classPrivateFieldGet(this,o).set(e,t);return}t&&this.removePointerInTextLayer(e);const l=_classPrivateFieldGet(this,s);if(!l||0===l.length)return;const d=(0,n.binarySearchFirstItem)(l,(t=>_classStaticPrivateMethodGet(TextAccessibilityManager,TextAccessibilityManager,_compareElementPositions).call(TextAccessibilityManager,e,t)<0)),h=Math.max(0,d-1);_classPrivateMethodGet(this,c,_addIdToAriaOwns2).call(this,i,l[h]);_classPrivateFieldGet(this,a).set(i,h)}moveElementInDOM(e,t,i,r){this.addPointerInTextLayer(i,r);if(!e.hasChildNodes()){e.append(t);return}const s=Array.from(e.childNodes).filter((e=>e!==t));if(0===s.length)return;const a=i||t,o=(0,n.binarySearchFirstItem)(s,(e=>_classStaticPrivateMethodGet(TextAccessibilityManager,TextAccessibilityManager,_compareElementPositions).call(TextAccessibilityManager,a,e)<0));0===o?s[0].before(t):s[o-1].after(t)}}t.TextAccessibilityManager=TextAccessibilityManager;function _compareElementPositions(e,t){const i=e.getBoundingClientRect(),n=t.getBoundingClientRect();if(0===i.width&&0===i.height)return 1;if(0===n.width&&0===n.height)return-1;const r=i.y,s=i.y+i.height,a=i.y+i.height/2,o=n.y,l=n.y+n.height,c=n.y+n.height/2;if(a<=o&&c>=s)return-1;if(c<=r&&a>=l)return 1;return i.x+i.width/2-(n.x+n.width/2)}function _addIdToAriaOwns2(e,t){const i=t.getAttribute("aria-owns");null!=i&&i.includes(e)||t.setAttribute("aria-owns",i?"".concat(i," ").concat(e):e);t.removeAttribute("role")}},(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TextHighlighter=void 0;i(96);i(87);i(1);t.TextHighlighter=class TextHighlighter{constructor(e){let{findController:t,eventBus:i,pageIndex:n}=e;this.findController=t;this.matches=[];this.eventBus=i;this.pageIdx=n;this._onUpdateTextLayerMatches=null;this.textDivs=null;this.textContentItems=null;this.enabled=!1}setTextMapping(e,t){this.textDivs=e;this.textContentItems=t}enable(){if(!this.textDivs||!this.textContentItems)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0;if(!this._onUpdateTextLayerMatches){this._onUpdateTextLayerMatches=e=>{e.pageIndex!==this.pageIdx&&-1!==e.pageIndex||this._updateMatches()};this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)}this._updateMatches()}disable(){if(this.enabled){this.enabled=!1;if(this._onUpdateTextLayerMatches){this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches);this._onUpdateTextLayerMatches=null}this._updateMatches(!0)}}_convertMatches(e,t){if(!e)return[];const{textContentItems:i}=this;let n=0,r=0;const s=i.length-1,a=[];for(let o=0,l=e.length;o<l;o++){let l=e[o];for(;n!==s&&l>=r+i[n].str.length;){r+=i[n].str.length;n++}n===i.length&&console.error("Could not find a matching mapping");const c={begin:{divIdx:n,offset:l-r}};l+=t[o];for(;n!==s&&l>r+i[n].str.length;){r+=i[n].str.length;n++}c.end={divIdx:n,offset:l-r};a.push(c)}return a}_renderMatches(e){if(0===e.length)return;const{findController:t,pageIdx:i}=this,{textContentItems:n,textDivs:r}=this,s=i===t.selected.pageIdx,a=t.selected.matchIdx;let o=null;const l={divIdx:-1,offset:void 0};function beginText(e,t){const i=e.divIdx;r[i].textContent="";return appendTextToDiv(i,0,e.offset,t)}function appendTextToDiv(e,t,i,s){let a=r[e];if(a.nodeType===Node.TEXT_NODE){const t=document.createElement("span");a.before(t);t.append(a);r[e]=t;a=t}const o=n[e].str.substring(t,i),l=document.createTextNode(o);if(s){const e=document.createElement("span");e.className="".concat(s," appended");e.append(l);a.append(e);return s.includes("selected")?e.offsetLeft:0}a.append(l);return 0}let c=a,d=c+1;if(t.state.highlightAll){c=0;d=e.length}else if(!s)return;let h=-1,u=-1;for(let n=c;n<d;n++){const c=e[n],d=c.begin;if(d.divIdx===h&&d.offset===u)continue;h=d.divIdx;u=d.offset;const p=c.end,f=s&&n===a,g=f?" selected":"";let v=0;if(o&&d.divIdx===o.divIdx)appendTextToDiv(o.divIdx,o.offset,d.offset);else{null!==o&&appendTextToDiv(o.divIdx,o.offset,l.offset);beginText(d)}if(d.divIdx===p.divIdx)v=appendTextToDiv(d.divIdx,d.offset,p.offset,"highlight"+g);else{v=appendTextToDiv(d.divIdx,d.offset,l.offset,"highlight begin"+g);for(let e=d.divIdx+1,t=p.divIdx;e<t;e++)r[e].className="highlight middle"+g;beginText(p,"highlight end"+g)}o=p;f&&t.scrollMatchIntoView({element:r[d.divIdx],selectedLeft:v,pageIndex:i,matchIndex:a})}o&&appendTextToDiv(o.divIdx,o.offset,l.offset)}_updateMatches(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.enabled&&!e)return;const{findController:t,matches:i,pageIdx:n}=this,{textContentItems:r,textDivs:s}=this;let a=-1;for(const e of i){for(let t=Math.max(a,e.begin.divIdx),i=e.end.divIdx;t<=i;t++){const e=s[t];e.textContent=r[t].str;e.className=e.classList.contains("textLayerNode")?"textLayerNode":""}a=e.end.divIdx+1}if(null==t||!t.highlightMatches||e)return;const o=t.pageMatches[n]||null,l=t.pageMatchesLength[n]||null;this.matches=this._convertMatches(o,l);this._renderMatches(this.matches)}}},(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TextLayerBuilder=void 0;i(1);i(96);i(175);i(123);i(135);var n=i(176),r=i(106);function _classPrivateMethodInitSpec(e,t){_checkPrivateRedeclaration(e,t);t.add(e)}function _classPrivateFieldInitSpec(e,t,i){_checkPrivateRedeclaration(e,t);t.set(e,i)}function _checkPrivateRedeclaration(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldGet(e,t){return function _classApplyDescriptorGet(e,t){if(t.get)return t.get.call(e);return t.value}(e,_classExtractFieldDescriptor(e,t,"get"))}function _classPrivateMethodGet(e,t,i){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return i}function _classPrivateFieldSet(e,t,i){!function _classApplyDescriptorSet(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=i}}(e,_classExtractFieldDescriptor(e,t,"set"),i);return i}function _classExtractFieldDescriptor(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}var s=new WeakMap,a=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakSet,d=new WeakSet;t.TextLayerBuilder=class TextLayerBuilder{constructor(e){let{highlighter:t=null,accessibilityManager:i=null,isOffscreenCanvasSupported:n=!0,enablePermissions:r=!1}=e;_classPrivateMethodInitSpec(this,d);_classPrivateMethodInitSpec(this,c);_classPrivateFieldInitSpec(this,s,{writable:!0,value:!1});_classPrivateFieldInitSpec(this,a,{writable:!0,value:0});_classPrivateFieldInitSpec(this,o,{writable:!0,value:0});_classPrivateFieldInitSpec(this,l,{writable:!0,value:null});this.textContentItems=[];this.renderingDone=!1;this.textDivs=[];this.textDivProperties=new WeakMap;this.textLayerRenderTask=null;this.highlighter=t;this.accessibilityManager=i;this.isOffscreenCanvasSupported=n;_classPrivateFieldSet(this,s,!0===r);this.div=document.createElement("div");this.div.className="textLayer";this.hide()}get numTextDivs(){return this.textDivs.length}async render(e){var t,i,r;if(!_classPrivateFieldGet(this,l))throw new Error('No "textContentSource" parameter specified.');const s=e.scale*(globalThis.devicePixelRatio||1),{rotation:d}=e;if(this.renderingDone){const t=d!==_classPrivateFieldGet(this,a),i=s!==_classPrivateFieldGet(this,o);if(t||i){this.hide();(0,n.updateTextLayer)({container:this.div,viewport:e,textDivs:this.textDivs,textDivProperties:this.textDivProperties,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported,mustRescale:i,mustRotate:t});_classPrivateFieldSet(this,o,s);_classPrivateFieldSet(this,a,d)}this.show()}else{this.cancel();null===(t=this.highlighter)||void 0===t||t.setTextMapping(this.textDivs,this.textContentItems);null===(i=this.accessibilityManager)||void 0===i||i.setTextMapping(this.textDivs);this.textLayerRenderTask=(0,n.renderTextLayer)({textContentSource:_classPrivateFieldGet(this,l),container:this.div,viewport:e,textDivs:this.textDivs,textDivProperties:this.textDivProperties,textContentItems:this.textContentItems,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported});await this.textLayerRenderTask.promise;_classPrivateMethodGet(this,c,_finishRendering2).call(this);_classPrivateFieldSet(this,o,s);_classPrivateFieldSet(this,a,d);this.show();null===(r=this.accessibilityManager)||void 0===r||r.enable()}}hide(){if(!this.div.hidden){var e;null===(e=this.highlighter)||void 0===e||e.disable();this.div.hidden=!0}}show(){if(this.div.hidden&&this.renderingDone){var e;this.div.hidden=!1;null===(e=this.highlighter)||void 0===e||e.enable()}}cancel(){var e,t;if(this.textLayerRenderTask){this.textLayerRenderTask.cancel();this.textLayerRenderTask=null}null===(e=this.highlighter)||void 0===e||e.disable();null===(t=this.accessibilityManager)||void 0===t||t.disable();this.textContentItems.length=0;this.textDivs.length=0;this.textDivProperties=new WeakMap}setTextContentSource(e){this.cancel();_classPrivateFieldSet(this,l,e)}};function _finishRendering2(){this.renderingDone=!0;const e=document.createElement("div");e.className="endOfContent";this.div.append(e);_classPrivateMethodGet(this,d,_bindMouse2).call(this)}function _bindMouse2(){const{div:e}=this;e.addEventListener("copy",(t=>{if(!_classPrivateFieldGet(this,s)){const i=e.ownerDocument.getSelection();t.clipboardData.setData("text/plain",(0,r.removeNullCharacters)((0,n.normalizeUnicode)(i.toString().replaceAll(/[\n\r]+/g," "))))}t.preventDefault();t.stopPropagation()}))}},(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.XfaLayerBuilder=void 0;var n=i(176);t.XfaLayerBuilder=class XfaLayerBuilder{constructor(e){let{pageDiv:t,pdfPage:i,annotationStorage:n=null,linkService:r,xfaHtml:s=null}=e;this.pageDiv=t;this.pdfPage=i;this.annotationStorage=n;this.linkService=r;this.xfaHtml=s;this.div=null;this._cancelled=!1}async render(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"display";if("print"===t){const i={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t},r=document.createElement("div");this.pageDiv.append(r);i.div=r;return n.XfaLayer.render(i)}const i=await this.pdfPage.getXfa();if(this._cancelled||!i)return{textDivs:[]};const r={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:i,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};if(this.div)return n.XfaLayer.update(r);this.div=document.createElement("div");this.pageDiv.append(this.div);r.div=this.div;return n.XfaLayer.render(r)}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SecondaryToolbar=void 0;i(87);i(96);i(1);var n=i(106),r=i(209);function _classPrivateMethodInitSpec(e,t){!function _checkPrivateRedeclaration(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t);t.add(e)}function _classPrivateMethodGet(e,t,i){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return i}var s=new WeakSet,a=new WeakSet,o=new WeakSet,l=new WeakSet,c=new WeakSet;t.SecondaryToolbar=class SecondaryToolbar{constructor(e,t,i){_classPrivateMethodInitSpec(this,c);_classPrivateMethodInitSpec(this,l);_classPrivateMethodInitSpec(this,o);_classPrivateMethodInitSpec(this,a);_classPrivateMethodInitSpec(this,s);this.toolbar=e.toolbar;this.toggleButton=e.toggleButton;this.buttons=[{element:e.presentationModeButton,eventName:"presentationmode",close:!0},{element:e.printButton,eventName:"print",close:!0},{element:e.downloadButton,eventName:"download",close:!0},{element:e.viewBookmarkButton,eventName:null,close:!0},{element:e.firstPageButton,eventName:"firstpage",close:!0},{element:e.lastPageButton,eventName:"lastpage",close:!0},{element:e.pageRotateCwButton,eventName:"rotatecw",close:!1},{element:e.pageRotateCcwButton,eventName:"rotateccw",close:!1},{element:e.cursorSelectToolButton,eventName:"switchcursortool",eventDetails:{tool:n.CursorTool.SELECT},close:!0},{element:e.cursorHandToolButton,eventName:"switchcursortool",eventDetails:{tool:n.CursorTool.HAND},close:!0},{element:e.scrollPageButton,eventName:"switchscrollmode",eventDetails:{mode:n.ScrollMode.PAGE},close:!0},{element:e.scrollVerticalButton,eventName:"switchscrollmode",eventDetails:{mode:n.ScrollMode.VERTICAL},close:!0},{element:e.scrollHorizontalButton,eventName:"switchscrollmode",eventDetails:{mode:n.ScrollMode.HORIZONTAL},close:!0},{element:e.scrollWrappedButton,eventName:"switchscrollmode",eventDetails:{mode:n.ScrollMode.WRAPPED},close:!0},{element:e.spreadNoneButton,eventName:"switchspreadmode",eventDetails:{mode:n.SpreadMode.NONE},close:!0},{element:e.spreadOddButton,eventName:"switchspreadmode",eventDetails:{mode:n.SpreadMode.ODD},close:!0},{element:e.spreadEvenButton,eventName:"switchspreadmode",eventDetails:{mode:n.SpreadMode.EVEN},close:!0},{element:e.documentPropertiesButton,eventName:"documentproperties",close:!0}];this.buttons.push({element:e.openFileButton,eventName:"openfile",close:!0});this.items={firstPage:e.firstPageButton,lastPage:e.lastPageButton,pageRotateCw:e.pageRotateCwButton,pageRotateCcw:e.pageRotateCcwButton};this.eventBus=t;this.externalServices=i;this.opened=!1;_classPrivateMethodGet(this,a,_bindClickListeners2).call(this);_classPrivateMethodGet(this,o,_bindCursorToolsListener2).call(this,e);_classPrivateMethodGet(this,l,_bindScrollModeListener2).call(this,e);_classPrivateMethodGet(this,c,_bindSpreadModeListener2).call(this,e);this.reset()}get isOpen(){return this.opened}setPageNumber(e){this.pageNumber=e;_classPrivateMethodGet(this,s,_updateUIState2).call(this)}setPagesCount(e){this.pagesCount=e;_classPrivateMethodGet(this,s,_updateUIState2).call(this)}reset(){this.pageNumber=0;this.pagesCount=0;_classPrivateMethodGet(this,s,_updateUIState2).call(this);this.eventBus.dispatch("secondarytoolbarreset",{source:this})}open(){if(!this.opened){this.opened=!0;(0,n.toggleExpandedBtn)(this.toggleButton,!0,this.toolbar)}}close(){if(this.opened){this.opened=!1;(0,n.toggleExpandedBtn)(this.toggleButton,!1,this.toolbar)}}toggle(){this.opened?this.close():this.open()}};function _updateUIState2(){this.items.firstPage.disabled=this.pageNumber<=1;this.items.lastPage.disabled=this.pageNumber>=this.pagesCount;this.items.pageRotateCw.disabled=0===this.pagesCount;this.items.pageRotateCcw.disabled=0===this.pagesCount}function _bindClickListeners2(){this.toggleButton.addEventListener("click",this.toggle.bind(this));for(const{element:e,eventName:t,close:i,eventDetails:n}of this.buttons)e.addEventListener("click",(r=>{null!==t&&this.eventBus.dispatch(t,{source:this,...n});i&&this.close();this.externalServices.reportTelemetry({type:"buttons",data:{id:e.id}})}))}function _bindCursorToolsListener2(e){let{cursorSelectToolButton:t,cursorHandToolButton:i}=e;this.eventBus._on("cursortoolchanged",(e=>{let{tool:r}=e;(0,n.toggleCheckedBtn)(t,r===n.CursorTool.SELECT);(0,n.toggleCheckedBtn)(i,r===n.CursorTool.HAND)}))}function _bindScrollModeListener2(e){let{scrollPageButton:t,scrollVerticalButton:i,scrollHorizontalButton:s,scrollWrappedButton:a,spreadNoneButton:o,spreadOddButton:l,spreadEvenButton:c}=e;const scrollModeChanged=e=>{let{mode:d}=e;(0,n.toggleCheckedBtn)(t,d===n.ScrollMode.PAGE);(0,n.toggleCheckedBtn)(i,d===n.ScrollMode.VERTICAL);(0,n.toggleCheckedBtn)(s,d===n.ScrollMode.HORIZONTAL);(0,n.toggleCheckedBtn)(a,d===n.ScrollMode.WRAPPED);const h=this.pagesCount>r.PagesCountLimit.FORCE_SCROLL_MODE_PAGE;t.disabled=h;i.disabled=h;s.disabled=h;a.disabled=h;const u=d===n.ScrollMode.HORIZONTAL;o.disabled=u;l.disabled=u;c.disabled=u};this.eventBus._on("scrollmodechanged",scrollModeChanged);this.eventBus._on("secondarytoolbarreset",(e=>{e.source===this&&scrollModeChanged({mode:n.ScrollMode.VERTICAL})}))}function _bindSpreadModeListener2(e){let{spreadNoneButton:t,spreadOddButton:i,spreadEvenButton:r}=e;const spreadModeChanged=e=>{let{mode:s}=e;(0,n.toggleCheckedBtn)(t,s===n.SpreadMode.NONE);(0,n.toggleCheckedBtn)(i,s===n.SpreadMode.ODD);(0,n.toggleCheckedBtn)(r,s===n.SpreadMode.EVEN)};this.eventBus._on("spreadmodechanged",spreadModeChanged);this.eventBus._on("secondarytoolbarreset",(e=>{e.source===this&&spreadModeChanged({mode:n.SpreadMode.NONE})}))}},(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Toolbar=void 0;i(87);i(96);i(1);var n=i(106),r=i(176);function _classPrivateMethodInitSpec(e,t){_checkPrivateRedeclaration(e,t);t.add(e)}function _checkPrivateRedeclaration(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldSet(e,t,i){!function _classApplyDescriptorSet(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=i}}(e,_classExtractFieldDescriptor(e,t,"set"),i);return i}function _classExtractFieldDescriptor(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}function _classPrivateMethodGet(e,t,i){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return i}var s=new WeakMap,a=new WeakSet,o=new WeakSet,l=new WeakSet,c=new WeakSet;t.Toolbar=class Toolbar{constructor(e,t,i){_classPrivateMethodInitSpec(this,c);_classPrivateMethodInitSpec(this,l);_classPrivateMethodInitSpec(this,o);_classPrivateMethodInitSpec(this,a);!function _classPrivateFieldInitSpec(e,t,i){_checkPrivateRedeclaration(e,t);t.set(e,i)}(this,s,{writable:!0,value:!1});this.toolbar=e.container;this.eventBus=t;this.l10n=i;this.buttons=[{element:e.previous,eventName:"previouspage"},{element:e.next,eventName:"nextpage"},{element:e.zoomIn,eventName:"zoomin"},{element:e.zoomOut,eventName:"zoomout"},{element:e.print,eventName:"print"},{element:e.download,eventName:"download"},{element:e.editorFreeTextButton,eventName:"switchannotationeditormode",eventDetails:{get mode(){const{classList:t}=e.editorFreeTextButton;return t.contains("toggled")?r.AnnotationEditorType.NONE:r.AnnotationEditorType.FREETEXT}}},{element:e.editorInkButton,eventName:"switchannotationeditormode",eventDetails:{get mode(){const{classList:t}=e.editorInkButton;return t.contains("toggled")?r.AnnotationEditorType.NONE:r.AnnotationEditorType.INK}}},{element:e.editorStampButton,eventName:"switchannotationeditormode",eventDetails:{get mode(){const{classList:t}=e.editorStampButton;return t.contains("toggled")?r.AnnotationEditorType.NONE:r.AnnotationEditorType.STAMP}}}];this.buttons.push({element:e.openFile,eventName:"openfile"});this.items={numPages:e.numPages,pageNumber:e.pageNumber,scaleSelect:e.scaleSelect,customScaleOption:e.customScaleOption,previous:e.previous,next:e.next,zoomIn:e.zoomIn,zoomOut:e.zoomOut};_classPrivateMethodGet(this,a,_bindListeners2).call(this,e);this.reset()}setPageNumber(e,t){this.pageNumber=e;this.pageLabel=t;_classPrivateMethodGet(this,l,_updateUIState2).call(this,!1)}setPagesCount(e,t){this.pagesCount=e;this.hasPageLabels=t;_classPrivateMethodGet(this,l,_updateUIState2).call(this,!0)}setPageScale(e,t){this.pageScaleValue=(e||t).toString();this.pageScale=t;_classPrivateMethodGet(this,l,_updateUIState2).call(this,!1)}reset(){this.pageNumber=0;this.pageLabel=null;this.hasPageLabels=!1;this.pagesCount=0;this.pageScaleValue=n.DEFAULT_SCALE_VALUE;this.pageScale=n.DEFAULT_SCALE;_classPrivateMethodGet(this,l,_updateUIState2).call(this,!0);this.updateLoadingIndicatorState();this.eventBus.dispatch("toolbarreset",{source:this})}updateLoadingIndicatorState(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{pageNumber:t}=this.items;t.classList.toggle("visiblePageIsLoading",e)}};function _bindListeners2(e){const{pageNumber:t,scaleSelect:i}=this.items,r=this;for(const{element:e,eventName:t,eventDetails:i}of this.buttons)e.addEventListener("click",(e=>{null!==t&&this.eventBus.dispatch(t,{source:this,...i})}));t.addEventListener("click",(function(){this.select()}));t.addEventListener("change",(function(){r.eventBus.dispatch("pagenumberchanged",{source:r,value:this.value})}));i.addEventListener("change",(function(){"custom"!==this.value&&r.eventBus.dispatch("scalechanged",{source:r,value:this.value})}));i.addEventListener("click",(function(e){const t=e.target;this.value===r.pageScaleValue&&"OPTION"===t.tagName.toUpperCase()&&this.blur()}));i.oncontextmenu=n.noContextMenuHandler;this.eventBus._on("localized",(()=>{_classPrivateFieldSet(this,s,!0);_classPrivateMethodGet(this,c,_adjustScaleWidth2).call(this);_classPrivateMethodGet(this,l,_updateUIState2).call(this,!0)}));_classPrivateMethodGet(this,o,_bindEditorToolsListener2).call(this,e)}function _bindEditorToolsListener2(e){let{editorFreeTextButton:t,editorFreeTextParamsToolbar:i,editorInkButton:s,editorInkParamsToolbar:a,editorStampButton:o}=e;const editorModeChanged=e=>{let{mode:l}=e;(0,n.toggleCheckedBtn)(t,l===r.AnnotationEditorType.FREETEXT,i);(0,n.toggleCheckedBtn)(s,l===r.AnnotationEditorType.INK,a);(0,n.toggleCheckedBtn)(o,l===r.AnnotationEditorType.STAMP);const c=l===r.AnnotationEditorType.DISABLE;t.disabled=c;s.disabled=c;o.disabled=c};this.eventBus._on("annotationeditormodechanged",editorModeChanged);this.eventBus._on("toolbarreset",(e=>{e.source===this&&editorModeChanged({mode:r.AnnotationEditorType.DISABLE})}))}function _updateUIState2(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!function _classPrivateFieldGet(e,t){return function _classApplyDescriptorGet(e,t){return t.get?t.get.call(e):t.value}(e,_classExtractFieldDescriptor(e,t,"get"))}(this,s))return;const{pageNumber:t,pagesCount:i,pageScaleValue:r,pageScale:a,items:o}=this;if(e){if(this.hasPageLabels)o.pageNumber.type="text";else{o.pageNumber.type="number";this.l10n.get("of_pages",{pagesCount:i}).then((e=>{o.numPages.textContent=e}))}o.pageNumber.max=i}if(this.hasPageLabels){o.pageNumber.value=this.pageLabel;this.l10n.get("page_of_pages",{pageNumber:t,pagesCount:i}).then((e=>{o.numPages.textContent=e}))}else o.pageNumber.value=t;o.previous.disabled=t<=1;o.next.disabled=t>=i;o.zoomOut.disabled=a<=n.MIN_SCALE;o.zoomIn.disabled=a>=n.MAX_SCALE;this.l10n.get("page_scale_percent",{scale:Math.round(1e4*a)/100}).then((e=>{let t=!1;for(const e of o.scaleSelect.options)if(e.value===r){e.selected=!0;t=!0}else e.selected=!1;if(!t){o.customScaleOption.textContent=e;o.customScaleOption.selected=!0}}))}async function _adjustScaleWidth2(){const{items:e,l10n:t}=this,i=Promise.all([t.get("page_scale_auto"),t.get("page_scale_actual"),t.get("page_scale_fit"),t.get("page_scale_width")]);await n.animationStarted;const r=getComputedStyle(e.scaleSelect),s=parseFloat(r.getPropertyValue("--scale-select-width")),a=document.createElement("canvas"),o=a.getContext("2d",{alpha:!1});o.font="".concat(r.fontSize," ").concat(r.fontFamily);let l=0;for(const e of await i){const{width:t}=o.measureText(e);t>l&&(l=t)}l+=.3*s;if(l>s){e.scaleSelect.parentNode.style.setProperty("--scale-select-width","".concat(l,"px"))}a.width=0;a.height=0}},(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ViewHistory=void 0;i(180);i(87);i(163);t.ViewHistory=class ViewHistory{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;this.fingerprint=e;this.cacheSize=t;this._initializedPromise=this._readFromStorage().then((e=>{const t=JSON.parse(e||"{}");let i=-1;if(Array.isArray(t.files)){for(;t.files.length>=this.cacheSize;)t.files.shift();for(let e=0,n=t.files.length;e<n;e++){if(t.files[e].fingerprint===this.fingerprint){i=e;break}}}else t.files=[];-1===i&&(i=t.files.push({fingerprint:this.fingerprint})-1);this.file=t.files[i];this.database=t}))}async _writeToStorage(){const e=JSON.stringify(this.database);localStorage.setItem("pdfjs.history",e)}async _readFromStorage(){return localStorage.getItem("pdfjs.history")}async set(e,t){await this._initializedPromise;this.file[e]=t;return this._writeToStorage()}async setMultiple(e){await this._initializedPromise;for(const t in e)this.file[t]=e[t];return this._writeToStorage()}async get(e,t){await this._initializedPromise;const i=this.file[e];return void 0!==i?i:t}async getMultiple(e){await this._initializedPromise;const t=Object.create(null);for(const i in e){const n=this.file[i];t[i]=void 0!==n?n:e[i]}return t}}},(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BasePreferences=void 0;i(96);i(1);i(177);function _classPrivateFieldInitSpec(e,t,i){!function _checkPrivateRedeclaration(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t);t.set(e,i)}function _classPrivateFieldGet(e,t){return function _classApplyDescriptorGet(e,t){if(t.get)return t.get.call(e);return t.value}(e,_classExtractFieldDescriptor(e,t,"get"))}function _classPrivateFieldSet(e,t,i){!function _classApplyDescriptorSet(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=i}}(e,_classExtractFieldDescriptor(e,t,"set"),i);return i}function _classExtractFieldDescriptor(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}var n=new WeakMap,r=new WeakMap,s=new WeakMap;class BasePreferences{constructor(){_classPrivateFieldInitSpec(this,n,{writable:!0,value:Object.freeze({})});_classPrivateFieldInitSpec(this,r,{writable:!0,value:Object.create(null)});_classPrivateFieldInitSpec(this,s,{writable:!0,value:null});if(this.constructor===BasePreferences)throw new Error("Cannot initialize BasePreferences.");_classPrivateFieldSet(this,s,this._readFromStorage(_classPrivateFieldGet(this,n)).then((e=>{for(const t in _classPrivateFieldGet(this,n)){const i=null==e?void 0:e[t];typeof i==typeof _classPrivateFieldGet(this,n)[t]&&(_classPrivateFieldGet(this,r)[t]=i)}})))}async _writeToStorage(e){throw new Error("Not implemented: _writeToStorage")}async _readFromStorage(e){throw new Error("Not implemented: _readFromStorage")}async reset(){await _classPrivateFieldGet(this,s);const e=_classPrivateFieldGet(this,r);_classPrivateFieldSet(this,r,Object.create(null));return this._writeToStorage(_classPrivateFieldGet(this,n)).catch((t=>{_classPrivateFieldSet(this,r,e);throw t}))}async set(e,t){await _classPrivateFieldGet(this,s);const i=_classPrivateFieldGet(this,n)[e],a=_classPrivateFieldGet(this,r);if(void 0===i)throw new Error('Set preference: "'.concat(e,'" is undefined.'));if(void 0===t)throw new Error("Set preference: no value is specified.");const o=typeof t,l=typeof i;if(o!==l){if("number"!==o||"string"!==l)throw new Error('Set preference: "'.concat(t,'" is a ').concat(o,", expected a ").concat(l,"."));t=t.toString()}else if("number"===o&&!Number.isInteger(t))throw new Error('Set preference: "'.concat(t,'" must be an integer.'));_classPrivateFieldGet(this,r)[e]=t;return this._writeToStorage(_classPrivateFieldGet(this,r)).catch((e=>{_classPrivateFieldSet(this,r,a);throw e}))}async get(e){var t;await _classPrivateFieldGet(this,s);const i=_classPrivateFieldGet(this,n)[e];if(void 0===i)throw new Error('Get preference: "'.concat(e,'" is undefined.'));return null!==(t=_classPrivateFieldGet(this,r)[e])&&void 0!==t?t:i}async getAll(){await _classPrivateFieldGet(this,s);const e=Object.create(null);for(const i in _classPrivateFieldGet(this,n)){var t;e[i]=null!==(t=_classPrivateFieldGet(this,r)[i])&&void 0!==t?t:_classPrivateFieldGet(this,n)[i]}return e}}t.BasePreferences=BasePreferences},(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DownloadManager=void 0;i(96);i(1);i(166);i(107);i(120);i(121);i(122);var n=i(176);function _classPrivateFieldInitSpec(e,t,i){!function _checkPrivateRedeclaration(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t);t.set(e,i)}function _classPrivateFieldGet(e,t){var i=function _classExtractFieldDescriptor(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}(e,t,"get");return function _classApplyDescriptorGet(e,t){if(t.get)return t.get.call(e);return t.value}(e,i)}function download(e,t){const i=document.createElement("a");if(!i.click)throw new Error('DownloadManager: "a.click()" is not supported.');i.href=e;i.target="_parent";"download"in i&&(i.download=t);(document.body||document.documentElement).append(i);i.click();i.remove()}var r=new WeakMap;t.DownloadManager=class DownloadManager{constructor(){_classPrivateFieldInitSpec(this,r,{writable:!0,value:new WeakMap})}downloadUrl(e,t,i){(0,n.createValidAbsoluteUrl)(e,"http://example.com")?download(e+"#pdfjs.action=download",t):console.error("downloadUrl - not a valid URL: ".concat(e))}downloadData(e,t,i){download(URL.createObjectURL(new Blob([e],{type:i})),t)}openOrDownloadData(e,t,i){const s=(0,n.isPdfFile)(i),a=s?"application/pdf":"";if(s){let n,s=_classPrivateFieldGet(this,r).get(e);if(!s){s=URL.createObjectURL(new Blob([t],{type:a}));_classPrivateFieldGet(this,r).set(e,s)}n="?file="+encodeURIComponent(s+"#"+i);try{window.open(n);return!0}catch(t){console.error("openOrDownloadData: ".concat(t));URL.revokeObjectURL(s);_classPrivateFieldGet(this,r).delete(e)}}this.downloadData(t,i,a);return!1}download(e,t,i,n){download(URL.createObjectURL(e),i)}}},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.IRenderableView=t.IPDFLinkService=t.IL10n=t.IDownloadManager=void 0;t.IPDFLinkService=class IPDFLinkService{get pagesCount(){}get page(){}set page(e){}get rotation(){}set rotation(e){}get isInPresentationMode(){}get externalLinkEnabled(){}set externalLinkEnabled(e){}async goToDestination(e){}goToPage(e){}addLinkAttributes(e,t){}getDestinationHash(e){}getAnchorUrl(e){}setHash(e){}executeNamedAction(e){}executeSetOCGState(e){}cachePageRef(e,t){}};t.IRenderableView=class IRenderableView{constructor(){this.resume=null}get renderingId(){}get renderingState(){}async draw(){}};t.IDownloadManager=class IDownloadManager{downloadUrl(e,t,i){}downloadData(e,t,i){}openOrDownloadData(e,t,i){}download(e,t,i,n){}};t.IL10n=class IL10n{async getLanguage(){}async getDirection(){}async get(e){}async translate(e){}}}],t={};function __w_pdfjs_require__(i){var n=t[i];if(void 0!==n)return n.exports;var r=t[i]={exports:{}};e[i].call(r.exports,r,r.exports,__w_pdfjs_require__);return r.exports}var i={};(()=>{"use strict";var e=i;Object.defineProperty(e,"__esModule",{value:!0});Object.defineProperty(e,"AppOptions",{enumerable:!0,get:function(){return l.AppOptions}});Object.defineProperty(e,"BasePreferences",{enumerable:!0,get:function(){return c.BasePreferences}});Object.defineProperty(e,"DEFAULT_SCALE",{enumerable:!0,get:function(){return t.DEFAULT_SCALE}});Object.defineProperty(e,"DEFAULT_SCALE_VALUE",{enumerable:!0,get:function(){return t.DEFAULT_SCALE_VALUE}});Object.defineProperty(e,"DefaultExternalServices",{enumerable:!0,get:function(){return n.DefaultExternalServices}});Object.defineProperty(e,"DownloadManager",{enumerable:!0,get:function(){return d.DownloadManager}});Object.defineProperty(e,"EventBus",{enumerable:!0,get:function(){return h.EventBus}});Object.defineProperty(e,"FindState",{enumerable:!0,get:function(){return r.FindState}});Object.defineProperty(e,"IL10n",{enumerable:!0,get:function(){return u.IL10n}});Object.defineProperty(e,"IPDFFindBar",{enumerable:!0,get:function(){return s.IPDFFindBar}});Object.defineProperty(e,"IPasswordPrompt",{enumerable:!0,get:function(){return p.IPasswordPrompt}});Object.defineProperty(e,"LinkTarget",{enumerable:!0,get:function(){return a.LinkTarget}});Object.defineProperty(e,"MAX_SCALE",{enumerable:!0,get:function(){return t.MAX_SCALE}});Object.defineProperty(e,"MIN_SCALE",{enumerable:!0,get:function(){return t.MIN_SCALE}});e.ObsidianViewer=e.ObsidianServices=void 0;Object.defineProperty(e,"OutputScale",{enumerable:!0,get:function(){return t.OutputScale}});Object.defineProperty(e,"PDFFindController",{enumerable:!0,get:function(){return r.PDFFindController}});Object.defineProperty(e,"PDFLinkService",{enumerable:!0,get:function(){return a.PDFLinkService}});Object.defineProperty(e,"PDFPageView",{enumerable:!0,get:function(){return g.PDFPageView}});Object.defineProperty(e,"PDFRenderingQueue",{enumerable:!0,get:function(){return v.PDFRenderingQueue}});Object.defineProperty(e,"PDFScriptingManager",{enumerable:!0,get:function(){return _.PDFScriptingManager}});Object.defineProperty(e,"PDFSidebar",{enumerable:!0,get:function(){return o.PDFSidebar}});Object.defineProperty(e,"PDFThumbnailView",{enumerable:!0,get:function(){return w.PDFThumbnailView}});Object.defineProperty(e,"PDFThumbnailViewer",{enumerable:!0,get:function(){return m.PDFThumbnailViewer}});Object.defineProperty(e,"PDFViewer",{enumerable:!0,get:function(){return P.PDFViewer}});Object.defineProperty(e,"PDFViewerApplication",{enumerable:!0,get:function(){return n.PDFViewerApplication}});Object.defineProperty(e,"SIDEBAR_MIN_WIDTH",{enumerable:!0,get:function(){return o.SIDEBAR_MIN_WIDTH}});Object.defineProperty(e,"approximateFraction",{enumerable:!0,get:function(){return t.approximateFraction}});Object.defineProperty(e,"parseQueryString",{enumerable:!0,get:function(){return t.parseQueryString}});Object.defineProperty(e,"removeNullCharacters",{enumerable:!0,get:function(){return t.removeNullCharacters}});Object.defineProperty(e,"roundToDivide",{enumerable:!0,get:function(){return t.roundToDivide}});Object.defineProperty(e,"scrollIntoView",{enumerable:!0,get:function(){return t.scrollIntoView}});__w_pdfjs_require__(1);__w_pdfjs_require__(87);__w_pdfjs_require__(91);__w_pdfjs_require__(96);var t=__w_pdfjs_require__(106),n=__w_pdfjs_require__(162),r=__w_pdfjs_require__(192),s=__w_pdfjs_require__(191),a=__w_pdfjs_require__(179),o=__w_pdfjs_require__(182),l=__w_pdfjs_require__(177),c=__w_pdfjs_require__(222),d=__w_pdfjs_require__(223),h=__w_pdfjs_require__(178),u=__w_pdfjs_require__(224),p=__w_pdfjs_require__(185),f=__w_pdfjs_require__(197),g=__w_pdfjs_require__(211),v=__w_pdfjs_require__(199),_=__w_pdfjs_require__(206),w=__w_pdfjs_require__(208),m=__w_pdfjs_require__(207),P=__w_pdfjs_require__(209);function _defineProperty(e,t,i){(t=function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i;return e}class ObsidianPreferences extends c.BasePreferences{constructor(e){super();_defineProperty(this,"preferences",null);this.preferences=e}async _writeToStorage(){}async _readFromStorage(){return this.preferences}async getAll(){return this.preferences}}class ObsidianServices extends n.DefaultExternalServices{constructor(e,t){super();this.preferences=e;this.l10n=t}createDownloadManager(){return new d.DownloadManager}createPreferences(){return new ObsidianPreferences(this.preferences)}createL10n(){return this.l10n}createScripting(){return null}}e.ObsidianServices=ObsidianServices;const noop=()=>{};class ObsidianViewer extends n.PDFViewerApplication{constructor(e){super();_defineProperty(this,"dom",null);_defineProperty(this,"subpath",null);_defineProperty(this,"height","auto");_defineProperty(this,"isEmbed",!1);_defineProperty(this,"pageBackground",null);_defineProperty(this,"pageInvert",!1);_defineProperty(this,"isViewerEmbedded",!1);_defineProperty(this,"setTitle",noop);_defineProperty(this,"progress",noop);_defineProperty(this,"beforePrint",noop);_defineProperty(this,"afterPrint",noop);_defineProperty(this,"_forceCssTheme",noop);const{baseConfig:t,l10n:i,eventBus:n,removePageBorders:r,dom:s,subpath:a,height:o,isEmbed:l,pageBackground:c,pageInvert:d}=e;this.externalServices=new ObsidianServices(t,i);this.l10n=i;this.removePageBorders=r;this.dom=s;this.eventBus=n;this.appConfig={appContainer:s.containerEl};c&&CSS.supports("color",c)&&(this.pageBackground=c||null);this.pageInvert=d;void 0!==a&&(this.subpath=a);void 0!==o&&(this.height=o);void 0!==l&&(this.isEmbed=l);n._on("resize",(()=>{"page"===this.height&&this.setHeight("page")}))}onViewerReattached(){if(!this.isInitialViewSet)return;const{pageNumber:e,scale:t,left:i,top:n}=this.location||{};e&&this.pdfLinkService.setHash("page=".concat(e,"&zoom=").concat(t,",").concat(i,",").concat(n))}setHeight(e){const{toolbar:t,pdfViewer:i,dom:n}=this,r=t.toolbarEl.clientHeight;"number"==typeof e?n.containerEl.style.height="".concat(e+r,"px"):"page"===e&&i._pagesCapability&&i._pagesCapability.promise.then((()=>{const e=i.getPageView(i._currentPageNumber-1).viewport;n.containerEl.style.height="".concat(e.height+r,"px")}));this.height=null!=e?e:"auto"}setBackground(e,t){this.pageBackground=e;this.pageInvert=t;this.pdfViewer.pageBackground=e;this.pdfViewer.pageInvert=t;this.pdfViewer._pages.forEach((i=>{i.pageBackground=e;i.pageInvert=t;i.update({})}));this.pdfViewer.update();this.pdfThumbnailViewer.pageBackground=e;this.pdfThumbnailViewer.pageInvert=t;this.pdfThumbnailViewer._thumbnails.forEach((i=>{i.pageBackground=e;i.pageInvert=t;i.update({})}))}applySubpath(e){const i=e.includes("=");if(!i){this.isInitialViewSet&&this.pdfLinkService.setHash(e);this.subpath=e;return}const n=i?(0,t.parseQueryString)(e):null,r=null==n?void 0:n.get("zoom"),s=null==n?void 0:n.get("page"),a=null==n?void 0:n.get("search"),o=[];for(const[e,t]of[["zoom",r],["page",s],["search",a]])t&&o.push("".concat(e,"=").concat(t));if(o.length){this.isInitialViewSet&&this.pdfLinkService.setHash(o.join("&"));this.subpath=e}if(this.isEmbed){var l;const e=null!==(l=null==n?void 0:n.get("height"))&&void 0!==l?l:this.height;e&&this.setHeight("page"===e||"auto"===e?e:parseInt(e))}}async _initializeViewerComponents(){const{l10n:e,eventBus:i,removePageBorders:n}=this,{contentEl:c,outlineViewEl:d,sidebarContainerEl:h,thumbnailViewEl:u,viewerContainerEl:p,viewerEl:g}=this.dom,w=this.pdfRenderingQueue=new v.PDFRenderingQueue;w.onIdle=this._cleanup.bind(this);const b=this.pdfLinkService=new a.PDFLinkService({eventBus:i,externalLinkTarget:l.AppOptions.get("externalLinkTarget"),externalLinkRel:l.AppOptions.get("externalLinkRel"),ignoreDestinationZoom:l.AppOptions.get("ignoreDestinationZoom")}),S=this.downloadManager=this.externalServices.createDownloadManager(),y=this.findController=new r.PDFFindController({linkService:b,eventBus:i}),E=new _.PDFScriptingManager({eventBus:i,sandboxBundleSrc:null,scriptingFactory:this.externalServices,docPropertiesLookup:this._scriptingDocProperties.bind(this)});this.pdfScriptingManager=E;this.findBar||(this.findBar=new s.PDFFindBar(c,i,this.l10n));const M=this.pdfViewer=new P.PDFViewer({container:p,viewer:g,eventBus:i,renderingQueue:w,linkService:b,downloadManager:S,findController:y,removePageBorders:n,l10n:e,textLayerMode:l.AppOptions.get("textLayerMode"),annotationMode:l.AppOptions.get("annotationMode"),annotationEditorMode:l.AppOptions.get("annotationEditorMode"),imageResourcesPath:l.AppOptions.get("imageResourcesPath"),enablePrintAutoRotate:l.AppOptions.get("enablePrintAutoRotate"),useOnlyCssZoom:l.AppOptions.get("useOnlyCssZoom"),isOffscreenCanvasSupported:l.AppOptions.get("isOffscreenCanvasSupported"),maxCanvasPixels:l.AppOptions.get("maxCanvasPixels"),enablePermissions:l.AppOptions.get("enablePermissions"),pageBackground:this.pageBackground,pageInvert:this.pageInvert}),I=this.pdfThumbnailViewer=new m.PDFThumbnailViewer({container:u,eventBus:i,renderingQueue:w,linkService:b,l10n:e,pageBackground:this.pageBackground,pageInvert:this.pageInvert});this.pdfOutlineViewer?this.pdfOutlineViewer.linkService=b:this.pdfOutlineViewer=new f.PDFOutlineViewer({container:d,eventBus:i,linkService:b,downloadManager:S});const T=this.pdfSidebar=new o.PDFSidebar({elements:{outerContainer:c,outlineView:d,sidebarContainer:h,thumbnailView:u,resizer:h.createDiv("pdf-sidebar-resizer")},pdfViewer:M,pdfThumbnailViewer:I,eventBus:i,l10n:e});w.setViewer(M);w.setThumbnailViewer(I);b.setViewer(M);T.onToggled=this.forceRendering.bind(this);T.onUpdateThumbnails=()=>{for(const i of M.getCachedPageViews())if(i.renderingState===t.RenderingStates.FINISHED){var e;null===(e=this.pdfThumbnailViewer.getThumbnail(i.id-1))||void 0===e||e.setImage(i)}this.pdfThumbnailViewer.scrollThumbnailIntoView(M.currentPageNumber)}}getInitialViewOverrides(e,i,n){var r,s,a;const{subpath:o,height:c,isEmbed:d}=this,{rotation:h,scrollMode:u,spreadMode:p,sidebarWidth:f}=n,g=null==o?void 0:o.includes("=");let{sidebarView:v}=n;if(o&&!g)return{hash:o,rotation:h,sidebarView:v,scrollMode:u,spreadMode:p,sidebarWidth:f};const _=g?(0,t.parseQueryString)(o):null,w=l.AppOptions.get("viewOnLoad"),m=null==_?void 0:_.get("search"),P=null!==(r=null==_?void 0:_.get("height"))&&void 0!==r?r:c;let b=null!==(s=null==_?void 0:_.get("page"))&&void 0!==s?s:e.page,S=null!==(a=null==_?void 0:_.get("zoom"))&&void 0!==a?a:l.AppOptions.get("defaultZoomValue");if(d){v=0;b=null==_?void 0:_.get("page");P&&this.setHeight("page"===P||"auto"===P?P:parseInt(P))}else!o&&e.page&&1!==w&&S&&(S+=",".concat(e.scrollLeft,",").concat(e.scrollTop));const y=[];for(const[e,t]of[["zoom",S],["page",b],["search",m]])t&&y.push("".concat(e,"=").concat(t));return{hash:y.join("&"),rotation:h,sidebarView:v,scrollMode:u,spreadMode:p,sidebarWidth:f}}get supportsPrinting(){return!1}get loadingBar(){return null}}e.ObsidianViewer=ObsidianViewer})();return i})()));